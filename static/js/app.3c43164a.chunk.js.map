{"version":3,"sources":["assets/sounds/complete.wav","assets/icons/appIcon.png","assets/images/memoryPro.png","assets/images/superHearing.png","assets/images/superRadar.png","app/theme.ts","app/core/contexts/ThemeContext.tsx","app/core/hooks/useTheme.ts","app/shared/components/TextInput.tsx","app/core/hooks/usePlaySound.ts","app/shared/components/Pressable.tsx","app/screens/Login/components/Button.tsx","app/core/contexts/AuthStorageContext.tsx","app/core/hooks/useAuthStorage.ts","app/core/utils/errorHandler.ts","environments/environment.ts","app/core/hooks/useLogin.ts","app/core/hooks/useMediaQuery.ts","app/screens/Login/index.tsx","app/screens/Home/components/Task/Title.tsx","app/screens/Home/components/Task/Description.tsx","app/screens/Home/components/Task/Button.tsx","app/core/utils/hexToRgba.ts","app/screens/Home/components/Task/index.tsx","app/screens/Home/components/Title.tsx","app/screens/Home/components/Placeholder.tsx","app/shared/components/ErrorScreen.tsx","app/core/hooks/Task/useTasks.ts","app/screens/Home/index.tsx","app/screens/Task/screens/Introduction/components/Title.tsx","app/screens/Task/screens/Introduction/components/Keywords.tsx","app/screens/Task/screens/Introduction/components/Description.tsx","app/screens/Task/screens/Introduction/components/Placeholder.tsx","app/screens/Task/screens/Introduction/components/Section.tsx","app/shared/enums/PreTaskTypeQuestion.enum.ts","app/core/hooks/Task/useIntroduction.ts","app/core/hooks/Task/useProgress.ts","app/core/contexts/TaskContext.tsx","app/core/hooks/Task/useTaskContext.ts","app/screens/Task/screens/Introduction/index.tsx","app/core/contexts/PreTaskContext.tsx","app/core/hooks/Task/PreTask/usePreTaskContext.ts","app/core/hooks/Task/PreTask/usePreTask.ts","app/screens/Task/screens/PreTask/screens/Loading.tsx","app/screens/Task/screens/PreTask/components/Instructions.tsx","app/screens/Task/components/Option.tsx","app/screens/Task/components/Modal.tsx","app/core/hooks/useTextToSpeech.ts","app/screens/Task/screens/PreTask/screens/MultipleChoice.tsx","app/screens/Task/screens/PreTask/screens/FillBlank.tsx","app/screens/Task/screens/PreTask/screens/FlashCards/components/FlipCard.tsx","app/screens/Task/screens/PreTask/screens/FlashCards/components/Option.tsx","app/core/utils/shuffleList.ts","app/screens/Task/screens/PreTask/screens/FlashCards/index.tsx","app/screens/Task/screens/PreTask/screens/Order/components/Option.tsx","app/screens/Task/screens/PreTask/screens/Order/components/AnswerBox.tsx","app/screens/Task/screens/PreTask/screens/Order/index.tsx","app/screens/Task/screens/PreTask/screens/AudioMultipleChoice.tsx","app/screens/Task/screens/PreTask/screens/AudioOrder/components/Option.tsx","app/screens/Task/screens/PreTask/screens/AudioOrder/components/AnswerBox.tsx","app/screens/Task/components/AudioPlayer.tsx","app/screens/Task/screens/PreTask/screens/AudioOrder/index.tsx","app/core/hooks/useDebounce.ts","app/core/contexts/RecordContext.tsx","app/core/hooks/useRecordContext.ts","app/core/hooks/Task/PosTask/useRecord.ts","app/screens/Task/components/Record.tsx","app/screens/Task/screens/PreTask/screens/AudioSpeaking/index.tsx","app/screens/Task/screens/PreTask/screens/OrderAWord/components/Option.tsx","app/screens/Task/screens/PreTask/screens/OrderAWord/components/AnswerBox.tsx","app/screens/Task/screens/PreTask/screens/OrderAWord/index.tsx","app/screens/Task/screens/PreTask/screens/AudioOrderAWord/components/Option.tsx","app/screens/Task/screens/PreTask/screens/AudioOrderAWord/components/AnswerBox.tsx","app/screens/Task/screens/PreTask/screens/AudioOrderAWord/index.tsx","app/screens/Task/screens/PreTask/screens/Complete.tsx","app/screens/Task/screens/PreTask/index.tsx","app/shared/enums/SocketEvents.enum.ts","app/core/listeners/socket.ts","app/core/hooks/Task/DurinTask/useImageStackStore.ts","app/core/contexts/DuringTaskContext.tsx","app/core/hooks/Task/DurinTask/useDuringTaskContext.ts","app/screens/Task/screens/DuringTask/screens/WaitingActive.tsx","app/shared/enums/Power.enum.ts","app/core/hooks/Task/DurinTask/useTeam.ts","app/screens/Task/screens/DuringTask/screens/ChooseGroup/components/GroupCard.tsx","app/screens/Task/screens/DuringTask/screens/ChooseGroup/components/Placeholder.tsx","app/core/hooks/Task/DurinTask/useTeams.ts","app/screens/Task/screens/DuringTask/screens/ChooseGroup/index.tsx","app/screens/Task/screens/DuringTask/components/Title.tsx","app/screens/Task/screens/DuringTask/screens/WaitingBegin/components/Power.tsx","app/screens/Task/screens/DuringTask/screens/WaitingBegin/components/Placeholder.tsx","app/shared/enums/Character.enum.ts","app/core/hooks/Task/DurinTask/usePower.ts","app/screens/Task/screens/DuringTask/screens/WaitingBegin/index.tsx","app/screens/Task/components/History.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/Placeholder.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/PositionBar.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/Query/MemoryProView.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/Query/SuperRadarView.tsx","app/shared/enums/Mechanics.enum.ts","app/screens/Task/screens/DuringTask/screens/Question/components/Query/SuperHearing.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/Query/DefaultView.tsx","app/screens/Task/screens/DuringTask/screens/Question/components/Query/index.tsx","app/core/hooks/Task/DurinTask/useDuringTaskQuestion.ts","app/core/hooks/useTime.ts","app/screens/Task/screens/DuringTask/components/ImageStack.tsx","app/screens/Task/components/OptionImage.tsx","app/screens/Task/screens/DuringTask/screens/Question/index.tsx","app/screens/Task/screens/DuringTask/screens/FinalScore.tsx","app/core/hooks/Task/DurinTask/useDuringTask.ts","app/screens/Task/screens/DuringTask/index.tsx","app/shared/enums/PosTaskQuestion.enum.ts","app/core/contexts/PosTaskContext.tsx","app/screens/Task/screens/PosTask/screens/Open/index.tsx","app/core/hooks/Task/PosTask/usePosTaskContext.ts","app/core/hooks/Task/PosTask/usePosTask.ts","app/screens/Task/screens/PosTask/screens/Complete.tsx","app/screens/Task/screens/PosTask/components/Instructions.tsx","app/screens/Task/components/LoadingModal.tsx","app/screens/Task/screens/PosTask/screens/FillBlank.tsx","app/screens/Task/screens/PosTask/screens/Loading.tsx","app/screens/Task/screens/PosTask/screens/Open/components/Title.tsx","app/screens/Task/screens/PosTask/screens/SelectAndSpeaking/components/Question/Option.tsx","app/screens/Task/screens/PosTask/screens/SelectAndSpeaking/components/Question/index.tsx","app/screens/Task/screens/PosTask/screens/SelectAndSpeaking/components/Title.tsx","app/screens/Task/screens/PosTask/screens/SelectAndSpeaking/index.tsx","app/screens/Task/screens/PosTask/index.tsx","app/shared/components/HomeButton.tsx","app/shared/components/ContinueButton.tsx","app/screens/Task/components/Header.tsx","app/screens/Task/index.tsx","app/shared/components/AccessibilityMenu/AccessibilityOption.tsx","app/core/utils/invertColor.ts","app/shared/components/AccessibilityMenu/Options.tsx","app/shared/components/AccessibilityMenu/index.tsx","app/shared/components/SafeAreaViewAndroid.tsx","app/core/utils/authStorage.ts","App.tsx","assets/sounds/tap.wav","assets/sounds/loginSucceeded.wav","assets/sounds/loginFailed.wav","assets/sounds/flashcard.wav","assets/sounds/startRecording.wav","assets/sounds/stopRecording.wav","assets/images/choose_habitat_1.jpg","assets/icons/contrast.png","assets/icons/increaseFont.png","assets/icons/fontFamily.png","assets/icons/spacing.png","assets/icons/accessibility.png","assets/fonts/Poppins/Poppins-Regular.ttf","assets/fonts/Poppins/Poppins-Medium.ttf","assets/fonts/Poppins/Poppins-Bold.ttf","assets/fonts/Roboto/Roboto-Regular.ttf","assets/fonts/Roboto/Roboto-Medium.ttf","assets/fonts/Roboto/Roboto-Bold.ttf","assets/fonts/Ubuntu/Ubuntu-Regular.ttf","assets/fonts/Ubuntu/Ubuntu-Medium.ttf","assets/fonts/Ubuntu/Ubuntu-Bold.ttf","assets/sounds/success.wav","assets/sounds/wrong.wav"],"names":["module","exports","theme","colors","white","black","gray","yellow","bluerGreen","green","darkGreen","red","blue","orange","borderRadius","small","medium","large","full","shadow","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","fontSize","xs","xl","xxl","xxxl","xxxxl","xxxxxl","xxxxxxl","fontFamily","primary","fontWeight","regular","bold","spacing","ThemeContext","React","createContext","importedTheme","_newTheme","ThemeProvider","children","useState","setTheme","Provider","value","newTheme","useTheme","useContext","getStyles","StyleSheet","create","constainer","backgroundColor","marginBottom","input","borderColor","color","paddingVertical","borderWidth","paddingHorizontal","letterSpacing","text","error","TextInput","name","label","control","trim","props","styles","View","style","Text","rules","required","render","field","onChange","onBlur","onChangeText","placeholder","usePlaySound","soundPath","soundPathDescription","soundObject","setSoundObject","playSound","sound","Audio","Sound","createAsync","playAsync","useEffect","unloadAsync","undefined","Pressable","onPress","require","event","button","padding","marginTop","flexDirection","justifyContent","alignItems","Button","title","AuthStorageContext","useAuthStorage","authStorage","Error","errorHandler","err","erroMap","errorResponse","response","message","get","status","environment","errors","Map","useLogin","playSoundSuccess","playSoundError","loading","setLoading","setError","data","setData","login","useCallback","inputs","axios","post","username","password","timeout","setAccessToken","token","useMediaQuery","isPhone","setIsPhone","isTablet","setIsTablet","isDesktop","setIsDesktop","windowWidth","useWindowDimensions","updateStates","phoneState","tabletState","desktopState","container","flex","innerContainer","maxWidth","alignSelf","textAlign","image","card","Login","navigation","useNavigation","useForm","defaultValues","handleSubmit","formState","getAccessToken","then","navigate","onSubmit","accessible","accessibilityLabel","Image","source","resizeMode","autoCapitalize","accessibilityHint","autoComplete","secureTextEntry","Title","description","Description","marginLeft","icon","buttonStyles","AntDesign","size","hexToRgbA","hex","alpha","c","test","substring","split","length","join","overflow","marginHorizontal","position","cardCompleted","gradient","left","right","top","blockedOverlay","opacity","Task","id","order","blocked","completed","ImageBackground","LinearGradient","start","end","taskOrder","disabled","logo","accessibilityRole","removeAccessToken","reset","index","routes","MaterialCommunityIcons","Placeholder","Animation","ShineOverlay","noMargin","errorContainer","errorText","retryButton","retryButtonText","ErrorScreen","retryAction","useTasks","getTasks","headers","Authorization","separator","safeZone","Home","initTasks","useFocusEffect","FlatList","ListHeaderComponent","stickyHeaderIndices","stickyHeaderHiddenOnScroll","renderItem","item","marginVertical","uri","thumbnailUrl","comingSoon","ItemSeparatorComponent","ListFooterComponent","Keywords","keywords","map","keyword","PreTaskTypeQuestion","alignContent","Section","scaleAnim","useRef","Animated","Value","current","pulse","sequence","timing","toValue","duration","easing","Easing","inOut","quad","useNativeDriver","transform","scale","useIntroduction","getIntroduction","useProgress","getProgress","TaskContext","TaskProvider","progress","setProgress","phaseCompleted","setPhaseCompleted","onPressNext","setOnPressNext","setIcon","setTaskOrder","resetContext","useTaskContext","taskContext","scrollView","row","Introduction","route","params","loadingIntroduction","errorIntroduction","dataIntroduction","loadingProgress","errorProgress","dataProgress","ScrollView","resizeMethod","thumbnailAlt","longDescription","pretask","linkOrder","duringtask","questionOrder","postask","PreTaskContext","PreTaskProvider","setIndex","usePreTaskContext","preTaskContext","usePreTask","dataContext","getPreTask","setPreTaskComplete","nextQuestion","setTimeout","question","type","ORDER","FLASHCARD","MULTIPLE_CHOICE","FIll_BLANK","AUDIO_MULTIPLE_CHOICE","AUDIO_ORDER","AUDIO_SPEAKING","ORDER_A_WORD","ORDER_A_WORD_AUDIO","console","animation","Loading","currentPlatform","Platform","OS","getQuestion","autoPlay","loop","ActivityIndicator","line","Instructions","Option","containerStyle","textStyle","containerStyles","flatten","textStyles","modalContainer","modalView","modalTitleText","helpContainer","flexWrap","iconContainer","marginEnd","iconText","helpText","Modal","showModal","correct","closeModal","help","animationType","transparent","visible","onRequestClose","useTextToSpeech","playing","setPlaying","Speech","Enhanced","speak","language","Array","isArray","onDone","onStart","imageContainer","optionsContainer","errorMessage","MultipleChoice","containerStyleOptions","setContainerStyleOptions","textStyleOptions","setTextStyleOptions","setShowModal","optionIndex","setOptionIndex","playSoundWrong","resetContainerStyleOptions","AccessibilityInfo","announceForAccessibility","content","lang","imgUrl","imgAlt","options","option","newContainerStyleOptions","newTextStyleOptions","Haptics","onPressOption","feedback","underlineText","textDecorationLine","FillBlank","blank","setBlank","questionList","flipCard","back","backText","flipIndicator","bottom","rotate","FlipCard","optionsQuestionShuffled","containerCardStyle","isFlipped","setIsFlipped","flipIndicatorAnimation","friction","flipVertical","perspective","flip","clickable","translateY","interpolate","inputRange","outputRange","Entypo","iconName","shuffleList","list","newList","i","j","Math","floor","random","scroll","FlashCards","setOptionsQuestionShuffled","setContainerCardStyle","setFeedback","playCardEffect","cardPosition","cardOpacity","incorrectAnswer","shuffleOptions","isCorrect","updatedContainerStyleOptions","updateStyles","animateNextCard","setValue","stop","translateX","inAnswerBox","emptyContainer","notEmptyContainer","paddingBottom","AnswerBox","answerList","onAnswerPress","answer","safeSpace","Order","allOptionsInBox","setAllOptionsInBox","confirmContainerStyle","setConfirmContainerStyle","CONFIRM_TEXT_STYLE_DEFAULT","confirmTextStyle","optionsList","setOptionsList","setAnswerList","correctOrder","filter","resetStates","_","every","toLowerCase","AudioMultipleChoice","speakQuestion","playingQuestion","speakOption","animationRef","play","pause","toggleAnimation","ref","playerContainer","animationContainer","AudioPlayer","textToSpeech","animationsRef","forEach","AudioOrder","useDebounce","fn","delay","timeoutRef","debouncedFn","args","clearTimeout","RecordContext","RecordProvider","recording","setRecording","audioUri","setAudioUri","setSound","isRecording","setIsRecording","isFinished","setIsFinished","isDone","setIsDone","isPlayingAudio","setIsPlayingAudio","useRecordContext","recordContext","useRecord","playSoundStartRecording","playSoundStopRecording","AppState","currentState","log","requestPermissionsAsync","setAudioModeAsync","allowsRecordingIOS","playsInSilentModeIOS","recordingTemp","Recording","RecordingOptionsPresets","HIGH_QUALITY","minimumDuration","stopAndUnloadAsync","_finalDurationMillis","getURI","warn","stopAudio","shouldPlay","setOnPlaybackStatusUpdate","playbackStatus","isLoaded","didJustFinish","stopAsync","startRecording","stopRecording","playAudio","deleteRecording","containerPulse","subtitle","deleteContainer","deleteButton","Record","minimumTime","maximumTime","setRecorded","setDuration","scaleValue","useMemo","handleOnPress","debouncedHandleOnPress","getTime","getStatusAsync","durationMillis","intervalId","setInterval","clearInterval","marginRight","ToastAndroid","show","SHORT","FontAwesome5","MaterialIcons","secondaryContainer","AudioSpeaking","words","recorded","hasConfirm","setHasConfirm","word","OrderAWord","AudioOrderAWord","animationsContainer","Complete","SocketEvents","Stack","createNativeStackNavigator","PreTask","optionsPrimary","headerBackVisible","headerShown","Navigator","Screen","initialParams","component","socket","io","useImageStackStore","set","imageStack","pushImageStack","elem","state","clearImageStack","DuringTaskContext","useDuringTaskContext","context","Power","link","linkText","WaitingActive","once","SESSION_TEACHER_CREATE","Link","to","screen","useTeam","setTeam","setPower","setMechanics","joinTeam","mechanics","leaveTeam","put","getMyTeam","myPower","textMember","GroupCard","members","getPower","power","MEMORY_PRO","SUPER_HEARING","SUPER_RADAR","member","firstName","lastName","code","useTeams","getTeams","flatlist","ChooseGroup","groups","setGroups","getGroups","init","on","TEAMS_STUDENT_UPDATE","off","group","students","keyExtractor","toString","marginStart","textContainer","blockReRoll","onReRoll","setTitle","setDescription","setImage","PowerEnum","Ionicons","Character","superContainer","usePower","getMyPower","rollPower","waitingText","WaitingBegin","numQuestions","loadingPower","getData","handleReRoll","SESSION_TEACHER_START","TEAM_STUDENT_UPDATE","isWeb","character","history","person","CHUCHO","dialog","dialogTriangle","borderStyle","borderLeftWidth","borderRightWidth","borderBottomWidth","borderLeftColor","borderRightColor","borderBottomColor","History","ALEX","BETO","VALERY","getPerson","groupNameText","positionContainer","positionText","PositionBar","groupName","noun","nounContainer","dialogtext","triangle","MemoryProView","nounTranslations","nouns","setNouns","setQuestion","showPower","setShowPower","powerOpacity","animating","setAnimating","nounColors","textFiltered","replace","matchResults","match","getInterpolatedColor","nounColor","handlePress","prevNouns","prevNoun","part","Fragment","Mechanics","prepostion","SuperRadarView","prepositionTranslations","prepositions","setPrepositions","prepositionColors","prepositionColor","prevPrepositions","prevPreposition","SuperHearing","DefaultView","Query","useDuringTaskQuestion","getDuringTaskQuestion","sendDuringTaskAnswer","body","useTime","setStart","setStop","time","setTime","startTimer","Date","now","stopTimer","stackImages","stackImagesElem","ImageStack","textBox","OptionImage","textBoxStyles","Question","answered","setAnswered","team","setPosition","isQuestionFirst","includes","FORM_IMAGE","find","idOption","answerSeconds","navigateNextQuestion","pop","push","initQuestion","TEAM_STUDENT_ANSWER","TEAM_STUDENT_LEAVE","COURSE_LEADERBOARD_UPDATE","myTeam","addListener","e","action","indexOf","memoryPro","superRadar","audioUrl","display","mainImgUrl","previewImgUrl","FinalScore","useDuringTask","getDuringTask","PosTaskQuestionType","DuringTask","isSessionStarted","setIsSessionStarted","setNumQuestions","connectSocket","connect","emit","session","LONG","SESSION_TEACHER_END","disconnect","AnswerType","PosTaskContext","PosTaskProvider","usePosTaskContext","usePosTask","getPosTask","sendPosTaskAnswer","formData","FormData","fetch","audioBlob","blob","append","setPosTaskComplete","SELECT_AND_SPEAKING","OPEN","LoadingModal","afterBlank","slice","titleContainer","dialogText","hint","open","setOpen","answerContainer","chooseButton","recordContainer","textArea","textAlignVertical","writeContainer","Open","answerType","setAnswerType","setTextArea","putAnswerType","TEXT","sendAnswer","multiline","numberOfLines","VOICE","selected","optionText","setIdOptionSelected","setSelected","rigth","setRigth","playSuccessSound","playWrongSound","SelectAndSpeaking","idOptionSelected","handlePressConfirm","PosTask","BackButton","linear","goBack","ContinueButton","scaleButton","Header","showNext","progressWidth","continueOpacity","continueTranslateX","parallel","HomeButton","headerTitleStyle","header","AccessibilityOption","isPressed","setIsPressed","onPressIn","onPressOut","invertColor","r","parseInt","g","b","padZero","str","len","paddingRight","Options","unShowOptions","highContrast","setHighContrast","largeText","setLargeText","setFontFamily","setSpacing","modifyTheme","initialRender","newColors","Object","keys","key","colorKey","invertColors","setStatusBarBackgroundColor","setStatusBarStyle","Dimensions","Accessibility","showOptions","setShowOptions","AndroidSafeArea","paddingTop","StatusBar","currentHeight","AuthStorage","namespace","this","accessToken","AsyncStorage","getItem","JSON","parse","setItem","stringify","removeItem","App","useFonts","loaded","isLogged","setIsLogged","SafeAreaView","SafeAreaViewAndroid","NavigationContainer"],"mappings":"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","file":"static/js/app.3c43164a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/complete.4045ac34.wav\";","module.exports = __webpack_public_path__ + \"static/media/appIcon.24f8a908.png\";","module.exports = __webpack_public_path__ + \"static/media/memoryPro.abeaa4dc.png\";","module.exports = __webpack_public_path__ + \"static/media/superHearing.d8becc2e.png\";","module.exports = __webpack_public_path__ + \"static/media/superRadar.28a9b5d8.png\";","export let theme: Theme = {\r\n\tcolors: {\r\n\t\twhite: '#fff',\r\n\t\tblack: '#000',\r\n\t\tgray: '#f2f2f2',\r\n\t\tyellow: '#ffff00',\r\n\t\tbluerGreen: '#41FB99',\r\n\t\tgreen: '#00ff00',\r\n\t\tdarkGreen: '#0D9748',\r\n\t\tred: '#ff0000',\r\n\t\tblue: '#0496FF',\r\n\t\torange: '#FFA500'\r\n\t},\r\n\tborderRadius: {\r\n\t\tsmall: 4,\r\n\t\tmedium: 8,\r\n\t\tlarge: 16,\r\n\t\tfull: 9999\r\n\t},\r\n\tshadow: {\r\n\t\tshadowColor: '#000',\r\n\t\tshadowOffset: {\r\n\t\t\twidth: 2,\r\n\t\t\theight: 2\r\n\t\t},\r\n\t\tshadowOpacity: 0.25,\r\n\t\tshadowRadius: 3.84,\r\n\t\televation: 5\r\n\t},\r\n\tfontSize: {\r\n\t\txs: 12,\r\n\t\tsmall: 14,\r\n\t\tmedium: 16,\r\n\t\tlarge: 18,\r\n\t\txl: 20,\r\n\t\txxl: 24,\r\n\t\txxxl: 28,\r\n\t\txxxxl: 32,\r\n\t\txxxxxl: 36,\r\n\t\txxxxxxl: 40\r\n\t},\r\n\tfontFamily: {\r\n\t\tprimary: 'Poppins-Regular'\r\n\t},\r\n\tfontWeight: {\r\n\t\tregular: 'Poppins-Regular',\r\n\t\tmedium: 'Poppins-Medium',\r\n\t\tbold: 'Poppins-Bold'\r\n\t},\r\n\tspacing: {\r\n\t\tsmall: -2,\r\n\t\tmedium: 0,\r\n\t\tlarge: 2\r\n\t}\r\n};\r\n\r\nexport interface Theme {\r\n\tcolors: {\r\n\t\twhite: string;\r\n\t\tblack: string;\r\n\t\tgray: string;\r\n\t\tyellow: string;\r\n\t\tbluerGreen: string;\r\n\t\tgreen: string;\r\n\t\tdarkGreen: string;\r\n\t\tred: string;\r\n\t\tblue: string;\r\n\t\torange: string;\r\n\t};\r\n\tborderRadius: {\r\n\t\tsmall: number;\r\n\t\tmedium: number;\r\n\t\tlarge: number;\r\n\t\tfull: number;\r\n\t};\r\n\tshadow: {\r\n\t\tshadowColor: string;\r\n\t\tshadowOffset: {\r\n\t\t\twidth: number;\r\n\t\t\theight: number;\r\n\t\t};\r\n\t\tshadowOpacity: number;\r\n\t\tshadowRadius: number;\r\n\t\televation: number;\r\n\t};\r\n\tfontSize: {\r\n\t\txs: number;\r\n\t\tsmall: number;\r\n\t\tmedium: number;\r\n\t\tlarge: number;\r\n\t\txl: number;\r\n\t\txxl: number;\r\n\t\txxxl: number;\r\n\t\txxxxl: number;\r\n\t\txxxxxl: number;\r\n\t\txxxxxxl: number;\r\n\t};\r\n\tfontFamily: {\r\n\t\tprimary: string;\r\n\t};\r\n\tfontWeight: {\r\n\t\tregular: string;\r\n\t\tmedium: string;\r\n\t\tbold: string;\r\n\t};\r\n\tspacing: {\r\n\t\tsmall: number;\r\n\t\tmedium: number;\r\n\t\tlarge: number;\r\n\t};\r\n}\r\n","import React, { useState } from 'react';\r\nimport { theme as importedTheme, Theme } from '@theme';\r\n\r\nconst ThemeContext = React.createContext<[Theme, (newTheme: Theme) => void]>([\r\n\timportedTheme,\r\n\t(_newTheme: Theme) => {}\r\n]);\r\n\r\nconst ThemeProvider = ({ children }: { children: React.ReactNode }) => {\r\n\tconst [theme, setTheme] = useState<Theme>(importedTheme);\r\n\r\n\tconst modifyTheme = (newTheme: Theme) => {\r\n\t\tsetTheme(newTheme);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ThemeContext.Provider value={[theme, modifyTheme]}>\r\n\t\t\t{children}\r\n\t\t</ThemeContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ThemeContext, ThemeProvider };\r\n","import { useContext } from 'react';\r\nimport { ThemeContext } from '@contexts/ThemeContext';\r\n\r\nconst useTheme = () => {\r\n\tconst [theme, _modifyTheme] = useContext(ThemeContext);\r\n\treturn theme;\r\n};\r\n\r\nexport default useTheme;\r\n","import {\r\n\tTextInput as TextInputNative,\r\n\tTextInputProps as TextInputPropsNative,\r\n\tView,\r\n\tText,\r\n\tStyleSheet\r\n} from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\nimport { Controller, Control } from 'react-hook-form';\r\nimport { Login } from '@interfaces/Login.interface';\r\n\r\nexport interface TextInputProps extends TextInputPropsNative {\r\n\tname: 'username' | 'password';\r\n\tlabel: string;\r\n\tcontrol: Control<Login>;\r\n\terror?: string;\r\n\ttrim?: boolean;\r\n}\r\n\r\nconst TextInput = ({\r\n\tname,\r\n\tlabel,\r\n\tcontrol,\r\n\terror,\r\n\ttrim,\r\n\t...props\r\n}: TextInputProps) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.constainer}>\r\n\t\t\t<Text style={styles.text}>{label}</Text>\r\n\t\t\t<Controller\r\n\t\t\t\tcontrol={control}\r\n\t\t\t\trules={{ required: true }}\r\n\t\t\t\trender={({ field: { onChange, onBlur, value } }) => (\r\n\t\t\t\t\t<TextInputNative\r\n\t\t\t\t\t\tstyle={styles.input}\r\n\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\tonChangeText={\r\n\t\t\t\t\t\t\ttrim ? (text) => onChange(text.trim()) : onChange\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tname={name}\r\n\t\t\t/>\r\n\t\t\t{error && <Text style={styles.error}>{error}</Text>}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tconstainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\twidth: '100%',\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tpaddingVertical: 6,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tcolor: 'red',\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default TextInput;\r\n","import { useState, useEffect } from 'react';\r\nimport { Audio } from 'expo-av';\r\n\r\nconst usePlaySound = (soundPath: any, soundPathDescription?: string) => {\r\n\tconst [soundObject, setSoundObject] = useState<Audio.Sound | null>(null);\r\n\r\n\tconst playSound = async () => {\r\n\t\tconst { sound } = await Audio.Sound.createAsync(soundPath);\r\n\t\tsetSoundObject(sound);\r\n\r\n\t\tawait sound.playAsync();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\treturn soundObject\r\n\t\t\t? () => {\r\n\t\t\t\t\tsoundObject.unloadAsync();\r\n\t\t\t  }\r\n\t\t\t: undefined;\r\n\t}, [soundObject]);\r\n\r\n\treturn playSound;\r\n};\r\n\r\nexport default usePlaySound;\r\n","import { Pressable as PressableNative, PressableProps } from 'react-native';\r\nimport { GestureResponderEvent } from 'react-native';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\n\r\ninterface Props extends PressableProps {\r\n\tonPress?: ((event: GestureResponderEvent) => void) | null | undefined;\r\n}\r\n\r\nconst Pressable = ({ onPress, ...props }: Props) => {\r\n\tconst playSound = usePlaySound(require('@sounds/tap.wav'));\r\n\r\n\treturn (\r\n\t\t<PressableNative\r\n\t\t\tonPress={(event) => {\r\n\t\t\t\tplaySound();\r\n\t\t\t\tif (onPress) {\r\n\t\t\t\t\tonPress(event);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default Pressable;\r\n","import { Text, StyleSheet, PressableProps } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\ninterface ButtonProps extends PressableProps {\r\n\ttitle: string;\r\n}\r\n\r\nconst Button = ({ title, ...props }: ButtonProps) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable style={styles.button} {...props}>\r\n\t\t\t<Text style={styles.text}>{title}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tbutton: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpadding: 10,\r\n\t\t\twidth: '100%',\r\n\t\t\tmarginTop: 30,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Button;\r\n","import { createContext } from 'react';\r\nimport AuthStorage from '@utils/authStorage';\r\n\r\nexport const AuthStorageContext = createContext<AuthStorage | null>(null);\r\n","import { useContext } from 'react';\r\nimport { AuthStorageContext } from '@contexts/AuthStorageContext';\r\n\r\nconst useAuthStorage = () => {\r\n\tconst authStorage = useContext(AuthStorageContext);\r\n\r\n\tif (!authStorage) {\r\n\t\tthrow new Error(\r\n\t\t\t'useAuthStorage must be used within a AuthStorageProvider'\r\n\t\t);\r\n\t}\r\n\r\n\treturn authStorage;\r\n};\r\n\r\nexport default useAuthStorage;\r\n","export const errorHandler = (\r\n\terr: any,\r\n\terroMap: Map<number, string>\r\n): string => {\r\n\tconst errorResponse = err.response;\r\n\tif (err.message === 'Network Error') {\r\n\t\treturn 'Compruebe su conexión a internet';\r\n\t} else if (errorResponse) {\r\n\t\treturn (\r\n\t\t\terroMap.get(errorResponse.status) || 'Un error inesperado ocurrido'\r\n\t\t);\r\n\t} else {\r\n\t\treturn 'Un error inesperado ocurrido';\r\n\t}\r\n};\r\n","export const environment = {\r\n\tapiUrl: 'https://eyeland-server.onrender.com/api/students',\r\n\tsocketUrl: 'https://eyeland-server.onrender.com/students'\r\n};\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from './useAuthStorage';\r\nimport usePlaySound from './usePlaySound';\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '@utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Login } from '@interfaces/Login.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[401, 'Usuario o contraseña incorrectos'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useLogin = () => {\r\n\tconst playSoundSuccess = usePlaySound(\r\n\t\trequire('@sounds/loginSucceeded.wav')\r\n\t);\r\n\tconst playSoundError = usePlaySound(require('@sounds/loginFailed.wav'));\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<Login | null>(null);\r\n\r\n\tconst login = useCallback(async (inputs: Login) => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t`${environment.apiUrl}/login`,\r\n\t\t\t\t{\r\n\t\t\t\t\tusername: inputs.username,\r\n\t\t\t\t\tpassword: inputs.password\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tplaySoundSuccess();\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\tawait authStorage.setAccessToken(response.data.token);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\tplaySoundError();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn { loading, error, data, login };\r\n};\r\n\r\nexport default useLogin;\r\n","import { useWindowDimensions } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst useMediaQuery = () => {\r\n\tconst [isPhone, setIsPhone] = useState(false);\r\n\tconst [isTablet, setIsTablet] = useState(false);\r\n\tconst [isDesktop, setIsDesktop] = useState(false);\r\n\r\n\tconst { width: windowWidth } = useWindowDimensions();\r\n\r\n\tconst updateStates = (\r\n\t\tphoneState: boolean,\r\n\t\ttabletState: boolean,\r\n\t\tdesktopState: boolean\r\n\t) => {\r\n\t\tsetIsPhone(phoneState);\r\n\t\tsetIsTablet(tabletState);\r\n\t\tsetIsDesktop(desktopState);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (windowWidth < 768) {\r\n\t\t\tupdateStates(true, false, false);\r\n\t\t} else if (windowWidth >= 768 && windowWidth < 1024) {\r\n\t\t\tupdateStates(false, true, false);\r\n\t\t} else {\r\n\t\t\tupdateStates(false, false, true);\r\n\t\t}\r\n\t}, [windowWidth]);\r\n\r\n\treturn { isPhone, isTablet, isDesktop };\r\n};\r\n\r\nexport default useMediaQuery;\r\n","import { View, StyleSheet, ToastAndroid, Text, Image } from 'react-native';\r\n\r\nimport TextInput from '@components/TextInput';\r\nimport Title from './components/Title';\r\nimport Button from './components/Button';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useForm } from 'react-hook-form';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useLogin from '@hooks/useLogin';\r\nimport useAuthStorage from '@hooks/useAuthStorage';\r\nimport useMediaQuery from '@hooks/useMediaQuery';\r\n\r\nimport { Theme } from '@theme';\r\nimport { Login as LoginInterface } from '@interfaces/Login.interface';\r\n\r\nconst Login = () => {\r\n\tconst navigation = useNavigation<any>();\r\n\tconst theme = useTheme();\r\n\tconst {\r\n\t\tcontrol,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors }\r\n\t} = useForm({\r\n\t\tdefaultValues: {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: ''\r\n\t\t}\r\n\t});\r\n\tconst { data, error, loading, login } = useLogin();\r\n\tconst authStorage = useAuthStorage();\r\n\tconst { isPhone, isTablet, isDesktop } = useMediaQuery();\r\n\tconst styles = getStyles(theme, isPhone, isTablet, isDesktop);\r\n\r\n\tuseEffect(() => {\r\n\t\tauthStorage.getAccessToken().then((token) => {\r\n\t\t\tif (token) {\r\n\t\t\t\tnavigation.navigate('Home');\r\n\t\t\t}\r\n\t\t});\r\n\t}, [data]);\r\n\r\n\tconst onSubmit = async (inputs: LoginInterface) => {\r\n\t\tawait login(inputs);\r\n\t\tif (data && !error) {\r\n\t\t\tnavigation.navigate('Home');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel=\"Formulario de ingreso\"\r\n\t\t>\r\n\t\t\t<View style={[styles.innerContainer, !isPhone && styles.card]}>\r\n\t\t\t\t<Image\r\n\t\t\t\t\tsource={require('@icons/appIcon.png')}\r\n\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\tresizeMode=\"center\"\r\n\t\t\t\t/>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\tlabel=\"Usuario\"\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tautoCapitalize=\"none\"\r\n\t\t\t\t\terror={errors.username && 'El usuario es requerido'}\r\n\t\t\t\t\ttrim={true}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityLabel=\"Entrada de nombre de usuario\"\r\n\t\t\t\t\taccessibilityHint=\"Ingrese su nombre de usuario\"\r\n\t\t\t\t\tautoComplete=\"username\"\r\n\t\t\t\t/>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tlabel=\"Contraseña\"\r\n\t\t\t\t\tautoCapitalize=\"none\"\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\terror={errors.password && 'La contraseña es requerida'}\r\n\t\t\t\t\tsecureTextEntry={true}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityLabel=\"Entrada de contraseña\"\r\n\t\t\t\t\taccessibilityHint=\"Ingresa tu contraseña\"\r\n\t\t\t\t\tautoComplete=\"password\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttitle={loading ? 'Cargando...' : 'Iniciar sesión'}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t!loading && handleSubmit(onSubmit)();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityLabel={\r\n\t\t\t\t\t\tloading ? 'Cargando...' : 'Iniciar sesión'\r\n\t\t\t\t\t}\r\n\t\t\t\t\taccessibilityHint=\"Presiona para iniciar sesión\"\r\n\t\t\t\t/>\r\n\t\t\t\t{error && <Text style={styles.error}>{error}</Text>}\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (\r\n\ttheme: Theme,\r\n\tisPhone: boolean,\r\n\tisTablet: boolean,\r\n\tisDesktop: boolean\r\n) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: isDesktop ? 64 : isTablet ? 48 : 24\r\n\t\t},\r\n\t\tinnerContainer: {\r\n\t\t\tmaxWidth: 420,\r\n\t\t\twidth: '100%',\r\n\t\t\tpaddingHorizontal: 20\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\talignSelf: 'center',\r\n\t\t\ttextAlign: isDesktop ? 'center' : 'left'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 150,\r\n\t\t\theight: 150,\r\n\t\t\talignSelf: 'center',\r\n\t\t\tmarginBottom: isDesktop ? 40 : isTablet ? 30 : 25\r\n\t\t},\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.large,\r\n\t\t\tpadding: 24,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Login;\r\n","import { Text, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\ninterface TitleProps {\r\n\tname: string;\r\n}\r\n\r\nconst Title = ({ name }: TitleProps) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn <Text style={styles.title}>{name}</Text>;\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tmarginBottom: 10,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\ninterface DescriptionProps {\r\n\ttext: string;\r\n}\r\n\r\nconst Description = ({ text }: DescriptionProps) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View>\r\n\t\t\t<Text style={styles.description}>{text}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tdescription: {\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tfontSize: theme.fontSize.small\r\n\t\t}\r\n\t});\r\n\r\nexport default Description;\r\n","import { Text, StyleSheet, PressableProps } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\ninterface ButtonProps extends PressableProps {\r\n\ttext: string;\r\n\ticon?: keyof typeof AntDesign.glyphMap;\r\n}\r\n\r\nconst Button = ({ text, style, icon, ...props }: ButtonProps) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst buttonStyles = [styles.button, style] as PressableProps['style'];\r\n\r\n\treturn (\r\n\t\t<Pressable style={buttonStyles} {...props}>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t\t{icon && (\r\n\t\t\t\t<AntDesign\r\n\t\t\t\t\tname={icon}\r\n\t\t\t\t\tsize={20}\r\n\t\t\t\t\tcolor={theme.colors.white}\r\n\t\t\t\t\tstyle={styles.icon}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tbutton: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginTop: 20,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tmarginLeft: 10\r\n\t\t}\r\n\t});\r\n\r\nexport default Button;\r\n","export function hexToRgbA(hex: string, alpha: number) {\r\n\tlet c: any;\r\n\tif (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n\t\tc = hex.substring(1).split('');\r\n\t\tif (c.length == 3) {\r\n\t\t\tc = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n\t\t}\r\n\t\tc = '0x' + c.join('');\r\n\t\treturn (\r\n\t\t\t'rgba(' +\r\n\t\t\t[(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\r\n\t\t\t',' +\r\n\t\t\talpha +\r\n\t\t\t')'\r\n\t\t);\r\n\t}\r\n\tthrow new Error('Bad Hex');\r\n}\r\n","import { View, StyleSheet, ImageBackground } from 'react-native';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport Title from './Title';\r\nimport Description from './Description';\r\nimport Button from './Button';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\nimport { hexToRgbA } from '@app/core/utils/hexToRgba';\r\n\r\ninterface TaskProps {\r\n\tid: number;\r\n\torder: number;\r\n\tdescription: string;\r\n\tname: string;\r\n\timage?: any;\r\n\tblocked: boolean;\r\n\tcompleted: boolean;\r\n}\r\n\r\nconst Task = ({\r\n\tid,\r\n\torder,\r\n\tname,\r\n\tdescription,\r\n\timage,\r\n\tblocked,\r\n\tcompleted\r\n}: TaskProps) => {\r\n\tconst theme = useTheme();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[styles.card, completed && styles.cardCompleted]}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`${order}. ${name}. ${description}. ${\r\n\t\t\t\tblocked ? 'Bloqueado' : 'Disponible'\r\n\t\t\t}`}\r\n\t\t\taccessibilityHint={`${\r\n\t\t\t\tblocked\r\n\t\t\t\t\t? 'Esta tarea está bloqueada.'\r\n\t\t\t\t\t: 'Presione el boton de comenzar para iniciar la tarea.'\r\n\t\t\t}`}\r\n\t\t>\r\n\t\t\t<ImageBackground\r\n\t\t\t\tsource={image}\r\n\t\t\t\taccessible={false}\r\n\t\t\t\tresizeMode=\"cover\"\r\n\t\t\t>\r\n\t\t\t\t<LinearGradient\r\n\t\t\t\t\tcolors={[\r\n\t\t\t\t\t\thexToRgbA(theme.colors.white, 0.9),\r\n\t\t\t\t\t\thexToRgbA(theme.colors.white, 0.4)\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tstyle={styles.gradient}\r\n\t\t\t\t\tstart={[1, 1]}\r\n\t\t\t\t\tend={[0, 1]}\r\n\t\t\t\t\taccessible={false}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={styles.container}>\r\n\t\t\t\t\t<Title name={order + '. ' + name} />\r\n\t\t\t\t\t<Description text={description} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttext=\"Comenzar\"\r\n\t\t\t\t\t\ticon={completed ? 'reload1' : 'arrowright'}\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tcompleted && { backgroundColor: theme.colors.blue }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonPress={() =>\r\n\t\t\t\t\t\t\tnavigation.navigate('Task', { taskOrder: order })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdisabled={blocked}\r\n\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t</ImageBackground>\r\n\t\t\t{blocked && (\r\n\t\t\t\t<View style={styles.blockedOverlay} accessible={false} />\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tposition: 'relative',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tcardCompleted: {\r\n\t\t\tborderColor: theme.colors.blue,\r\n\t\t\tborderWidth: 2\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tpaddingVertical: 15\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tblockedOverlay: {\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\topacity: 0.8,\r\n\t\t\tposition: 'absolute'\r\n\t\t}\r\n\t});\r\n\r\nexport default Task;\r\n","import { View, Text, StyleSheet, Image } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport useAuthStorage from '@hooks/useAuthStorage';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface TitleProps {\r\n\ttext: string;\r\n}\r\n\r\nconst Title = ({ text }: TitleProps) => {\r\n\tconst theme = useTheme();\r\n\tconst authStorage = useAuthStorage();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`Titulo y boton para cerrar sesión`}\r\n\t\t\taccessibilityRole=\"header\"\r\n\t\t>\r\n\t\t\t<Image\r\n\t\t\t\tsource={require('@icons/appIcon.png')}\r\n\t\t\t\tstyle={styles.logo}\r\n\t\t\t\tresizeMode=\"center\"\r\n\t\t\t/>\r\n\t\t\t<Pressable\r\n\t\t\t\tonPress={() => {\r\n\t\t\t\t\tauthStorage.removeAccessToken();\r\n\t\t\t\t\tnavigation.reset({\r\n\t\t\t\t\t\tindex: 0,\r\n\t\t\t\t\t\troutes: [{ name: 'Login' }]\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={styles.button}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel=\"Cerrar sesión\"\r\n\t\t\t\taccessibilityHint=\"Presiona para cerrar sesión\"\r\n\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<MaterialCommunityIcons\r\n\t\t\t\t\tname=\"logout\"\r\n\t\t\t\t\tsize={30}\r\n\t\t\t\t\tcolor={theme.colors.white}\r\n\t\t\t\t\taccessible={false}\r\n\t\t\t\t/>\r\n\t\t\t</Pressable>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingVertical: 8\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tpadding: 8,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import {\r\n\tPlaceholder as PlaceholderRN,\r\n\tPlaceholderLine,\r\n\tShineOverlay\r\n} from 'rn-placeholder';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport Title from './Title';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Placeholder = () => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Title text=\"MENÚ\" />\r\n\t\t\t<View style={styles.card}>\r\n\t\t\t\t<PlaceholderRN Animation={ShineOverlay}>\r\n\t\t\t\t\t<PlaceholderLine width={40} height={30} />\r\n\t\t\t\t\t<PlaceholderLine />\r\n\t\t\t\t\t<PlaceholderLine width={60} />\r\n\t\t\t\t\t<PlaceholderLine width={70} />\r\n\t\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\tnoMargin={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PlaceholderRN>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpadding: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginTop: 20,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Placeholder;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from './Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\terror: string;\r\n\tretryAction: () => void;\r\n}\r\n\r\nconst ErrorScreen = ({ error, retryAction }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.errorContainer}>\r\n\t\t\t<Text\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel={`Error: ${error}`}\r\n\t\t\t\tstyle={styles.errorText}\r\n\t\t\t>\r\n\t\t\t\t{error}\r\n\t\t\t</Text>\r\n\t\t\t<Pressable\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel=\"Reintentar\"\r\n\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\tstyle={styles.retryButton}\r\n\t\t\t\tonPress={() => {\r\n\t\t\t\t\tretryAction();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Text style={styles.retryButtonText}>Reintentar</Text>\r\n\t\t\t</Pressable>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\terrorContainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t},\r\n\t\terrorText: {\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tmarginBottom: 10,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tretryButton: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tpaddingVertical: 10,\r\n\t\t\tborderRadius: 5,\r\n\t\t\tmarginTop: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tretryButtonText: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default ErrorScreen;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../useAuthStorage';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Task } from '@interfaces/Task.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useTasks = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<Task[] | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getTasks = useCallback(async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(`${environment.apiUrl}/tasks`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t},\r\n\t\t\t\ttimeout: 10000\r\n\t\t\t});\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn { loading, error, data, getTasks };\r\n};\r\n\r\nexport default useTasks;\r\n","import { FlatList, View, StyleSheet } from 'react-native';\r\nimport Task from './components/Task';\r\nimport Title from './components/Title';\r\nimport Placeholder from './components/Placeholder';\r\nimport ErrorScreen from '@components/ErrorScreen';\r\n\r\nimport { useCallback } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTasks from '@hooks/Task/useTasks';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport useMediaQuery from '@hooks/useMediaQuery';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Home = () => {\r\n\tconst theme = useTheme();\r\n\tconst { loading, error, data, getTasks } = useTasks();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst initTasks = async () => {\r\n\t\tawait getTasks();\r\n\t};\r\n\r\n\tuseFocusEffect(\r\n\t\tuseCallback(() => {\r\n\t\t\tinitTasks();\r\n\t\t}, [])\r\n\t);\r\n\r\n\tif (loading) return <Placeholder />;\r\n\r\n\tif (error)\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Title text=\"MENÚ\" />\r\n\t\t\t\t<ErrorScreen error={error} retryAction={initTasks} />\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\tif (!data)\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Title text=\"MENÚ\" />\r\n\t\t\t\t<ErrorScreen\r\n\t\t\t\t\terror={'No se recibió información'}\r\n\t\t\t\t\tretryAction={initTasks}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<FlatList\r\n\t\t\tstyle={styles.container}\r\n\t\t\tListHeaderComponent={<Title text=\"MENÚ\" />}\r\n\t\t\tstickyHeaderIndices={[0]}\r\n\t\t\tstickyHeaderHiddenOnScroll={true}\r\n\t\t\tdata={data}\r\n\t\t\trenderItem={({ item, index }) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{index === 0 && <View style={{ marginVertical: 5 }} />}\r\n\t\t\t\t\t<Task\r\n\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\tname={item.name}\r\n\t\t\t\t\t\torder={item.taskOrder}\r\n\t\t\t\t\t\tdescription={item.description}\r\n\t\t\t\t\t\timage={{ uri: item.thumbnailUrl }}\r\n\t\t\t\t\t\tcompleted={item.completed}\r\n\t\t\t\t\t\tblocked={item.blocked || item.comingSoon}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\tItemSeparatorComponent={() => <View style={styles.separator} />}\r\n\t\t\tListFooterComponent={<View style={styles.safeZone} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tseparator: {\r\n\t\t\theight: 20\r\n\t\t},\r\n\t\tsafeZone: {\r\n\t\t\theight: 100\r\n\t\t}\r\n\t});\r\n\r\nexport default Home;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\n\r\nconst Title = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tmarginTop: 10,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tkeywords: string[];\r\n}\r\n\r\nconst Keywords = ({ keywords }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={'Palabras clave: ' + keywords.join(' ')}\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>\r\n\t\t\t\t{keywords.map((keyword, index) => {\r\n\t\t\t\t\treturn index === keywords.length - 1\r\n\t\t\t\t\t\t? keyword\r\n\t\t\t\t\t\t: `${keyword} | `;\r\n\t\t\t\t})}\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginBottom: 20\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Keywords;\r\n","import { View, Text, StyleSheet, ScrollView } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\n\r\nconst Description = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Description;\r\n","import {\r\n\tPlaceholder as PlaceholderRN,\r\n\tPlaceholderMedia,\r\n\tPlaceholderLine,\r\n\tShineOverlay\r\n} from 'rn-placeholder';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Placeholder = () => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<PlaceholderRN Animation={ShineOverlay}>\r\n\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\twidth={40}\r\n\t\t\t\t\theight={40}\r\n\t\t\t\t\tstyle={{ marginTop: 10, marginBottom: 10 }}\r\n\t\t\t\t\tnoMargin={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\tnoMargin={true}\r\n\t\t\t\t\tstyle={{ marginBottom: 20 }}\r\n\t\t\t\t\twidth={50}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\tstyle={{ width: '100%', height: 200, borderRadius: 8 }}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderLine width={60} style={{ marginTop: 40 }} />\r\n\t\t\t\t<PlaceholderLine width={80} />\r\n\t\t\t\t<PlaceholderLine width={90} />\r\n\t\t\t\t<PlaceholderLine width={75} />\r\n\t\t\t\t<PlaceholderLine width={95} />\r\n\t\t\t\t<PlaceholderLine width={60} />\r\n\t\t\t</PlaceholderRN>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\theight: '100%'\r\n\t\t}\r\n\t});\r\n\r\nexport default Placeholder;\r\n","import { View, Text, StyleSheet, Animated, Easing } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttitle: string;\r\n\tcompleted: boolean;\r\n\tblocked: boolean;\r\n\tonPress: () => void;\r\n}\r\n\r\nconst Section = ({ title, completed, blocked, onPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst scaleAnim = useRef(new Animated.Value(1)).current;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!completed && !blocked) {\r\n\t\t\tconst pulse = () => {\r\n\t\t\t\tAnimated.sequence([\r\n\t\t\t\t\tAnimated.timing(scaleAnim, {\r\n\t\t\t\t\t\ttoValue: 1.01,\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\teasing: Easing.inOut(Easing.quad),\r\n\t\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tAnimated.timing(scaleAnim, {\r\n\t\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\teasing: Easing.inOut(Easing.quad),\r\n\t\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t\t})\r\n\t\t\t\t]).start(pulse);\r\n\t\t\t};\r\n\t\t\tpulse();\r\n\t\t}\r\n\t}, [completed, blocked, scaleAnim]);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tonPress={onPress}\r\n\t\t\tdisabled={blocked}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={title}\r\n\t\t\taccessibilityHint={\r\n\t\t\t\tblocked\r\n\t\t\t\t\t? 'Esta sección está bloqueada'\r\n\t\t\t\t\t: 'Presiona para entrar a la sección'\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<Animated.View\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tgetStyles(theme, completed, blocked).container,\r\n\t\t\t\t\t{ transform: [{ scale: scaleAnim }] }\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Text style={getStyles(theme, completed, blocked).text}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<View style={getStyles(theme, completed, blocked).button}>\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<AntDesign\r\n\t\t\t\t\t\t\tname={completed ? 'reload1' : 'arrowright'}\r\n\t\t\t\t\t\t\tsize={23}\r\n\t\t\t\t\t\t\tcolor={theme.colors.white}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</Animated.View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme, completed: boolean, blocked: boolean) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingHorizontal: 15,\r\n\t\t\tpaddingVertical: 7,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tborderColor: theme.colors.blue,\r\n\t\t\tborderWidth: completed ? 2 : 0,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\topacity: blocked ? 0.5 : 1\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tbackgroundColor: completed\r\n\t\t\t\t? theme.colors.blue\r\n\t\t\t\t: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tpadding: 10,\r\n\t\t\tmarginVertical: 5,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\topacity: blocked ? 0.5 : 1,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Section;\r\n","export enum PreTaskTypeQuestion {\r\n\tFIll_BLANK = 'fill',\r\n\tMULTIPLE_CHOICE = 'select',\r\n\tFLASHCARD = 'flashcard',\r\n\tORDER = 'order',\r\n\tAUDIO_MULTIPLE_CHOICE = 'audio_select',\r\n\tAUDIO_ORDER = 'audio_order',\r\n\tAUDIO_SPEAKING = 'audio_speaking',\r\n\tORDER_A_WORD = 'order-word',\r\n\tORDER_A_WORD_AUDIO = 'audio_order-word',\r\n\tFORM_IMAGE = 'form-image'\r\n}\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../useAuthStorage';\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport {\r\n\tIntroduction,\r\n\tgetIntroductionParams\r\n} from '@interfaces/Introduction.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'La task no existe'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'No se encontró el recurso'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useIntroduction = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<Introduction | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getIntroduction = useCallback(\r\n\t\tasync (inputs: getIntroductionParams) => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.get(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/introduction`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetData(response.data);\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn { loading, error, data, getIntroduction };\r\n};\r\n\r\nexport default useIntroduction;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../useAuthStorage';\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Progress, getProgressParams } from '@interfaces/Progress.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useProgress = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<Progress | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getProgress = useCallback(async (inputs: getProgressParams) => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/progress`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn { loading, error, data, getProgress };\r\n};\r\n\r\nexport default useProgress;\r\n","import {\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tcreateContext,\r\n\tuseState,\r\n\tuseEffect\r\n} from 'react';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\n\r\ninterface TaskContextProps {\r\n\tprogress?: number;\r\n\tsetProgress: Dispatch<SetStateAction<number | undefined>>;\r\n\tphaseCompleted: boolean;\r\n\tsetPhaseCompleted: Dispatch<SetStateAction<boolean>>;\r\n\tonPressNext: () => void;\r\n\tsetOnPressNext: Dispatch<SetStateAction<() => void>>;\r\n\tresetContext: () => void;\r\n\ticon?: keyof typeof AntDesign.glyphMap;\r\n\tsetIcon: Dispatch<SetStateAction<keyof typeof AntDesign.glyphMap>>;\r\n\ttaskOrder: number;\r\n\tsetTaskOrder: Dispatch<SetStateAction<number>>;\r\n}\r\n\r\nconst TaskContext = createContext<TaskContextProps | null>(null);\r\n\r\nconst TaskProvider = ({ children }: { children: React.ReactNode }) => {\r\n\tconst [progress, setProgress] = useState<number | undefined>(undefined);\r\n\tconst [phaseCompleted, setPhaseCompleted] = useState(false);\r\n\tconst [onPressNext, setOnPressNext] = useState<() => void>(() => () => {});\r\n\tconst [icon, setIcon] =\r\n\t\tuseState<keyof typeof AntDesign.glyphMap>('closecircle');\r\n\tconst [taskOrder, setTaskOrder] = useState(0);\r\n\r\n\tconst resetContext = () => {\r\n\t\tsetProgress(undefined);\r\n\t\tsetPhaseCompleted(false);\r\n\t\tsetOnPressNext(() => () => {});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<TaskContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tprogress,\r\n\t\t\t\tsetProgress,\r\n\t\t\t\tphaseCompleted,\r\n\t\t\t\tsetPhaseCompleted,\r\n\t\t\t\tonPressNext,\r\n\t\t\t\tsetOnPressNext,\r\n\t\t\t\tresetContext,\r\n\t\t\t\ticon,\r\n\t\t\t\tsetIcon,\r\n\t\t\t\ttaskOrder,\r\n\t\t\t\tsetTaskOrder\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TaskContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { TaskContext, TaskProvider };\r\n","import { useContext } from 'react';\r\nimport { TaskContext } from '@contexts/TaskContext';\r\n\r\nconst useTaskContext = () => {\r\n\tconst taskContext = useContext(TaskContext);\r\n\r\n\tif (!taskContext) {\r\n\t\tthrow new Error(\r\n\t\t\t'useTaskContext must be used within a TaskContextProvider'\r\n\t\t);\r\n\t}\r\n\r\n\treturn taskContext;\r\n};\r\n\r\nexport default useTaskContext;\r\n","import { useCallback } from 'react';\r\n\r\nimport { View, StyleSheet, Image, ScrollView } from 'react-native';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport Title from './components/Title';\r\nimport Keywords from './components/Keywords';\r\nimport Description from './components/Description';\r\nimport Placeholder from './components/Placeholder';\r\nimport Section from './components/Section';\r\nimport ErrorScreen from '@components/ErrorScreen';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport useIntroduction from '@app/core/hooks/Task/useIntroduction';\r\nimport useProgress from '@app/core/hooks/Task/useProgress';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst Introduction = ({ route }: Props) => {\r\n\tconst { taskOrder } = route.params;\r\n\r\n\tconst theme = useTheme();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst {\r\n\t\tloading: loadingIntroduction,\r\n\t\terror: errorIntroduction,\r\n\t\tdata: dataIntroduction,\r\n\t\tgetIntroduction\r\n\t} = useIntroduction();\r\n\tconst {\r\n\t\tloading: loadingProgress,\r\n\t\terror: errorProgress,\r\n\t\tdata: dataProgress,\r\n\t\tgetProgress\r\n\t} = useProgress();\r\n\tconst { resetContext, setIcon } = useTaskContext();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tuseFocusEffect(\r\n\t\tuseCallback(() => {\r\n\t\t\tgetIntroduction({ taskOrder });\r\n\t\t\tgetProgress({ taskOrder });\r\n\t\t\tresetContext();\r\n\t\t\tsetIcon('home');\r\n\t\t}, [])\r\n\t);\r\n\r\n\tif (loadingIntroduction || loadingProgress) return <Placeholder />;\r\n\r\n\tif (errorIntroduction || errorProgress)\r\n\t\treturn (\r\n\t\t\t<ErrorScreen\r\n\t\t\t\terror={\r\n\t\t\t\t\terrorIntroduction ||\r\n\t\t\t\t\terrorProgress ||\r\n\t\t\t\t\t'Un error inesperado ha ocurrido'\r\n\t\t\t\t}\r\n\t\t\t\tretryAction={() => {\r\n\t\t\t\t\tgetIntroduction({ taskOrder });\r\n\t\t\t\t\tgetProgress({ taskOrder });\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\tif (!dataIntroduction || !dataProgress)\r\n\t\treturn (\r\n\t\t\t<ErrorScreen\r\n\t\t\t\terror=\"No se recibió la información\"\r\n\t\t\t\tretryAction={() => {\r\n\t\t\t\t\tgetIntroduction({ taskOrder });\r\n\t\t\t\t\tgetProgress({ taskOrder });\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<ScrollView style={styles.scrollView}>\r\n\t\t\t\t<Title text={dataIntroduction.name} />\r\n\t\t\t\t<Keywords keywords={dataIntroduction.keywords} />\r\n\t\t\t\t<Image\r\n\t\t\t\t\tsource={{ uri: dataIntroduction.thumbnailUrl }}\r\n\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\tresizeMode=\"cover\"\r\n\t\t\t\t\tresizeMethod=\"auto\"\r\n\t\t\t\t\taccessible\r\n\t\t\t\t\taccessibilityLabel={dataIntroduction.thumbnailAlt}\r\n\t\t\t\t/>\r\n\t\t\t\t<Description text={dataIntroduction.longDescription} />\r\n\t\t\t\t<Section\r\n\t\t\t\t\ttitle=\"Aprendizaje\"\r\n\t\t\t\t\tcompleted={dataProgress.pretask.completed}\r\n\t\t\t\t\tblocked={dataProgress.pretask.blocked}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tnavigation.navigate('PreTask', {\r\n\t\t\t\t\t\t\ttaskOrder,\r\n\t\t\t\t\t\t\tlinkOrder: 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Section\r\n\t\t\t\t\ttitle=\"Actividad grupal\"\r\n\t\t\t\t\tcompleted={dataProgress.duringtask.completed}\r\n\t\t\t\t\tblocked={dataProgress.duringtask.blocked}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tnavigation.navigate('DuringTask', {\r\n\t\t\t\t\t\t\ttaskOrder,\r\n\t\t\t\t\t\t\tquestionOrder: 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Section\r\n\t\t\t\t\ttitle=\"Evaluación\"\r\n\t\t\t\t\tcompleted={dataProgress.postask.completed}\r\n\t\t\t\t\tblocked={dataProgress.postask.blocked}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tnavigation.navigate('PosTask', {\r\n\t\t\t\t\t\t\ttaskOrder,\r\n\t\t\t\t\t\t\tquestionOrder: 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={{ height: 80 }} />\r\n\t\t\t</ScrollView>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tscrollView: {\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold\r\n\t\t},\r\n\t\timage: {\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tpaddingHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default Introduction;\r\n","import { Dispatch, SetStateAction, createContext, useState } from 'react';\r\nimport { PreTask } from '@interfaces/PreTask.interface';\r\n\r\ninterface PreTaskValues {\r\n\tdata: PreTask | null;\r\n\tsetData: Dispatch<SetStateAction<PreTask | null>>;\r\n\tindex: number;\r\n\tsetIndex: Dispatch<SetStateAction<number>>;\r\n}\r\n\r\nexport const PreTaskContext = createContext<PreTaskValues | null>(null);\r\n\r\nconst PreTaskProvider = ({ children }: { children: React.ReactNode }) => {\r\n\tconst [data, setData] = useState<PreTask | null>(null);\r\n\tconst [index, setIndex] = useState<number>(0);\r\n\r\n\treturn (\r\n\t\t<PreTaskContext.Provider value={{ data, setData, index, setIndex }}>\r\n\t\t\t{children}\r\n\t\t</PreTaskContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default PreTaskProvider;\r\n","import { useContext } from 'react';\r\nimport { PreTaskContext } from '@contexts/PreTaskContext';\r\n\r\nconst usePreTaskContext = () => {\r\n\tconst preTaskContext = useContext(PreTaskContext);\r\n\r\n\tif (!preTaskContext) {\r\n\t\tthrow new Error(\r\n\t\t\t'usePreTaskContext must be used within a PreTaskContextProvider'\r\n\t\t);\r\n\t}\r\n\r\n\treturn preTaskContext;\r\n};\r\n\r\nexport default usePreTaskContext;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\nimport axios from 'axios';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\n\r\nimport { PreTask } from '@interfaces/PreTask.interface';\r\nimport { PreTaskTypeQuestion } from '@enums/PreTaskTypeQuestion.enum';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport usePreTaskContext from './usePreTaskContext';\r\nimport useTaskContext from '../useTaskContext';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst usePreTask = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<PreTask | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst { index, data: dataContext, setIndex } = usePreTaskContext();\r\n\tconst { taskOrder, setProgress } = useTaskContext();\r\n\r\n\tconst getPreTask = useCallback(async (inputs: { taskOrder: number }) => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/pretask/questions`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst setPreTaskComplete = useCallback(\r\n\t\tasync (inputs: { taskOrder: number }) => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/pretask/complete`,\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst nextQuestion = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!dataContext) return null;\r\n\r\n\t\t\tif (index === dataContext.length) {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: 'Complete', params: { taskOrder } }]\r\n\t\t\t\t});\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst question: PreTaskQuestion = dataContext[index];\r\n\t\t\tlet name = '';\r\n\r\n\t\t\tswitch (question.type) {\r\n\t\t\t\tcase PreTaskTypeQuestion.ORDER:\r\n\t\t\t\t\tname = 'Order';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.FLASHCARD:\r\n\t\t\t\t\tname = 'FlashCards';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.MULTIPLE_CHOICE:\r\n\t\t\t\t\tname = 'MultipleChoice';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.FIll_BLANK:\r\n\t\t\t\t\tname = 'FillBlank';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.AUDIO_MULTIPLE_CHOICE:\r\n\t\t\t\t\tname = 'AudioMultipleChoice';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.AUDIO_ORDER:\r\n\t\t\t\t\tname = 'AudioOrder';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.AUDIO_SPEAKING:\r\n\t\t\t\t\tname = 'AudioSpeaking';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.ORDER_A_WORD:\r\n\t\t\t\t\tname = 'OrderAWord';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PreTaskTypeQuestion.ORDER_A_WORD_AUDIO:\r\n\t\t\t\t\tname = 'AudioOrderAWord';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error('No question type found');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (name === '') {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: 'Complete', params: { taskOrder } }]\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: name, params: { question } }]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsetProgress((index + 1) / dataContext.length);\r\n\t\t\tsetIndex(index + 1);\r\n\t\t}, 250);\r\n\t};\r\n\r\n\treturn {\r\n\t\tloading,\r\n\t\terror,\r\n\t\tdata,\r\n\t\tgetPreTask,\r\n\t\tsetPreTaskComplete,\r\n\t\tnextQuestion\r\n\t};\r\n};\r\n\r\nexport default usePreTask;\r\n","import {\r\n\tView,\r\n\tStyleSheet,\r\n\tActivityIndicator,\r\n\tPlatform,\r\n\tText\r\n} from 'react-native';\r\nimport ErrorScreen from '@components/ErrorScreen';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePreTaskContext from '@app/core/hooks/Task/PreTask/usePreTaskContext';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Loading = ({ route }: { route: any }) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst theme = useTheme();\r\n\tconst { getPreTask, data, error, loading, nextQuestion } = usePreTask();\r\n\tconst { setData, data: dataContext } = usePreTaskContext();\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tuseFocusEffect(\r\n\t\tuseCallback(() => {\r\n\t\t\tconst getQuestion = async () => {\r\n\t\t\t\tconst data = await getPreTask({ taskOrder });\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tsetData(data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tgetQuestion();\r\n\t\t}, [])\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataContext) {\r\n\t\t\tnextQuestion();\r\n\t\t}\r\n\t}, [dataContext]);\r\n\r\n\tif (error)\r\n\t\treturn (\r\n\t\t\t<ErrorScreen\r\n\t\t\t\terror={error}\r\n\t\t\t\tretryAction={() => {\r\n\t\t\t\t\tgetPreTask({ taskOrder });\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View accessible={true} accessibilityLabel=\"Cargando\">\r\n\t\t\t\t{currentPlatform !== 'web' ? (\r\n\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\tsource={require('@animations/loading.json')}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ActivityIndicator\r\n\t\t\t\t\t\tsize={50}\r\n\t\t\t\t\t\tcolor={theme.colors.black}\r\n\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\twidth: 200,\r\n\t\t\theight: 200,\r\n\t\t\talignSelf: 'center'\r\n\t\t}\r\n\t});\r\n\r\nexport default Loading;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\n\r\nconst Instructions = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`Instrucciones: ${text}`}\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t\t<View style={styles.line}></View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginBottom: 20\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tfontFamily: theme.fontWeight.bold\r\n\t\t},\r\n\t\tline: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\theight: 2,\r\n\t\t\twidth: '100%',\r\n\t\t\tmarginTop: 3,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\topacity: 0.1\r\n\t\t}\r\n\t});\r\n\r\nexport default Instructions;\r\n","import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tStyleProp,\r\n\tViewStyle,\r\n\tTextStyle\r\n} from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tcontainerStyle: StyleProp<ViewStyle>;\r\n\ttextStyle: StyleProp<TextStyle>;\r\n}\r\n\r\nconst Option = ({ text, onPress, containerStyle, textStyle }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst containerStyles = StyleSheet.flatten([\r\n\t\tstyles.container,\r\n\t\tcontainerStyle\r\n\t]);\r\n\r\n\tconst textStyles = StyleSheet.flatten([styles.text, textStyle]);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={containerStyles}\r\n\t\t\tonPress={onPress}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityHint={'Responder ' + text}\r\n\t\t>\r\n\t\t\t<Text style={textStyles}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingVertical: 10,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 10\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, Modal as ModalNative, StyleSheet } from 'react-native';\r\nimport Option from './Option';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tshowModal: boolean;\r\n\tcloseModal: () => void;\r\n\tcorrect?: boolean;\r\n\thelp: string;\r\n}\r\n\r\nconst Modal = ({ showModal, correct, closeModal, help }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<ModalNative\r\n\t\t\tanimationType=\"fade\"\r\n\t\t\ttransparent={true}\r\n\t\t\tvisible={showModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel=\"Retroalimentación\"\r\n\t\t>\r\n\t\t\t<View style={styles.modalContainer}>\r\n\t\t\t\t<View style={styles.modalView}>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={styles.modalTitleText}\r\n\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\taccessibilityLabel={\r\n\t\t\t\t\t\t\tcorrect\r\n\t\t\t\t\t\t\t\t? 'Respuesta correcta'\r\n\t\t\t\t\t\t\t\t: 'Respuesta incorrecta'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{correct\r\n\t\t\t\t\t\t\t? '¡Respuesta correcta! '\r\n\t\t\t\t\t\t\t: '¡Respuesta incorrecta!'}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<View style={styles.helpContainer}>\r\n\t\t\t\t\t\t<View style={styles.iconContainer}>\r\n\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\tstyle={styles.iconText}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Ayuda\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAyuda:\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={styles.helpText}\r\n\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\taccessibilityLabel={`Texto de ayuda: ${help}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{help}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\ttext=\"Reintentar\"\r\n\t\t\t\t\t\tonPress={closeModal}\r\n\t\t\t\t\t\tcontainerStyle={{ marginBottom: 10 }}\r\n\t\t\t\t\t\ttextStyle={{\r\n\t\t\t\t\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\t\t\t\t\tfontSize: theme.fontSize.large\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</ModalNative>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tmodalContainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t},\r\n\t\tmodalView: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpaddingVertical: 10\r\n\t\t},\r\n\t\tmodalTitleText: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\thelpContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmarginBottom: 40\r\n\t\t},\r\n\t\ticonContainer: {\r\n\t\t\tbackgroundColor: theme.colors.yellow,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderRadius: theme.borderRadius.small,\r\n\t\t\tpaddingHorizontal: 5,\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\ticonText: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\thelpText: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Modal;\r\n","import * as Speech from 'expo-speech';\r\nimport { useState } from 'react';\r\n\r\nexport default function useTextToSpeech() {\r\n\tconst [playing, setPlaying] = useState(false);\r\n\r\n\tSpeech.VoiceQuality.Enhanced;\r\n\r\n\tconst speak = (text: string | string[], language?: string) => {\r\n\t\tif (Array.isArray(text)) {\r\n\t\t\tSpeech.speak(text[0], {\r\n\t\t\t\tlanguage: language || 'en',\r\n\t\t\t\tonDone() {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tSpeech.speak(text[1], {\r\n\t\t\t\t\t\t\tlanguage: language || 'en'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 400);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tSpeech.speak(text, {\r\n\t\t\t\tlanguage: language || 'en',\r\n\t\t\t\tonStart() {\r\n\t\t\t\t\tsetPlaying(true);\r\n\t\t\t\t},\r\n\t\t\t\tonDone() {\r\n\t\t\t\t\tsetPlaying(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn { speak, playing };\r\n}\r\n","import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tAccessibilityInfo,\r\n\tImage,\r\n\tScrollView\r\n} from 'react-native';\r\nimport Instructions from '../components/Instructions';\r\nimport Option from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\nimport { useEffect, useState } from 'react';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst MultipleChoice = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PreTaskQuestion };\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [textStyleOptions, setTextStyleOptions] = useState([{}]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst [optionIndex, setOptionIndex] = useState<number>(0);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst onPressOption = (index: number, correct: boolean) => {\r\n\t\tsetOptionIndex(index);\r\n\t\tspeak(question.options[index].content);\r\n\t\tconst newContainerStyleOptions = [...containerStyleOptions];\r\n\t\tconst newTextStyleOptions = [...textStyleOptions];\r\n\r\n\t\tconst color = correct ? theme.colors.green : theme.colors.red;\r\n\t\tplaySound(correct);\r\n\t\tnewContainerStyleOptions[index] = { backgroundColor: color };\r\n\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\r\n\t\tif (!correct) {\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t}\r\n\r\n\t\tsetContainerStyleOptions(newContainerStyleOptions);\r\n\t\tsetTextStyleOptions(newTextStyleOptions);\r\n\r\n\t\tif (correct) {\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetContainerStyleOptions();\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst playSound = (correct: boolean) => {\r\n\t\tif (correct) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetContainerStyleOptions = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetContainerStyleOptions([{}]);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScrollView style={styles.container}>\r\n\t\t\t\t<Instructions text=\"Selecciona la opción correcta\" />\r\n\t\t\t\t<Text style={styles.question}>{question.content}</Text>\r\n\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\taccessible\r\n\t\t\t\t\t\taccessibilityLabel={question.imgAlt}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t{question.options.map((option, index) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressOption(index, option.correct);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</View>\r\n\t\t\t</ScrollView>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={closeModal}\r\n\t\t\t\thelp={question.options[optionIndex].feedback}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 60\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default MultipleChoice;\r\n","import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tImage,\r\n\tAccessibilityInfo,\r\n\tScrollView\r\n} from 'react-native';\r\nimport Instructions from '../components/Instructions';\r\nimport Option from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\nimport { useEffect, useState } from 'react';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst FillBlank = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PreTaskQuestion };\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [textStyleOptions, setTextStyleOptions] = useState([{}]);\r\n\tconst [blank, setBlank] = useState('       ');\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst [optionIndex, setOptionIndex] = useState<number>(0);\r\n\tconst theme = useTheme();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst questionList = question.content.split('_');\r\n\r\n\tconst onPressOption = (index: number, correct: boolean) => {\r\n\t\tsetOptionIndex(index);\r\n\t\tspeak(question.options[index].content);\r\n\t\tconst newContainerStyleOptions = [...containerStyleOptions];\r\n\t\tconst newTextStyleOptions = [...textStyleOptions];\r\n\r\n\t\tconst color = correct ? theme.colors.green : theme.colors.red;\r\n\t\tplaySound(correct);\r\n\t\tnewContainerStyleOptions[index] = { backgroundColor: color };\r\n\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\t\tsetBlank(question.options[index].content);\r\n\r\n\t\tif (!correct) {\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t}\r\n\r\n\t\tsetContainerStyleOptions(newContainerStyleOptions);\r\n\t\tsetTextStyleOptions(newTextStyleOptions);\r\n\r\n\t\tif (correct) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tnextQuestion();\r\n\t\t\t}, 1000);\r\n\t\t} else {\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetContainerStyleOptions();\r\n\t\t}\r\n\t};\r\n\r\n\tconst playSound = (correct: boolean) => {\r\n\t\tif (correct) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst resetContainerStyleOptions = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetContainerStyleOptions([{}]);\r\n\t\t\tsetBlank('       ');\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content.split('_'), question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScrollView style={styles.container}>\r\n\t\t\t\t<Instructions text=\"Selecciona la opción correcta para completar la frase\" />\r\n\t\t\t\t<Text style={styles.question}>\r\n\t\t\t\t\t{questionList[0]}\r\n\t\t\t\t\t<Text style={styles.underlineText}>{blank}</Text>\r\n\t\t\t\t\t{questionList[1]}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t{/* {loadingImage && <ActivityIndicator size=\"large\" color={theme.colors.black} />}\r\n\t\t\t\t\t{errorImage && <Text style={styles.errorMessage}>Un error inesperado ha ocurrido</Text>} */}\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\taccessible\r\n\t\t\t\t\t\taccessibilityLabel={question.imgAlt}\r\n\t\t\t\t\t\t// onLoadStart={() => setLoadingImage(true)}\r\n\t\t\t\t\t\t// onLoadEnd={() => setLoadingImage(false)}\r\n\t\t\t\t\t\t// onError={() => {\r\n\t\t\t\t\t\t// \tsetLoadingImage(false);\r\n\t\t\t\t\t\t// \tsetErrorImage(true);\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t{question.options.map((option, index) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressOption(index, option.correct);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</View>\r\n\t\t\t</ScrollView>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={closeModal}\r\n\t\t\t\thelp={question.options[optionIndex].feedback}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 60\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tline: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\theight: 2,\r\n\t\t\twidth: 50,\r\n\t\t\tborderRadius: theme.borderRadius.medium\r\n\t\t},\r\n\t\tunderlineText: {\r\n\t\t\ttextDecorationLine: 'underline'\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default FillBlank;\r\n","import React, { Dispatch, SetStateAction, useRef, useState } from 'react';\r\nimport {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tImageBackground,\r\n\tAnimated,\r\n\tPressable,\r\n\tImage,\r\n\tActivityIndicator\r\n} from 'react-native';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport FlipCardNative from 'react-native-flip-card';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\ninterface Props {\r\n\tquestion: PreTaskQuestion;\r\n\toptionIndex: number;\r\n\toptionsQuestionShuffled: {\r\n\t\tcontent: string;\r\n\t\tcorrect: boolean;\r\n\t\tid: number;\r\n\t}[];\r\n\tcontainerCardStyle: {};\r\n\tisFlipped: boolean;\r\n\tcontainerStyle: {};\r\n\tsetIsFlipped: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst FlipCard = ({\r\n\tquestion,\r\n\toptionIndex,\r\n\toptionsQuestionShuffled,\r\n\tcontainerCardStyle,\r\n\tisFlipped,\r\n\tcontainerStyle,\r\n\tsetIsFlipped\r\n}: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\tconst flipIndicatorAnimation = useRef(new Animated.Value(0)).current;\r\n\tconst [loadingImage, setLoadingImage] = useState(true);\r\n\tconst [errorImage, setErrorImage] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tonPress={() => {\r\n\t\t\t\tsetIsFlipped(!isFlipped);\r\n\t\t\t}}\r\n\t\t\taccessibilityLabel=\"Presiona dos veces para girar la tarjeta\"\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Animated.View\r\n\t\t\t\tstyle={[styles.imageContainer, containerStyle]}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel=\"Voltear tarjeta\"\r\n\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<FlipCardNative\r\n\t\t\t\t\tfriction={10}\r\n\t\t\t\t\tflipVertical={true}\r\n\t\t\t\t\tperspective={1000}\r\n\t\t\t\t\tstyle={styles.flipCard}\r\n\t\t\t\t\tflip={isFlipped}\r\n\t\t\t\t\tclickable={false}\r\n\t\t\t\t\tuseNativeDriver={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* Face Side */}\r\n\t\t\t\t\t{!question.imgUrl ? (\r\n\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\tstyle={styles.back}\r\n\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\taccessibilityLabel=\"Parte trasera de la tarjeta\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={styles.backText}>\r\n\t\t\t\t\t\t\t\t{question.content}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.flipIndicator,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttranslateY:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflipIndicatorAnimation.interpolate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutputRange: [0, -5]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Indicador de voltear\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Entypo\r\n\t\t\t\t\t\t\t\t\tname=\"arrow-with-circle-up\"\r\n\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\tcolor=\"black\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t{/* {loadingImage && <ActivityIndicator size=\"large\" color={theme.colors.black} />}\r\n\t\t\t\t\t\t\t{errorImage && <Text style={styles.errorMessage}>Un error inesperado ha ocurrido</Text>} */}\r\n\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\t\t\tresizeMode=\"cover\"\r\n\t\t\t\t\t\t\t\t// onLoadStart={() => setLoadingImage(true)}\r\n\t\t\t\t\t\t\t\t// onLoadEnd={() => setLoadingImage(false)}\r\n\t\t\t\t\t\t\t\t// onError={() => {\r\n\t\t\t\t\t\t\t\t// \tsetLoadingImage(false);\r\n\t\t\t\t\t\t\t\t// \tsetErrorImage(true);\r\n\t\t\t\t\t\t\t\t// }}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel={\r\n\t\t\t\t\t\t\t\t\tquestion.imgAlt +\r\n\t\t\t\t\t\t\t\t\t'. Toca dos veces para girar la tarjeta'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.flipIndicator,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttranslateY:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflipIndicatorAnimation.interpolate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutputRange: [0, -5]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Indicador de voltear\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Entypo\r\n\t\t\t\t\t\t\t\t\tname=\"arrow-with-circle-up\"\r\n\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Back Side */}\r\n\t\t\t\t\t<View\r\n\t\t\t\t\t\tstyle={[styles.back, containerCardStyle]}\r\n\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\taccessibilityLabel={\r\n\t\t\t\t\t\t\toptionsQuestionShuffled[optionIndex].content +\r\n\t\t\t\t\t\t\t'. Toca dos veces para girar la tarjeta'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Text style={styles.backText}>\r\n\t\t\t\t\t\t\t{optionsQuestionShuffled[optionIndex].content}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</FlipCardNative>\r\n\t\t\t</Animated.View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 300,\r\n\t\t\tmaxWidth: 500,\r\n\t\t\twidth: '90%',\r\n\t\t\talignSelf: 'center',\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\tflipCard: {\r\n\t\t\twidth: '100%',\r\n\t\t\tborderWidth: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\theight: '100%',\r\n\t\t\tborderRadius: theme.borderRadius.medium\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tback: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tbackText: {\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tflipIndicator: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 10,\r\n\t\t\tright: 10,\r\n\t\t\ttransform: [{ rotate: '45deg' }]\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default FlipCard;\r\n","import React from 'react';\r\nimport { View, StyleSheet } from 'react-native';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tonPress: () => void;\r\n\tcontainerStyle: {};\r\n\ticonName: 'check' | 'cross';\r\n\taccessibilityLabel: string;\r\n}\r\n\r\nconst Option: React.FC<Props> = ({\r\n\tonPress,\r\n\tcontainerStyle,\r\n\ticonName,\r\n\taccessibilityLabel\r\n}) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable onPress={onPress}>\r\n\t\t\t<View\r\n\t\t\t\tstyle={[styles.option, containerStyle]}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel={accessibilityLabel}\r\n\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<Entypo name={iconName} size={50} color={theme.colors.white} />\r\n\t\t\t</View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\toption: {\r\n\t\t\twidth: 80,\r\n\t\t\theight: 80,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","export const shuffleList = (list: any[]) => {\r\n\tconst newList = [...list];\r\n\tfor (let i = newList.length - 1; i > 0; i--) {\r\n\t\tconst j = Math.floor(Math.random() * (i + 1));\r\n\t\t[newList[i], newList[j]] = [newList[j], newList[i]];\r\n\t}\r\n\treturn newList;\r\n};\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, StyleSheet, Animated, ScrollView } from 'react-native';\r\nimport Instructions from '../../components/Instructions';\r\nimport * as Haptics from 'expo-haptics';\r\nimport FlipCard from './components/FlipCard';\r\nimport Option from './components/Option';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { hexToRgbA } from '@utils/hexToRgba';\r\nimport { shuffleList } from '@utils/shuffleList';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst FlashCards = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PreTaskQuestion };\r\n\tconst theme = useTheme();\r\n\tconst [optionIndex, setOptionIndex] = useState<number>(0);\r\n\tconst [isFlipped, setIsFlipped] = useState<boolean>(false);\r\n\tconst [optionsQuestionShuffled, setOptionsQuestionShuffled] = useState<\r\n\t\t{ content: string; correct: boolean; id: number; feedback: string }[]\r\n\t>([]);\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [containerCardStyle, setContainerCardStyle] = useState({});\r\n\tconst [feedback, setFeedback] = useState('');\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst playSoundSuccess = usePlaySound(\r\n\t\trequire('@sounds/success.wav'),\r\n\t\t'@sounds/success.wav'\r\n\t);\r\n\tconst playSoundWrong = usePlaySound(\r\n\t\trequire('@sounds/wrong.wav'),\r\n\t\t'@sounds/wrong.wav'\r\n\t);\r\n\tconst playCardEffect = usePlaySound(\r\n\t\trequire('@sounds/flashcard.wav'),\r\n\t\t'@sounds/flashcard.wav'\r\n\t);\r\n\tconst flipIndicatorAnimation = useRef(new Animated.Value(0)).current;\r\n\tconst cardPosition = useRef(new Animated.Value(0)).current;\r\n\tconst cardOpacity = useRef(new Animated.Value(1)).current;\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst updateStyles = (option: 'true' | 'false') => {\r\n\t\tconst isCorrect = optionsQuestionShuffled[optionIndex].correct;\r\n\t\tconst color =\r\n\t\t\t(option === 'true' && isCorrect) ||\r\n\t\t\t(option === 'false' && !isCorrect)\r\n\t\t\t\t? theme.colors.green\r\n\t\t\t\t: theme.colors.red;\r\n\t\tconst updatedContainerStyleOptions = {\r\n\t\t\t...containerStyleOptions,\r\n\t\t\t[option === 'true' ? 0 : 1]: { backgroundColor: color }\r\n\t\t};\r\n\t\tsetContainerStyleOptions(updatedContainerStyleOptions);\r\n\t};\r\n\r\n\tconst resetContainerStyleOptions = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetContainerStyleOptions([{}]);\r\n\t\t\tsetContainerCardStyle({});\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst incorrectAnswer = () => {\r\n\t\tsetOptionIndex(0);\r\n\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\tplaySoundWrong();\r\n\t\tsetContainerCardStyle({\r\n\t\t\tbackgroundColor: hexToRgbA(theme.colors.red, 0.2)\r\n\t\t});\r\n\t\tsetOptionsQuestionShuffled(\r\n\t\t\tshuffleOptions(question).map((option, index) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tcontent: option.content,\r\n\t\t\t\t\tcorrect: option.correct,\r\n\t\t\t\t\tfeedback: option.feedback\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t);\r\n\t\tsetShowModal(true);\r\n\t};\r\n\r\n\tconst onPressOption = (option: 'true' | 'false') => {\r\n\t\tsetFeedback(optionsQuestionShuffled[optionIndex].feedback);\r\n\t\tupdateStyles(option);\r\n\r\n\t\tif (option === 'true') {\r\n\t\t\tif (optionsQuestionShuffled[optionIndex].correct) {\r\n\t\t\t\tsetContainerCardStyle({\r\n\t\t\t\t\tbackgroundColor: hexToRgbA(theme.colors.green, 0.2)\r\n\t\t\t\t});\r\n\t\t\t\tplaySoundSuccess();\r\n\t\t\t\tnextQuestion();\r\n\t\t\t} else {\r\n\t\t\t\tincorrectAnswer();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (option === 'false') {\r\n\t\t\tif (optionsQuestionShuffled[optionIndex].correct) {\r\n\t\t\t\tincorrectAnswer();\r\n\t\t\t} else {\r\n\t\t\t\tsetOptionIndex(optionIndex + 1);\r\n\t\t\t\tplaySoundSuccess();\r\n\t\t\t}\r\n\t\t\tsetIsFlipped(false);\r\n\t\t\tanimateNextCard();\r\n\t\t}\r\n\r\n\t\tresetContainerStyleOptions();\r\n\t};\r\n\r\n\tconst shuffleOptions = (question: PreTaskQuestion) => {\r\n\t\treturn shuffleList(question.options);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst animateNextCard = () => {\r\n\t\tplayCardEffect();\r\n\t\t// Fade out the current card\r\n\t\tAnimated.timing(cardOpacity, {\r\n\t\t\ttoValue: 0,\r\n\t\t\tduration: 250,\r\n\t\t\tuseNativeDriver: true\r\n\t\t}).start(() => {\r\n\t\t\t// Update card position and reset opacity\r\n\t\t\tcardPosition.setValue(-500);\r\n\t\t\tcardOpacity.setValue(1);\r\n\r\n\t\t\t// Animate the incoming card\r\n\t\t\tAnimated.timing(cardPosition, {\r\n\t\t\t\ttoValue: 0,\r\n\t\t\t\tduration: 500,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t}).start();\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst animation = Animated.loop(\r\n\t\t\tAnimated.sequence([\r\n\t\t\t\tAnimated.timing(flipIndicatorAnimation, {\r\n\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\tduration: 800,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t}),\r\n\t\t\t\tAnimated.timing(flipIndicatorAnimation, {\r\n\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\tduration: 800,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t})\r\n\t\t\t])\r\n\t\t);\r\n\t\tanimation.start();\r\n\r\n\t\tsetOptionsQuestionShuffled(\r\n\t\t\tshuffleOptions(question).map((option, index) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tcontent: option.content,\r\n\t\t\t\t\tcorrect: option.correct,\r\n\t\t\t\t\tfeedback: option.feedback\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\treturn () => animation.stop();\r\n\t}, []);\r\n\r\n\tif (optionsQuestionShuffled.length === 0) return null;\r\n\r\n\treturn (\r\n\t\t<ScrollView style={styles.scroll}>\r\n\t\t\t<View\r\n\t\t\t\tstyle={styles.container}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel=\"Pantalla de tarjetas\"\r\n\t\t\t>\r\n\t\t\t\t<Instructions text=\"Voltea la tarjeta, ¿La descripción corresponde a la imagen?\" />\r\n\t\t\t\t<FlipCard\r\n\t\t\t\t\tsetIsFlipped={setIsFlipped}\r\n\t\t\t\t\tcontainerStyle={{\r\n\t\t\t\t\t\ttransform: [{ translateX: cardPosition }],\r\n\t\t\t\t\t\topacity: cardOpacity\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerCardStyle={containerCardStyle}\r\n\t\t\t\t\toptionIndex={optionIndex}\r\n\t\t\t\t\toptionsQuestionShuffled={optionsQuestionShuffled}\r\n\t\t\t\t\tquestion={question}\r\n\t\t\t\t\tisFlipped={isFlipped}\r\n\t\t\t\t/>\r\n\t\t\t\t<View\r\n\t\t\t\t\tstyle={styles.optionsContainer}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityLabel=\"Opciones\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\taccessibilityLabel=\"Verdadero\"\r\n\t\t\t\t\t\tcontainerStyle={containerStyleOptions[0]}\r\n\t\t\t\t\t\ticonName=\"check\"\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonPressOption('true');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<View style={{ width: 50 }} />\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\taccessibilityLabel=\"Falso\"\r\n\t\t\t\t\t\tcontainerStyle={containerStyleOptions[1]}\r\n\t\t\t\t\t\ticonName=\"cross\"\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonPressOption('false');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tcloseModal={closeModal}\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\thelp={feedback}\r\n\t\t\t/>\r\n\t\t</ScrollView>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tscroll: {\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 20,\r\n\t\t\twidth: '100%',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tflexDirection: 'row'\r\n\t\t}\r\n\t});\r\n\r\nexport default FlashCards;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tinAnswerBox?: boolean;\r\n}\r\n\r\nconst Option = ({ text, onPress, inAnswerBox }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={styles.container}\r\n\t\t\tonPress={onPress}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={text}\r\n\t\t\taccessibilityHint={\r\n\t\t\t\tinAnswerBox\r\n\t\t\t\t\t? 'Presiona para remover esta opción del campo de texto'\r\n\t\t\t\t\t: 'Presiona para llevar esta opción al campo de texto'\r\n\t\t\t}\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\theight: 60,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginTop: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Option from './Option';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tanswerList: string[];\r\n\tonAnswerPress: (index: number) => void;\r\n}\r\n\r\nconst AnswerBox = ({ answerList, onAnswerPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\tanswerList.length > 0\r\n\t\t\t\t\t? styles.notEmptyContainer\r\n\t\t\t\t\t: styles.emptyContainer\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{answerList.length > 0 ? (\r\n\t\t\t\tanswerList.map((answer, index) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\ttext={answer}\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonAnswerPress(index);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tinAnswerBox={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tPulsa las palabras para organizarlas\r\n\t\t\t\t</Text>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t\t// minHeight: 200,\r\n\t\t},\r\n\t\temptyContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\theight: 82\r\n\t\t},\r\n\t\tnotEmptyContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingBottom: 10\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\topacity: 0.4,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default AnswerBox;\r\n","import { View, Text, StyleSheet, AccessibilityInfo } from 'react-native';\r\nimport Instructions from '../../components/Instructions';\r\nimport OptionTask from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Option from './components/Option';\r\nimport AnswerBox from './components/AnswerBox';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\nimport useTextToSpeech from '@app/core/hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { shuffleList } from '@utils/shuffleList';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst Order = ({ route }: Props) => {\r\n\tconst { question } = route.params as {\r\n\t\tquestion: PreTaskQuestion;\r\n\t\ttaskOrder: number;\r\n\t};\r\n\tconst theme = useTheme();\r\n\tconst [allOptionsInBox, setAllOptionsInBox] = useState(false);\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst [optionsList, setOptionsList] = useState([] as string[]);\r\n\tconst [answerList, setAnswerList] = useState([] as string[]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst correctOrder = question.options\r\n\t\t.filter((option) => option.correct)[0]\r\n\t\t.content.split(' ');\r\n\r\n\tconst onPressConfirm = () => {\r\n\t\tconst isCorrect = answerList.every(\r\n\t\t\t(answer, index) =>\r\n\t\t\t\tanswer.toLowerCase() === correctOrder[index].toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (isCorrect) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.red });\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetStates();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\t\tsetAnswerList([]);\r\n\t\t\tsetConfirmContainerStyle({});\r\n\t\t\tsetAllOptionsInBox(false);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst onPressOption = (index: number) => {\r\n\t\tspeak(optionsList[index]);\r\n\t\tsetAnswerList([...answerList, optionsList[index]]);\r\n\t\tsetOptionsList(optionsList.filter((_, i) => i !== index));\r\n\r\n\t\tif (answerList.length + 1 === correctOrder.length) {\r\n\t\t\tsetAllOptionsInBox(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst onAnswerPress = (index: number) => {\r\n\t\tsetOptionsList([...optionsList, answerList[index]]);\r\n\t\tsetAnswerList(answerList.filter((_, i) => i !== index));\r\n\t\tsetAllOptionsInBox(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\tsetAnswerList([]);\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<Instructions text=\"Ordena las palabras en inglés para traducir la frase\" />\r\n\t\t\t\t\t<Text style={styles.question}>{question.content}</Text>\r\n\t\t\t\t\t<AnswerBox\r\n\t\t\t\t\t\tanswerList={answerList}\r\n\t\t\t\t\t\tonAnswerPress={onAnswerPress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t\t{optionsList.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\ttext={option}\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tonPressOption(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t\t{allOptionsInBox && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<OptionTask\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tcloseModal();\r\n\t\t\t\t}}\r\n\t\t\t\thelp={correctOrder.join(' ')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 30,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tseparator: {\r\n\t\t\twidth: 10\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t}\r\n\t});\r\n\r\nexport default Order;\r\n","import { View, StyleSheet, AccessibilityInfo, Platform } from 'react-native';\r\nimport Instructions from '../components/Instructions';\r\nimport Option from '@screens/Task/components/Option';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Modal from '@screens/Task/components/Modal';\r\nimport LottieView from 'lottie-react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst AudioMultipleChoice = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PreTaskQuestion };\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [textStyleOptions, setTextStyleOptions] = useState([{}]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst [optionIndex, setOptionIndex] = useState<number>(0);\r\n\tconst theme = useTheme();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst { speak: speakQuestion, playing: playingQuestion } =\r\n\t\tuseTextToSpeech();\r\n\tconst { speak: speakOption, playing: playingOption } = useTextToSpeech();\r\n\tconst animationRef = useRef<LottieView>(null);\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tconst toggleAnimation = () => {\r\n\t\tif (playingQuestion) {\r\n\t\t\tanimationRef.current?.play();\r\n\t\t} else {\r\n\t\t\tanimationRef.current?.pause();\r\n\t\t\tanimationRef.current?.reset();\r\n\t\t}\r\n\t};\r\n\r\n\tconst onPressOption = (index: number, correct: boolean) => {\r\n\t\tsetOptionIndex(index);\r\n\t\tspeakOption(question.options[index].content);\r\n\t\tconst newContainerStyleOptions = [...containerStyleOptions];\r\n\t\tconst newTextStyleOptions = [...textStyleOptions];\r\n\r\n\t\tconst color = correct ? theme.colors.green : theme.colors.red;\r\n\t\tplaySound(correct);\r\n\t\tnewContainerStyleOptions[index] = { backgroundColor: color };\r\n\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\r\n\t\tif (!correct) {\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t}\r\n\r\n\t\tsetContainerStyleOptions(newContainerStyleOptions);\r\n\t\tsetTextStyleOptions(newTextStyleOptions);\r\n\r\n\t\tif (correct) {\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetContainerStyleOptions();\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst playSound = (correct: boolean) => {\r\n\t\tif (correct) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t}\r\n\t};\r\n\r\n\tconst onPressPlayAudio = () => {\r\n\t\tspeakQuestion(question.content, question.lang);\r\n\t};\r\n\r\n\tconst resetContainerStyleOptions = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetContainerStyleOptions([{}]);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeakQuestion(question.content, question.lang);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\ttoggleAnimation();\r\n\t}, [playingQuestion]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<Instructions text=\"Selecciona la opción correcta\" />\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tonPress={onPressPlayAudio}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityHint=\"Reproduce el audio de la pregunta\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{currentPlatform !== 'web' ? (\r\n\t\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\t\tsource={require('@animations/audioButton.json')}\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t\t\tref={animationRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<AntDesign\r\n\t\t\t\t\t\t\tname=\"sound\"\r\n\t\t\t\t\t\t\tsize={100}\r\n\t\t\t\t\t\t\tcolor={theme.colors.black}\r\n\t\t\t\t\t\t\tstyle={[styles.animation, { alignSelf: 'center' }]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Pressable>\r\n\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t{question.options.map((option, index) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressOption(index, option.correct);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={closeModal}\r\n\t\t\t\thelp={question.options[optionIndex].feedback}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\twidth: 200,\r\n\t\t\theight: 200,\r\n\t\t\talignSelf: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 60\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default AudioMultipleChoice;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tinAnswerBox?: boolean;\r\n}\r\n\r\nconst Option = ({ text, onPress, inAnswerBox }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={styles.container}\r\n\t\t\tonPress={onPress}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={text}\r\n\t\t\taccessibilityHint={\r\n\t\t\t\tinAnswerBox\r\n\t\t\t\t\t? 'Presiona para remover esta opción del campo de texto'\r\n\t\t\t\t\t: 'Presiona para llevar esta opción al campo de texto'\r\n\t\t\t}\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\theight: 60,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginTop: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Option from './Option';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tanswerList: string[];\r\n\tonAnswerPress: (index: number) => void;\r\n}\r\n\r\nconst AnswerBox = ({ answerList, onAnswerPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\tanswerList.length > 0\r\n\t\t\t\t\t? styles.notEmptyContainer\r\n\t\t\t\t\t: styles.emptyContainer\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{answerList.length > 0 ? (\r\n\t\t\t\tanswerList.map((answer, index) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\ttext={answer}\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonAnswerPress(index);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tinAnswerBox={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tPulsa las palabras para organizarlas\r\n\t\t\t\t</Text>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t\t// minHeight: 200,\r\n\t\t},\r\n\t\temptyContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\theight: 82\r\n\t\t},\r\n\t\tnotEmptyContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingBottom: 10\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\topacity: 0.4,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default AnswerBox;\r\n","import { View, StyleSheet, Platform } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useMediaQuery from '@hooks/useMediaQuery';\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport { QuestionLang } from '@app/shared/enums/QuestionLang.enum';\r\n\r\ninterface Props {\r\n\ttextToSpeech?: string;\r\n\tsource?: any;\r\n\tlang?: QuestionLang;\r\n}\r\n\r\nconst AudioPlayer = ({ textToSpeech, source, lang }: Props) => {\r\n\tconst animationsRef = useRef<LottieView[]>([]);\r\n\tconst { speak, playing } = useTextToSpeech();\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\tconst { isPhone, isTablet } = useMediaQuery();\r\n\tconst currentPlatform = Platform.OS;\r\n\tconst playSound = usePlaySound(source);\r\n\r\n\tconst onPressPlayAudio = () => {\r\n\t\tif (textToSpeech) {\r\n\t\t\tspeak(textToSpeech, lang || 'en');\r\n\t\t} else if (source) {\r\n\t\t\tplaySound();\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleAnimation = () => {\r\n\t\tif (playing) {\r\n\t\t\tanimationsRef.current?.forEach((animation) => animation.play());\r\n\t\t} else {\r\n\t\t\tanimationsRef.current?.forEach((animation) => animation.pause());\r\n\t\t\tanimationsRef.current?.forEach((animation) => animation.reset());\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\ttoggleAnimation();\r\n\t}, [playing]);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={styles.playerContainer}\r\n\t\t\tonPress={onPressPlayAudio}\r\n\t\t\taccessibilityLabel=\"Reproducir audio\"\r\n\t\t>\r\n\t\t\t<AntDesign name=\"caretright\" size={30} color={theme.colors.black} />\r\n\r\n\t\t\t<View style={styles.animationContainer}>\r\n\t\t\t\t{currentPlatform !== 'web' &&\r\n\t\t\t\t\t[...Array(isPhone ? 4 : isTablet ? 8 : 16)].map(\r\n\t\t\t\t\t\t(_, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tref={(animation) => {\r\n\t\t\t\t\t\t\t\t\t\tif (animation)\r\n\t\t\t\t\t\t\t\t\t\t\tanimationsRef.current[index] =\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsource={require('@animations/audioWave.json')}\r\n\t\t\t\t\t\t\t\t\tloop={false}\r\n\t\t\t\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tplayerContainer: {\r\n\t\t\theight: 55,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tmarginTop: 10,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tanimationContainer: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\theight: 72\r\n\t\t}\r\n\t});\r\n\r\nexport default AudioPlayer;\r\n","import { View, StyleSheet, AccessibilityInfo } from 'react-native';\r\nimport Instructions from '../../components/Instructions';\r\nimport OptionTask from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Option from './components/Option';\r\nimport AnswerBox from './components/AnswerBox';\r\nimport Modal from '@screens/Task/components/Modal';\r\nimport AudioPlayer from '@app/screens/Task/components/AudioPlayer';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@hooks/Task/PreTask/usePreTask';\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { shuffleList } from '@utils/shuffleList';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst AudioOrder = ({ route }: Props) => {\r\n\tconst { question } = route.params as {\r\n\t\tquestion: PreTaskQuestion;\r\n\t\ttaskOrder: number;\r\n\t};\r\n\tconst theme = useTheme();\r\n\tconst [allOptionsInBox, setAllOptionsInBox] = useState(false);\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst [optionsList, setOptionsList] = useState([] as string[]);\r\n\tconst [answerList, setAnswerList] = useState([] as string[]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { speak: speakOption, playing: playingOption } = useTextToSpeech();\r\n\tconst { speak: speakQuestion, playing: playingQuestion } =\r\n\t\tuseTextToSpeech();\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst styles = getStyles(theme);\r\n\tconst correctOrder = question.options\r\n\t\t.filter((option) => option.correct)[0]\r\n\t\t.content.split(' ');\r\n\r\n\tconst onPressConfirm = () => {\r\n\t\tconst isCorrect = answerList.every(\r\n\t\t\t(answer, index) =>\r\n\t\t\t\tanswer.toLowerCase() === correctOrder[index].toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (isCorrect) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.red });\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetStates();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\t\tsetAnswerList([]);\r\n\t\t\tsetConfirmContainerStyle({});\r\n\t\t\tsetAllOptionsInBox(false);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst onPressOption = (index: number) => {\r\n\t\tspeakOption(optionsList[index]);\r\n\t\tsetAnswerList([...answerList, optionsList[index]]);\r\n\t\tsetOptionsList(optionsList.filter((_, i) => i !== index));\r\n\r\n\t\tif (answerList.length + 1 === correctOrder.length) {\r\n\t\t\tsetAllOptionsInBox(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst onAnswerPress = (index: number) => {\r\n\t\tsetOptionsList([...optionsList, answerList[index]]);\r\n\t\tsetAnswerList(answerList.filter((_, i) => i !== index));\r\n\t\tsetAllOptionsInBox(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\tsetAnswerList([]);\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeakQuestion(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<Instructions text=\"Escucha y selecciona las palabras en el orden correcto\" />\r\n\t\t\t\t\t<AudioPlayer\r\n\t\t\t\t\t\ttextToSpeech={question.content}\r\n\t\t\t\t\t\tlang={question.lang}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AnswerBox\r\n\t\t\t\t\t\tanswerList={answerList}\r\n\t\t\t\t\t\tonAnswerPress={onAnswerPress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t\t{optionsList.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\ttext={option}\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tonPressOption(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t\t{allOptionsInBox && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<OptionTask\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tcloseModal();\r\n\t\t\t\t}}\r\n\t\t\t\thelp={correctOrder.join(' ')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 30,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tseparator: {\r\n\t\t\twidth: 10\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t},\r\n\t\tplayerContainer: {\r\n\t\t\theight: 55,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tanimationContainer: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\theight: 72\r\n\t\t}\r\n\t});\r\n\r\nexport default AudioOrder;\r\n","import { useRef, useEffect, useCallback } from 'react';\r\n\r\nconst useDebounce = <T extends (...args: any[]) => any>(\r\n\tfn: T,\r\n\tdelay: number\r\n): T => {\r\n\tconst timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n\tconst debouncedFn = useCallback(\r\n\t\t(...args: Parameters<T>) => {\r\n\t\t\tif (timeoutRef.current) {\r\n\t\t\t\tclearTimeout(timeoutRef.current);\r\n\t\t\t}\r\n\r\n\t\t\ttimeoutRef.current = setTimeout(() => {\r\n\t\t\t\tfn(...args);\r\n\t\t\t}, delay);\r\n\t\t},\r\n\t\t[fn, delay]\r\n\t) as T;\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (timeoutRef.current) {\r\n\t\t\t\tclearTimeout(timeoutRef.current);\r\n\t\t\t}\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn debouncedFn;\r\n};\r\n\r\nexport default useDebounce;\r\n","import { Audio } from 'expo-av';\r\nimport { Dispatch, SetStateAction, createContext, useState } from 'react';\r\n\r\ninterface RecordContextProps {\r\n\trecording?: Audio.Recording;\r\n\tsetRecording: Dispatch<SetStateAction<Audio.Recording | undefined>>;\r\n\taudioUri?: string;\r\n\tsetAudioUri: Dispatch<SetStateAction<string | undefined>>;\r\n\tsound?: Audio.Sound;\r\n\tsetSound: Dispatch<SetStateAction<Audio.Sound | undefined>>;\r\n\tisRecording: boolean;\r\n\tsetIsRecording: Dispatch<SetStateAction<boolean>>;\r\n\tisFinished: boolean;\r\n\tsetIsFinished: Dispatch<SetStateAction<boolean>>;\r\n\tisDone: boolean;\r\n\tsetIsDone: Dispatch<SetStateAction<boolean>>;\r\n\tisPlayingAudio: boolean;\r\n\tsetIsPlayingAudio: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst RecordContext = createContext<RecordContextProps | null>(null);\r\n\r\nconst RecordProvider = ({ children }: { children: React.ReactNode }) => {\r\n\tconst [recording, setRecording] = useState<Audio.Recording>();\r\n\tconst [audioUri, setAudioUri] = useState<string>();\r\n\tconst [sound, setSound] = useState<Audio.Sound | undefined>();\r\n\r\n\tconst [isRecording, setIsRecording] = useState(false);\r\n\tconst [isFinished, setIsFinished] = useState(false);\r\n\tconst [isDone, setIsDone] = useState(false);\r\n\r\n\tconst [isPlayingAudio, setIsPlayingAudio] = useState(false);\r\n\r\n\treturn (\r\n\t\t<RecordContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\trecording,\r\n\t\t\t\tsetRecording,\r\n\t\t\t\taudioUri,\r\n\t\t\t\tsetAudioUri,\r\n\t\t\t\tsound,\r\n\t\t\t\tsetSound,\r\n\t\t\t\tisRecording,\r\n\t\t\t\tsetIsRecording,\r\n\t\t\t\tisFinished,\r\n\t\t\t\tsetIsFinished,\r\n\t\t\t\tisDone,\r\n\t\t\t\tsetIsDone,\r\n\t\t\t\tisPlayingAudio,\r\n\t\t\t\tsetIsPlayingAudio\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</RecordContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { RecordContext, RecordProvider };\r\n","import { useContext } from 'react';\r\nimport { RecordContext } from '@contexts/RecordContext';\r\n\r\nconst useRecordContext = () => {\r\n\tconst recordContext = useContext(RecordContext);\r\n\r\n\tif (!recordContext) {\r\n\t\tthrow new Error(\r\n\t\t\t'useRecordContext must be used within a RecordContextProvider'\r\n\t\t);\r\n\t}\r\n\r\n\treturn recordContext;\r\n};\r\n\r\nexport default useRecordContext;\r\n","import { AccessibilityInfo, AppState } from 'react-native';\r\n\r\nimport { Audio } from 'expo-av';\r\nimport Record from '@app/screens/Task/components/Record';\r\nimport { set } from 'react-hook-form';\r\nimport { useEffect } from 'react';\r\nimport usePlaySound from '../../usePlaySound';\r\nimport useRecordContext from '../../useRecordContext';\r\n\r\nconst useRecord = () => {\r\n\tconst {\r\n\t\trecording,\r\n\t\tsetRecording,\r\n\t\tisRecording,\r\n\t\tsetIsRecording,\r\n\t\tisFinished,\r\n\t\tsetIsFinished,\r\n\t\tisDone,\r\n\t\tsetIsDone,\r\n\t\taudioUri,\r\n\t\tsetAudioUri,\r\n\t\tisPlayingAudio,\r\n\t\tsetIsPlayingAudio,\r\n\t\tsound,\r\n\t\tsetSound\r\n\t} = useRecordContext();\r\n\r\n\tconst playSoundStartRecording = usePlaySound(\r\n\t\trequire('@sounds/startRecording.wav')\r\n\t);\r\n\tconst playSoundStopRecording = usePlaySound(\r\n\t\trequire('@sounds/stopRecording.wav')\r\n\t);\r\n\tconst playSoundSuccessRecording = usePlaySound(\r\n\t\trequire('@sounds/success.wav')\r\n\t);\r\n\tconst playSoundFailRecording = usePlaySound(require('@sounds/wrong.wav'));\r\n\r\n\tasync function startRecording() {\r\n\t\ttry {\r\n\t\t\tif (AppState.currentState !== 'active' || isRecording) {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"App is in the background or another recording is active, can't start recording\"\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tawait Audio.requestPermissionsAsync();\r\n\t\t\tawait Audio.setAudioModeAsync({\r\n\t\t\t\tallowsRecordingIOS: true,\r\n\t\t\t\tplaysInSilentModeIOS: true\r\n\t\t\t});\r\n\t\t\tplaySoundStartRecording();\r\n\t\t\tconst { recording: recordingTemp } =\r\n\t\t\t\tawait Audio.Recording.createAsync(\r\n\t\t\t\t\tAudio.RecordingOptionsPresets.HIGH_QUALITY\r\n\t\t\t\t);\r\n\t\t\tAccessibilityInfo.announceForAccessibility(\r\n\t\t\t\t'Grabando, presiona el botón nuevamente para detener la grabación'\r\n\t\t\t);\r\n\t\t\tsetRecording(recordingTemp);\r\n\t\t\tsetIsRecording(true);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to start recording', err);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function stopRecording(minimumDuration: number) {\r\n\t\tconsole.log('Stopping recording..');\r\n\t\tplaySoundStopRecording();\r\n\r\n\t\tif (!recording) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t\"Can't stop recording, as there is no recording object\"\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tawait (recording as Audio.Recording).stopAndUnloadAsync();\r\n\t\t\tawait Audio.setAudioModeAsync({\r\n\t\t\t\tallowsRecordingIOS: false\r\n\t\t\t});\r\n\t\t\tsetIsRecording(false);\r\n\t\t\tsetIsFinished(true);\r\n\t\t\tsetRecording(undefined);\r\n\r\n\t\t\tif (\r\n\t\t\t\trecording?._finalDurationMillis &&\r\n\t\t\t\trecording?._finalDurationMillis >= minimumDuration\r\n\t\t\t) {\r\n\t\t\t\tconst uri = (recording as Audio.Recording).getURI();\r\n\t\t\t\tconsole.log('Recording stopped and stored at', uri);\r\n\t\t\t\tif (uri) {\r\n\t\t\t\t\tsetAudioUri(uri);\r\n\t\t\t\t\tsetIsDone(true);\r\n\t\t\t\t\tAccessibilityInfo.announceForAccessibility(\r\n\t\t\t\t\t\t'Grabación finalizada con éxito, presiona el botón nuevamente para reproducir la grabación'\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetIsFinished(false);\r\n\t\t\t\t}, 1500);\r\n\t\t\t\tAccessibilityInfo.announceForAccessibility(\r\n\t\t\t\t\t'Grabación incorrecta, Intenta nuevamente'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to stop recording', err);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function playAudio() {\r\n\t\tif (sound) stopAudio();\r\n\t\tif (audioUri && !isPlayingAudio) {\r\n\t\t\tconsole.log('Playing audio..');\r\n\r\n\t\t\tsetIsPlayingAudio(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst { sound } = await Audio.Sound.createAsync(\r\n\t\t\t\t\t{ uri: audioUri },\r\n\t\t\t\t\t{ shouldPlay: true }\r\n\t\t\t\t);\r\n\r\n\t\t\t\tsound.setOnPlaybackStatusUpdate((playbackStatus) => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tplaybackStatus.isLoaded &&\r\n\t\t\t\t\t\tplaybackStatus.didJustFinish\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tsetIsPlayingAudio(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetSound(sound);\r\n\t\t\t\tawait sound.playAsync();\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Failed to play audio', err);\r\n\t\t\t\tsetIsPlayingAudio(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction deleteRecording() {\r\n\t\tAccessibilityInfo.announceForAccessibility('Grabación eliminada');\r\n\t\treset();\r\n\t}\r\n\r\n\tfunction reset() {\r\n\t\tsetIsFinished(false);\r\n\t\tsetIsDone(false);\r\n\t\tsetAudioUri('');\r\n\t\tsetIsRecording(false);\r\n\t}\r\n\r\n\tasync function stopAudio() {\r\n\t\tif (sound) {\r\n\t\t\tawait sound.stopAsync();\r\n\t\t\tsetSound(undefined);\r\n\t\t\tsetIsPlayingAudio(false);\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tstartRecording,\r\n\t\tstopRecording,\r\n\t\treset,\r\n\t\tplayAudio,\r\n\t\tstopAudio,\r\n\t\tdeleteRecording\r\n\t};\r\n};\r\n\r\nexport default useRecord;\r\n\r\n// \t//TODo make function to stop audio\r\n\r\n// export default useRecord;\r\n","import { Animated, StyleSheet, Text, ToastAndroid, View } from 'react-native';\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\n\r\nimport { FontAwesome5 } from '@expo/vector-icons';\r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport Pressable from '@app/shared/components/Pressable';\r\nimport { Theme } from '@app/theme';\r\nimport { hexToRgbA } from '@app/core/utils/hexToRgba';\r\nimport useDebounce from '@app/core/hooks/useDebounce';\r\nimport useRecord from '@app/core/hooks/Task/PosTask/useRecord';\r\nimport useRecordContext from '@app/core/hooks/useRecordContext';\r\nimport useTheme from '@app/core/hooks/useTheme';\r\n\r\ninterface Props {\r\n\tblocked: boolean;\r\n\tminimumTime: number;\r\n\tmaximumTime: number;\r\n\tsetRecorded: (recorded: boolean) => void;\r\n\tsetRecording: (recording: string) => void;\r\n}\r\n\r\nfunction Record({\r\n\tblocked,\r\n\tminimumTime,\r\n\tmaximumTime,\r\n\tsetRecorded,\r\n\tsetRecording\r\n}: Props) {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme, blocked);\r\n\tconst {\r\n\t\tstartRecording,\r\n\t\tstopRecording,\r\n\t\treset,\r\n\t\tplayAudio,\r\n\t\tstopAudio,\r\n\t\tdeleteRecording\r\n\t} = useRecord();\r\n\tconst { recording, isDone, isFinished, audioUri, isPlayingAudio } =\r\n\t\tuseRecordContext();\r\n\tconst [duration, setDuration] = useState<number | null>(null);\r\n\tconst scaleValue = useRef(new Animated.Value(1)).current;\r\n\r\n\tconst accessibilityLabel = useMemo(() => {\r\n\t\tif (blocked) {\r\n\t\t\treturn 'Debes contestar la pregunta primero';\r\n\t\t}\r\n\t\tif (recording) return 'Detener grabación';\r\n\t\tif (isDone) return 'Reproduce la grabación';\r\n\t\tif (isFinished) return 'Finalizado';\r\n\t\treturn 'Iniciar grabación';\r\n\t}, [blocked, recording, isDone, isFinished]);\r\n\r\n\tconst handleOnPress = useCallback(async () => {\r\n\t\tif (recording) {\r\n\t\t\tstopRecording(minimumTime);\r\n\t\t} else if (isDone) {\r\n\t\t\tplayAudio();\r\n\t\t} else {\r\n\t\t\tstartRecording();\r\n\t\t}\r\n\t}, [recording, isDone]);\r\n\r\n\tconst debouncedHandleOnPress = useDebounce(handleOnPress, 300);\r\n\r\n\tconst getTime = async () => {\r\n\t\tconst status = await recording?.getStatusAsync();\r\n\t\tsetDuration(status?.durationMillis ?? null);\r\n\t\tif (status?.durationMillis && status?.durationMillis >= maximumTime) {\r\n\t\t\tstopRecording(0);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDeleteRecording = () => {\r\n\t\tsetDuration(null);\r\n\t\tdeleteRecording();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet intervalId: NodeJS.Timeout | null = null;\r\n\r\n\t\tif (recording) {\r\n\t\t\tgetTime();\r\n\t\t\tintervalId = setInterval(() => {\r\n\t\t\t\tgetTime();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tif (intervalId) {\r\n\t\t\t\tclearInterval(intervalId);\r\n\t\t\t}\r\n\t\t};\r\n\t}, [recording]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (recording || isPlayingAudio) {\r\n\t\t\tAnimated.loop(\r\n\t\t\t\tAnimated.sequence([\r\n\t\t\t\t\tAnimated.timing(scaleValue, {\r\n\t\t\t\t\t\ttoValue: 1.2,\r\n\t\t\t\t\t\tduration: 500,\r\n\t\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tAnimated.timing(scaleValue, {\r\n\t\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\t\tduration: 500,\r\n\t\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t\t})\r\n\t\t\t\t])\r\n\t\t\t).start();\r\n\t\t} else {\r\n\t\t\tscaleValue.setValue(1);\r\n\t\t}\r\n\t}, [recording, scaleValue, isPlayingAudio]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isDone && audioUri) {\r\n\t\t\tsetRecorded(true);\r\n\t\t\tsetRecording(audioUri);\r\n\t\t} else {\r\n\t\t\tsetRecorded(false);\r\n\t\t}\r\n\t}, [isDone]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (recording) stopRecording(99999999);\r\n\t\tstopAudio();\r\n\t\treset();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View>\r\n\t\t\t<View style={styles.row}>\r\n\t\t\t\t<View style={{ marginRight: 55 }}></View>\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\tgetStyles(theme, blocked).containerPulse,\r\n\t\t\t\t\t\t{ transform: [{ scale: scaleValue }] }\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Pressable\r\n\t\t\t\t\t\tstyle={getStyles(theme, blocked).container}\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tblocked\r\n\t\t\t\t\t\t\t\t? ToastAndroid.show(\r\n\t\t\t\t\t\t\t\t\t\t'¡Debes contestar la pregunta primero!',\r\n\t\t\t\t\t\t\t\t\t\tToastAndroid.SHORT\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: debouncedHandleOnPress();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\taccessibilityLabel={accessibilityLabel}\r\n\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FontAwesome5\r\n\t\t\t\t\t\t\tname={\r\n\t\t\t\t\t\t\t\tblocked\r\n\t\t\t\t\t\t\t\t\t? 'microphone-slash'\r\n\t\t\t\t\t\t\t\t\t: recording\r\n\t\t\t\t\t\t\t\t\t? 'stop'\r\n\t\t\t\t\t\t\t\t\t: isDone\r\n\t\t\t\t\t\t\t\t\t? 'play'\r\n\t\t\t\t\t\t\t\t\t: isFinished\r\n\t\t\t\t\t\t\t\t\t? 'exclamation'\r\n\t\t\t\t\t\t\t\t\t: 'microphone'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsize={70}\r\n\t\t\t\t\t\t\tcolor={blocked ? 'gray' : 'white'}\r\n\t\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Pressable>\r\n\t\t\t\t</Animated.View>\r\n\t\t\t\t{isDone && (\r\n\t\t\t\t\t<View style={styles.deleteContainer}>\r\n\t\t\t\t\t\t<Pressable\r\n\t\t\t\t\t\t\tstyle={styles.deleteButton}\r\n\t\t\t\t\t\t\tonPress={handleDeleteRecording}\r\n\t\t\t\t\t\t\taccessibilityLabel=\"Borrar grabación\"\r\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MaterialIcons\r\n\t\t\t\t\t\t\t\tname=\"delete\"\r\n\t\t\t\t\t\t\t\tsize={30}\r\n\t\t\t\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Pressable>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<Text style={styles.subtitle}>\r\n\t\t\t\t{recording &&\r\n\t\t\t\t\t`Grabando... ${Math.floor(\r\n\t\t\t\t\t\t(duration as number) / 1000\r\n\t\t\t\t\t)} segundos`}\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nconst getStyles = (theme: Theme, blocked: boolean) =>\r\n\tStyleSheet.create({\r\n\t\tcontainerPulse: {\r\n\t\t\tbackgroundColor: blocked\r\n\t\t\t\t? hexToRgbA(theme.colors.gray, 0.8)\r\n\t\t\t\t: hexToRgbA(theme.colors.darkGreen, 0.5),\r\n\t\t\twidth: 180,\r\n\t\t\theight: 180,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: blocked\r\n\t\t\t\t? theme.colors.gray\r\n\t\t\t\t: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\twidth: 150,\r\n\t\t\theight: 150,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 250,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 30\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tdeleteContainer: {\r\n\t\t\tmarginLeft: 20\r\n\t\t},\r\n\t\tdeleteButton: {\r\n\t\t\tbackgroundColor: theme.colors.red,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\twidth: 60,\r\n\t\t\theight: 60,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Record;\r\n","import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tAccessibilityInfo,\r\n\tScrollView\r\n} from 'react-native';\r\nimport Record from '@screens/Task/components/Record';\r\nimport AudioPlayer from '@screens/Task/components/AudioPlayer';\r\nimport Option from '@app/screens/Task/components/Option';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePreTask from '@hooks/Task/PreTask/usePreTask';\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\nimport useRecord from '@app/core/hooks/Task/PosTask/useRecord';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\nimport Instructions from '../../components/Instructions';\r\nimport usePlaySound from '@app/core/hooks/usePlaySound';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst AudioSpeaking = ({ route }: Props) => {\r\n\tconst { question } = route.params as {\r\n\t\tquestion: PreTaskQuestion;\r\n\t\ttaskOrder: number;\r\n\t};\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\tconst words = question.content.split(' ');\r\n\tconst { stopAudio } = useRecord();\r\n\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst [recorded, setRecorded] = useState(false);\r\n\tconst [hasConfirm, setHasConfirm] = useState(false);\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\r\n\tconst handlePressConfirm = () => {\r\n\t\tplaySoundSuccess();\r\n\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\tsetHasConfirm(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (hasConfirm) {\r\n\t\t\tstopAudio();\r\n\t\t\tnextQuestion();\r\n\t\t}\r\n\t}, [hasConfirm]);\r\n\r\n\tuseEffect(() => {\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<ScrollView style={styles.scroll}>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<Instructions text=\"Grábate diciendo la frase\" />\r\n\t\t\t\t\t<Text style={styles.question}>\r\n\t\t\t\t\t\t{words.map((word, index) => {\r\n\t\t\t\t\t\t\treturn <Text key={index}>{word} </Text>;\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<AudioPlayer\r\n\t\t\t\t\t\ttextToSpeech={question.content}\r\n\t\t\t\t\t\tlang={question.lang}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Text style={styles.title} accessibilityLabel=\"Grabación\">\r\n\t\t\t\t\t\tGrabación\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<View style={styles.secondaryContainer}>\r\n\t\t\t\t\t\t<Record\r\n\t\t\t\t\t\t\tblocked={false}\r\n\t\t\t\t\t\t\tminimumTime={1000}\r\n\t\t\t\t\t\t\tsetRecorded={setRecorded}\r\n\t\t\t\t\t\t\tsetRecording={() => {}}\r\n\t\t\t\t\t\t\tmaximumTime={60000}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t\t{recorded && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\thandlePressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t</ScrollView>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tscroll: {\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 250,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 30\r\n\t\t},\r\n\t\tsecondaryContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginRight: 10,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 30,\r\n\t\t\tmarginBottom: 50\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t}\r\n\t});\r\n\r\nexport default AudioSpeaking;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tinAnswerBox?: boolean;\r\n}\r\n\r\nconst Option = ({ text, onPress, inAnswerBox }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={styles.container}\r\n\t\t\tonPress={onPress}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={text}\r\n\t\t\taccessibilityHint={\r\n\t\t\t\tinAnswerBox\r\n\t\t\t\t\t? 'Presiona para remover esta opción del campo de texto'\r\n\t\t\t\t\t: 'Presiona para llevar esta opción al campo de texto'\r\n\t\t\t}\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\theight: 60,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginTop: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Option from './Option';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tanswerList: string[];\r\n\tonAnswerPress: (index: number) => void;\r\n}\r\n\r\nconst AnswerBox = ({ answerList, onAnswerPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\tanswerList.length > 0\r\n\t\t\t\t\t? styles.notEmptyContainer\r\n\t\t\t\t\t: styles.emptyContainer\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{answerList.length > 0 ? (\r\n\t\t\t\tanswerList.map((answer, index) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\ttext={answer}\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonAnswerPress(index);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tinAnswerBox={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tPulsa las letras para formar la palabra\r\n\t\t\t\t</Text>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t\t// minHeight: 200,\r\n\t\t},\r\n\t\temptyContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\theight: 82\r\n\t\t},\r\n\t\tnotEmptyContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingBottom: 10\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\topacity: 0.4,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default AnswerBox;\r\n","import { View, Text, StyleSheet, AccessibilityInfo, Image } from 'react-native';\r\nimport Instructions from '../../components/Instructions';\r\nimport OptionTask from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Option from './components/Option';\r\nimport AnswerBox from './components/AnswerBox';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\nimport useTextToSpeech from '@app/core/hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { shuffleList } from '@utils/shuffleList';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst OrderAWord = ({ route }: Props) => {\r\n\tconst { question } = route.params as {\r\n\t\tquestion: PreTaskQuestion;\r\n\t\ttaskOrder: number;\r\n\t};\r\n\tconst theme = useTheme();\r\n\tconst [allOptionsInBox, setAllOptionsInBox] = useState(false);\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst [optionsList, setOptionsList] = useState([] as string[]);\r\n\tconst [answerList, setAnswerList] = useState([] as string[]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst correctOrder = question.options\r\n\t\t.filter((option) => option.correct)[0]\r\n\t\t.content.split('');\r\n\r\n\tconst onPressConfirm = () => {\r\n\t\tconst isCorrect = answerList.every(\r\n\t\t\t(answer, index) =>\r\n\t\t\t\tanswer.toLowerCase() === correctOrder[index].toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (isCorrect) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.red });\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetStates();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\t\tsetAnswerList([]);\r\n\t\t\tsetConfirmContainerStyle({});\r\n\t\t\tsetAllOptionsInBox(false);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst onAnswerPress = (index: number) => {\r\n\t\tsetOptionsList([...optionsList, answerList[index]]);\r\n\t\tsetAnswerList(answerList.filter((_, i) => i !== index));\r\n\t\tsetAllOptionsInBox(false);\r\n\t};\r\n\r\n\tconst onPressOption = (index: number) => {\r\n\t\tspeak(optionsList[index]);\r\n\t\tsetAnswerList([...answerList, optionsList[index]]);\r\n\t\tsetOptionsList(optionsList.filter((_, i) => i !== index));\r\n\r\n\t\tif (answerList.length + 1 === correctOrder.length) {\r\n\t\t\tsetAllOptionsInBox(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\tsetAnswerList([]);\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<Instructions text=\"Describe la imagen ordenando las letras.\" />\r\n\t\t\t\t\t<Text style={styles.question}>{question.content}</Text>\r\n\t\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\t\taccessible\r\n\t\t\t\t\t\t\taccessibilityLabel={question.imgAlt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<AnswerBox\r\n\t\t\t\t\t\tanswerList={answerList}\r\n\t\t\t\t\t\tonAnswerPress={onAnswerPress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t\t{optionsList.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\ttext={option}\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tonPressOption(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t\t{allOptionsInBox && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<OptionTask\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tcloseModal();\r\n\t\t\t\t}}\r\n\t\t\t\thelp={correctOrder.join(' ')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tmarginBottom: 20\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 30,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tseparator: {\r\n\t\t\twidth: 10\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t}\r\n\t});\r\n\r\nexport default OrderAWord;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tinAnswerBox?: boolean;\r\n}\r\n\r\nconst Option = ({ text, onPress, inAnswerBox }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={styles.container}\r\n\t\t\tonPress={onPress}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={text}\r\n\t\t\taccessibilityHint={\r\n\t\t\t\tinAnswerBox\r\n\t\t\t\t\t? 'Presiona para remover esta opción del campo de texto'\r\n\t\t\t\t\t: 'Presiona para llevar esta opción al campo de texto'\r\n\t\t\t}\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\theight: 60,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginTop: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Option from './Option';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tanswerList: string[];\r\n\tonAnswerPress: (index: number) => void;\r\n}\r\n\r\nconst AnswerBox = ({ answerList, onAnswerPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\tanswerList.length > 0\r\n\t\t\t\t\t? styles.notEmptyContainer\r\n\t\t\t\t\t: styles.emptyContainer\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{answerList.length > 0 ? (\r\n\t\t\t\tanswerList.map((answer, index) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\ttext={answer}\r\n\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\tonAnswerPress(index);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tinAnswerBox={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tPulsa las letras para formar la palabra\r\n\t\t\t\t</Text>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t\t// minHeight: 200,\r\n\t\t},\r\n\t\temptyContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\theight: 82\r\n\t\t},\r\n\t\tnotEmptyContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingBottom: 10\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\topacity: 0.4,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default AnswerBox;\r\n","import { View, Text, StyleSheet, AccessibilityInfo, Image } from 'react-native';\r\nimport Instructions from '../../components/Instructions';\r\nimport OptionTask from '@screens/Task/components/Option';\r\nimport * as Haptics from 'expo-haptics';\r\nimport Option from './components/Option';\r\nimport AnswerBox from './components/AnswerBox';\r\nimport AudioPlayer from '@app/screens/Task/components/AudioPlayer';\r\nimport Modal from '@screens/Task/components/Modal';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\nimport useTextToSpeech from '@app/core/hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PreTaskQuestion } from '@interfaces/PreTaskQuestion.interface';\r\n\r\nimport { shuffleList } from '@utils/shuffleList';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst AudioOrderAWord = ({ route }: Props) => {\r\n\tconst { question } = route.params as {\r\n\t\tquestion: PreTaskQuestion;\r\n\t\ttaskOrder: number;\r\n\t};\r\n\tconst theme = useTheme();\r\n\tconst [allOptionsInBox, setAllOptionsInBox] = useState(false);\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst [optionsList, setOptionsList] = useState([] as string[]);\r\n\tconst [answerList, setAnswerList] = useState([] as string[]);\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst { nextQuestion } = usePreTask();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst correctOrder = question.options\r\n\t\t.filter((option) => option.correct)[0]\r\n\t\t.content.split('');\r\n\r\n\tconst onPressConfirm = () => {\r\n\t\tconst isCorrect = answerList.every(\r\n\t\t\t(answer, index) =>\r\n\t\t\t\tanswer.toLowerCase() === correctOrder[index].toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (isCorrect) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\t\tnextQuestion();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.red });\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t\tsetShowModal(true);\r\n\t\t\tresetStates();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\t\tsetAnswerList([]);\r\n\t\t\tsetConfirmContainerStyle({});\r\n\t\t\tsetAllOptionsInBox(false);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst onAnswerPress = (index: number) => {\r\n\t\tsetOptionsList([...optionsList, answerList[index]]);\r\n\t\tsetAnswerList(answerList.filter((_, i) => i !== index));\r\n\t\tsetAllOptionsInBox(false);\r\n\t};\r\n\r\n\tconst onPressOption = (index: number) => {\r\n\t\tspeak(optionsList[index]);\r\n\t\tsetAnswerList([...answerList, optionsList[index]]);\r\n\t\tsetOptionsList(optionsList.filter((_, i) => i !== index));\r\n\r\n\t\tif (answerList.length + 1 === correctOrder.length) {\r\n\t\t\tsetAllOptionsInBox(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptionsList(shuffleList(correctOrder));\r\n\t\tsetAnswerList([]);\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content, question.lang);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<Instructions text=\"Describe la imagen ordenando las letras.\" />\r\n\t\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\t\taccessible\r\n\t\t\t\t\t\t\taccessibilityLabel={question.imgAlt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<AudioPlayer\r\n\t\t\t\t\t\ttextToSpeech={question.content}\r\n\t\t\t\t\t\tlang={question.lang}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AnswerBox\r\n\t\t\t\t\t\tanswerList={answerList}\r\n\t\t\t\t\t\tonAnswerPress={onAnswerPress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t\t{optionsList.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\ttext={option}\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tonPressOption(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t\t{allOptionsInBox && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<OptionTask\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tcloseModal();\r\n\t\t\t\t}}\r\n\t\t\t\thelp={correctOrder.join(' ')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 30,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tseparator: {\r\n\t\t\twidth: 10\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t},\r\n\t\tplayerContainer: {\r\n\t\t\theight: 55,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tanimationContainer: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\theight: 72\r\n\t\t}\r\n\t});\r\n\r\nexport default AudioOrderAWord;\r\n","import { View, Text, StyleSheet, Platform } from 'react-native';\r\nimport LottieView from 'lottie-react-native';\r\nimport Option from '@screens/Task/components/Option';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePreTask from '@app/core/hooks/Task/PreTask/usePreTask';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport usePlaySound from '@app/core/hooks/usePlaySound';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Complete = () => {\r\n\tconst theme = useTheme();\r\n\tconst { setPreTaskComplete } = usePreTask();\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/complete.wav'));\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tconst onButtonPress = () => {\r\n\t\tnavigation.reset({\r\n\t\t\tindex: 0,\r\n\t\t\troutes: [{ name: 'Introduction', params: { taskOrder } }]\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPreTaskComplete({ taskOrder });\r\n\t\tplaySoundSuccess();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View>\r\n\t\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\tsource={require('@animations/celebration.json')}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: 500,\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\ttop: -80,\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\talignSelf: 'center'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Text style={styles.text}>¡Felicidades, lo lograste!</Text>\r\n\t\t\t</View>\r\n\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t<LottieView\r\n\t\t\t\t\tsource={require('@animations/star.json')}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tloop={false}\r\n\t\t\t\t\tduration={2000}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<View>\r\n\t\t\t\t<Option\r\n\t\t\t\t\ttext=\"Volver al menú\"\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonButtonPress();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerStyle={{}}\r\n\t\t\t\t\ttextStyle={{\r\n\t\t\t\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\t\t\t\tfontSize: theme.fontSize.xl\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxxxxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 20,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t},\r\n\t\tanimationsContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t}\r\n\t});\r\n\r\nexport default Complete;\r\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { NativeStackNavigationOptions } from '@react-navigation/native-stack';\r\n\r\nimport Loading from './screens/Loading';\r\nimport MultipleChoice from './screens/MultipleChoice';\r\nimport FillBlank from './screens/FillBlank';\r\nimport FlashCards from './screens/FlashCards';\r\nimport Order from './screens/Order';\r\nimport AudioMultipleChoice from './screens/AudioMultipleChoice';\r\nimport AudioOrder from './screens/AudioOrder';\r\nimport AudioSpeaking from './screens/AudioSpeaking';\r\nimport OrderAWord from './screens/OrderAWord';\r\nimport AudioOrderAWord from './screens/AudioOrderAWord';\r\nimport Complete from './screens/Complete';\r\n\r\nimport PreTaskProvider from '@contexts/PreTaskContext';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst PreTask = ({ route }: Props) => {\r\n\tconst optionsPrimary: NativeStackNavigationOptions = {\r\n\t\tanimation: 'slide_from_right',\r\n\t\theaderBackVisible: false,\r\n\t\theaderShown: false\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PreTaskProvider>\r\n\t\t\t<Stack.Navigator>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Loading\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Loading}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"MultipleChoice\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={MultipleChoice}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"FillBlank\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={FillBlank}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"FlashCards\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={FlashCards}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Order\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Order}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"AudioMultipleChoice\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={AudioMultipleChoice}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"AudioOrder\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={AudioOrder}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"AudioSpeaking\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={AudioSpeaking}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"OrderAWord\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={OrderAWord}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"AudioOrderAWord\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={AudioOrderAWord}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Complete\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Complete}\r\n\t\t\t\t/>\r\n\t\t\t</Stack.Navigator>\r\n\t\t</PreTaskProvider>\r\n\t);\r\n};\r\n\r\nexport default PreTask;\r\n","export enum SocketEvents {\r\n\tSESSION_TEACHER_CREATE = 'session:teacher:create',\r\n\tSESSION_TEACHER_START = 'session:teacher:start',\r\n\tSESSION_TEACHER_END = 'session:teacher:end',\r\n\tTEAMS_STUDENT_UPDATE = 'teams:student:update',\r\n\tTEAM_STUDENT_UPDATE = 'team:student:update',\r\n\tTEAM_STUDENT_ANSWER = 'team:student:answer',\r\n\tCOURSE_LEADERBOARD_UPDATE = 'course:leaderboard:update',\r\n\tTEAM_STUDENT_LEAVE = 'team:student:leave'\r\n}\r\n","import { io } from 'socket.io-client';\r\nimport { environment } from '@environments/environment';\r\n\r\nconst uri = environment.socketUrl;\r\n\r\nexport const socket = io(uri);\r\n","import { create } from 'zustand';\r\n\r\nexport interface ImageStackElement {\r\n\timgUrl: string;\r\n\tidOption: number;\r\n}\r\n\r\nexport interface ImageStack {\r\n\timageStack: ImageStackElement[];\r\n\tpushImageStack: (elem: ImageStackElement) => void;\r\n\tclearImageStack: () => void;\r\n}\r\n\r\nconst useImageStackStore = create<ImageStack>((set) => ({\r\n\timageStack: [],\r\n\tpushImageStack: (elem: ImageStackElement) =>\r\n\t\tset((state) => ({ imageStack: [...state.imageStack, elem] })),\r\n\t// pushImageStack: (elem: ImageStackElement) =>\r\n\t// \tset((state) => {\r\n\t// \t\tconsole.log('imageStack', [...state.imageStack, elem]);\r\n\t// \t\treturn { imageStack: [...state.imageStack, elem] };\r\n\t// \t}),\r\n\tclearImageStack: () => set({ imageStack: [] })\r\n\t// clearImageStack: () => {\r\n\t// \tconsole.log('imageStack []');\r\n\t// \tset({ imageStack: [] });\r\n\t// }\r\n}));\r\n\r\nexport default useImageStackStore;\r\n","import { Dispatch, SetStateAction, createContext } from 'react';\r\nimport { Socket } from 'socket.io-client';\r\nimport { Power } from '@enums/Power.enum';\r\nimport { Team } from '@interfaces/Team.interface';\r\nimport { Mechanics } from '@app/shared/enums/Mechanics.enum';\r\n\r\ninterface DuringTaskValues {\r\n\tsocket: Socket;\r\n\tpower: Power | null;\r\n\tsetPower: Dispatch<SetStateAction<Power | null>>;\r\n\tteam: Team | null;\r\n\tsetTeam: Dispatch<SetStateAction<Team | null>>;\r\n\tposition: number | null;\r\n\tsetPosition: Dispatch<SetStateAction<number | null>>;\r\n\tnumQuestions: number | null;\r\n\tmechanics: Mechanics[] | null;\r\n\tsetMechanics: Dispatch<SetStateAction<Mechanics[] | null>>;\r\n}\r\n\r\nexport const DuringTaskContext = createContext<DuringTaskValues | null>(null);\r\n","import { useContext } from 'react';\r\nimport { DuringTaskContext } from '../../../contexts/DuringTaskContext';\r\n\r\nexport const useDuringTaskContext = () => {\r\n\tconst context = useContext(DuringTaskContext);\r\n\tif (!context) {\r\n\t\tthrow new Error(\r\n\t\t\t'useDuringTaskContext must be used within a DuringTaskContextProvider'\r\n\t\t);\r\n\t}\r\n\treturn context;\r\n};\r\n","import { Text, View, StyleSheet, Platform } from 'react-native';\r\nimport LottieView from 'lottie-react-native';\r\nimport { Link } from '@react-navigation/native';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useImageStackStore from '@app/core/hooks/Task/DurinTask/useImageStackStore';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport { useDuringTaskContext } from '@app/core/hooks/Task/DurinTask/useDuringTaskContext';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { Theme } from '@theme';\r\nimport { SocketEvents } from '@enums/SocketEvents.enum';\r\n\r\nconst WaitingActive = ({ route }: { route: any }) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst theme = useTheme();\r\n\tconst { resetContext } = useTaskContext();\r\n\tconst { socket } = useDuringTaskContext();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst { imageStack, clearImageStack } = useImageStackStore();\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tuseEffect(() => {\r\n\t\tresetContext();\r\n\t\tif (imageStack.length) clearImageStack();\r\n\t\tsocket.once(SocketEvents.SESSION_TEACHER_CREATE, () => {\r\n\t\t\tnavigation.navigate('ChooseGroup', { taskOrder: taskOrder });\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t<LottieView\r\n\t\t\t\t\tsource={require('@animations/waitingActive.json')}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Text\r\n\t\t\t\tstyle={styles.text}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityLabel=\"Espera que tu profesor active la During-Task para comenzar.\"\r\n\t\t\t>\r\n\t\t\t\tEspera que tu profesor active la During-Task para comenzar.\r\n\t\t\t</Text>\r\n\t\t\t<Link\r\n\t\t\t\tto={{\r\n\t\t\t\t\tscreen: 'Introduction',\r\n\t\t\t\t\tparams: { taskOrder: taskOrder }\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={styles.link}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityLabel=\"Volver a la lista de tareas\"\r\n\t\t\t\taccessibilityHint=\"Presiona dos veces para volver a la lista de tareas.\"\r\n\t\t\t>\r\n\t\t\t\t<Text style={styles.linkText}>Volver a la lista de tareas</Text>\r\n\t\t\t</Link>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\twidth: 300,\r\n\t\t\theight: 300\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\twidth: '80%'\r\n\t\t},\r\n\t\tlink: {\r\n\t\t\tmarginTop: 40\r\n\t\t},\r\n\t\tlinkText: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\twidth: '80%',\r\n\t\t\ttextDecorationLine: 'underline'\r\n\t\t}\r\n\t});\r\n\r\nexport default WaitingActive;\r\n","export enum Power {\r\n\tMEMORY_PRO = 'memory_pro',\r\n\tSUPER_RADAR = 'super_radar',\r\n\tSUPER_HEARING = 'super_hearing'\r\n}\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\nimport { useDuringTaskContext } from './useDuringTaskContext';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Team } from '@interfaces/Team.interface';\r\nimport { Power } from '@enums/Power.enum';\r\nimport { DuringTask } from '@interfaces/DuringTask.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Petición inválida'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[409, 'El estudiante ya tiene un equipo'],\r\n\t[410, 'El equipo no está activo'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useTeam = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<(Team & { myPower: Power }) | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\tconst { setTeam, setPower, setMechanics } = useDuringTaskContext();\r\n\r\n\tconst joinTeam = useCallback(\r\n\t\tasync (data: {\r\n\t\t\tcode: string;\r\n\t\t\ttaskOrder: number;\r\n\t\t}): Promise<DuringTask | null> => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${environment.apiUrl}/teams`,\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`,\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetData(response.data);\r\n\t\t\t\t\tsetMechanics(response.data.mechanics);\r\n\t\t\t\t\t// TODO - Remove this from here\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst leaveTeam = useCallback(async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.put(\r\n\t\t\t\t`${environment.apiUrl}/teams`,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\tsetTeam(null);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst getMyTeam = async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/teams/current`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\tsetTeam(response.data);\r\n\t\t\t\tsetPower(response.data.myPower);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t};\r\n\r\n\treturn { loading, error, data, joinTeam, leaveTeam, getMyTeam };\r\n};\r\n\r\nexport default useTeam;\r\n","import { View, StyleSheet, Text } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTeam from '@app/core/hooks/Task/DurinTask/useTeam';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { Student } from '@interfaces/Student.interface';\r\nimport { Theme } from '@theme';\r\nimport Pressable from '@components/Pressable';\r\nimport { Power } from '@enums/Power.enum';\r\n\r\ninterface Props {\r\n\tid: string;\r\n\tname: string;\r\n\tmembers: Student[];\r\n\ttaskOrder: number;\r\n}\r\n\r\nconst GroupCard = ({ id, name, members, taskOrder }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst { joinTeam } = useTeam();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst getPower = (power: Power) => {\r\n\t\tswitch (power) {\r\n\t\t\tcase Power.MEMORY_PRO:\r\n\t\t\t\treturn 'Memory Pro';\r\n\t\t\tcase Power.SUPER_HEARING:\r\n\t\t\t\treturn 'Super Hearing';\r\n\t\t\tcase Power.SUPER_RADAR:\r\n\t\t\t\treturn 'Super Radar';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Desconocido';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`Grupo ${name}, miembros: ${members.length}`}\r\n\t\t\taccessibilityRole=\"button\"\r\n\t\t>\r\n\t\t\t<Text style={styles.title} accessible={false}>\r\n\t\t\t\t{name}\r\n\t\t\t</Text>\r\n\t\t\t<View\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel={`Miembros del grupo: ${members\r\n\t\t\t\t\t.map(\r\n\t\t\t\t\t\t(member) =>\r\n\t\t\t\t\t\t\tmember.firstName +\r\n\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\tmember.lastName +\r\n\t\t\t\t\t\t\t', poder: ' +\r\n\t\t\t\t\t\t\tgetPower(member.power)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.join(', ')}`}\r\n\t\t\t\taccessibilityRole=\"text\"\r\n\t\t\t>\r\n\t\t\t\t{members.map((member) => (\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={styles.textMember}\r\n\t\t\t\t\t\tkey={member.id}\r\n\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{member.firstName +\r\n\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\tmember.lastName +\r\n\t\t\t\t\t\t\t' - ' +\r\n\t\t\t\t\t\t\tgetPower(member.power)}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t))}\r\n\t\t\t</View>\r\n\t\t\t{members.length < 3 && (\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\tonPress={async () => {\r\n\t\t\t\t\t\tawait joinTeam({ code: id, taskOrder });\r\n\t\t\t\t\t\tnavigation.navigate('WaitingBegin', { taskOrder });\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taccessible\r\n\t\t\t\t\taccessibilityLabel=\"Ingresar al grupo\"\r\n\t\t\t\t\taccessibilityHint=\"Toca dos veces para ingresar a este grupo\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text style={styles.text} accessible={false}>\r\n\t\t\t\t\t\tIngresar\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</Pressable>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpadding: 15,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginTop: 20,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ttextMember: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default GroupCard;\r\n","import {\r\n\tPlaceholder as PlaceholderRN,\r\n\tPlaceholderMedia,\r\n\tPlaceholderLine,\r\n\tShineOverlay\r\n} from 'rn-placeholder';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Placeholder = () => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View style={styles.card}>\r\n\t\t\t\t<PlaceholderRN Animation={ShineOverlay}>\r\n\t\t\t\t\t<PlaceholderLine width={40} height={30} />\r\n\t\t\t\t\t<PlaceholderLine />\r\n\t\t\t\t\t<PlaceholderLine width={60} />\r\n\t\t\t\t\t<PlaceholderLine width={70} />\r\n\t\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\tnoMargin={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PlaceholderRN>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpadding: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginTop: 20,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Placeholder;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Team } from '@interfaces/Team.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Petición inválida'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[409, 'El estudiante ya tiene un equipo'],\r\n\t[410, 'El equipo no está activo'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useTeams = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<Team[] | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getTeams = useCallback(async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(`${environment.apiUrl}/teams`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t},\r\n\t\t\t\ttimeout: 10000\r\n\t\t\t});\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn { loading, error, data, getTeams };\r\n};\r\n\r\nexport default useTeams;\r\n","import { View, Text, StyleSheet, FlatList } from 'react-native';\r\nimport GroupCard from './components/GroupCard';\r\nimport Placeholder from './components/Placeholder';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport useTeams from '@app/core/hooks/Task/DurinTask/useTeams';\r\nimport { useDuringTaskContext } from '@app/core/hooks/Task/DurinTask/useDuringTaskContext';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport useTeam from '@app/core/hooks/Task/DurinTask/useTeam';\r\n\r\nimport { SocketEvents } from '@enums/SocketEvents.enum';\r\nimport { Team } from '@interfaces/Team.interface';\r\n\r\nconst ChooseGroup = ({ route }: any) => {\r\n\tconst theme = useTheme();\r\n\tconst { resetContext } = useTaskContext();\r\n\tconst { error, loading, data, getTeams } = useTeams();\r\n\tconst { leaveTeam } = useTeam();\r\n\tconst { socket } = useDuringTaskContext();\r\n\tconst [groups, setGroups] = useState<Team[]>([]);\r\n\tconst { taskOrder } = route.params;\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst getGroups = async () => {\r\n\t\tsetGroups(await getTeams());\r\n\t};\r\n\r\n\tconst init = async () => {\r\n\t\tawait leaveTeam();\r\n\t\tawait getGroups();\r\n\t\tresetContext();\r\n\r\n\t\tsocket.on(SocketEvents.TEAMS_STUDENT_UPDATE, (data: Team[]) => {\r\n\t\t\tsetGroups(data);\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.off(SocketEvents.TEAMS_STUDENT_UPDATE);\r\n\t\t};\r\n\t};\r\n\r\n\tuseFocusEffect(\r\n\t\tuseCallback(() => {\r\n\t\t\tinit();\r\n\t\t}, [])\r\n\t);\r\n\r\n\tif (loading)\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tEs momento de que escojas tu grupo:\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Placeholder />\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<FlatList\r\n\t\t\tdata={groups.filter(\r\n\t\t\t\t(group) =>\r\n\t\t\t\t\tgroup.taskOrder === taskOrder || group.taskOrder === null\r\n\t\t\t)}\r\n\t\t\trenderItem={({ item, index }) => (\r\n\t\t\t\t<GroupCard\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tid={item.code}\r\n\t\t\t\t\tname={item.name}\r\n\t\t\t\t\tmembers={item.students}\r\n\t\t\t\t\ttaskOrder={taskOrder}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\tkeyExtractor={(item) => item.id.toString()}\r\n\t\t\tItemSeparatorComponent={() => <View style={{ height: 20 }} />}\r\n\t\t\tstyle={styles.flatlist}\r\n\t\t\tListHeaderComponent={() => (\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\tEs momento de que escojas tu grupo:\r\n\t\t\t\t</Text>\r\n\t\t\t)}\r\n\t\t\tListFooterComponent={() => <View style={{ height: 80 }} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tpaddingBottom: 20\r\n\t\t},\r\n\t\tflatlist: {\r\n\t\t\tbackgroundColor: theme.colors.white\r\n\t\t}\r\n\t});\r\n\r\nexport default ChooseGroup;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport React from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\n\r\nconst Title = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tmarginBottom: 10,\r\n\t\t\ttextAlign: 'center'\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import { View, Text, StyleSheet, Image, ActivityIndicator } from 'react-native';\r\nimport { Power as PowerEnum } from '@enums/Power.enum';\r\nimport Pressable from '@components/Pressable';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport useMediaQuery from '@hooks/useMediaQuery';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tpower: PowerEnum;\r\n\tblockReRoll: boolean;\r\n\tonReRoll: () => void;\r\n\tloading: boolean;\r\n}\r\n\r\nconst Power = ({ power, blockReRoll, onReRoll, loading }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst [title, setTitle] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [image, setImage] = useState<any>(null);\r\n\tconst { isPhone } = useMediaQuery();\r\n\tconst styles = getStyles(theme, isPhone);\r\n\r\n\tuseEffect(() => {\r\n\t\tswitch (power) {\r\n\t\t\tcase PowerEnum.MEMORY_PRO:\r\n\t\t\t\tsetTitle('Memory Pro');\r\n\t\t\t\tsetDescription(\r\n\t\t\t\t\t'Puede recordar la traducción de los sustantivos.'\r\n\t\t\t\t);\r\n\t\t\t\tsetImage(require('@images/memoryPro.png'));\r\n\t\t\t\tbreak;\r\n\t\t\tcase PowerEnum.SUPER_HEARING:\r\n\t\t\t\tsetTitle('Super hearing');\r\n\t\t\t\tsetDescription('Puede recordar lo que el guía dijo.');\r\n\t\t\t\tsetImage(require('@images/superHearing.png'));\r\n\t\t\t\tbreak;\r\n\t\t\tcase PowerEnum.SUPER_RADAR:\r\n\t\t\t\tsetTitle('Super radar');\r\n\t\t\t\tsetDescription(\r\n\t\t\t\t\t'Puede recordar la traducción de las preposiciones.'\r\n\t\t\t\t);\r\n\t\t\t\tsetImage(require('@images/superRadar.png'));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, [power]);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible\r\n\t\t\taccessibilityLabel={`Tu superpoder es ${title}. ${description}.`}\r\n\t\t>\r\n\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t<Image\r\n\t\t\t\t\tsource={image}\r\n\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\taccessible\r\n\t\t\t\t\taccessibilityLabel={`Imagen del superpoder ${title}`}\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t\t<View style={styles.textContainer}>\r\n\t\t\t\t<Text style={styles.title}>{title}</Text>\r\n\t\t\t\t<Text style={styles.description}>{description}</Text>\r\n\t\t\t</View>\r\n\t\t\t{!blockReRoll && (\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tonPress={onReRoll}\r\n\t\t\t\t\taccessibilityLabel=\"Recargar superpoder\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<View style={styles.iconContainer}>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<ActivityIndicator color={theme.colors.white} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Ionicons\r\n\t\t\t\t\t\t\t\tname={'reload'}\r\n\t\t\t\t\t\t\t\tsize={26}\r\n\t\t\t\t\t\t\t\tcolor={theme.colors.white}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Pressable>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme, isPhone: boolean) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\talignItems: 'center',\r\n\t\t\talignSelf: 'flex-start'\r\n\t\t\t// justifyContent: 'space-between',\r\n\t\t},\r\n\t\ticonContainer: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\twidth: 45,\r\n\t\t\theight: 45,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginStart: !isPhone ? 10 : 0,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tdescription: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ttextContainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tmarginHorizontal: 10\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\twidth: 70,\r\n\t\t\theight: 70,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tbackgroundColor: theme.colors.yellow,\r\n\t\t\tmarginBottom: 5,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50\r\n\t\t}\r\n\t});\r\n\r\nexport default Power;\r\n","import {\r\n\tPlaceholder as PlaceholderRN,\r\n\tPlaceholderMedia,\r\n\tPlaceholderLine,\r\n\tShineOverlay\r\n} from 'rn-placeholder';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Placeholder = () => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.superContainer}>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<PlaceholderRN Animation={ShineOverlay}>\r\n\t\t\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<PlaceholderLine width={30} height={20} />\r\n\t\t\t\t\t\t<PlaceholderLine width={60} />\r\n\t\t\t\t\t\t<PlaceholderLine width={70} />\r\n\t\t\t\t\t\t<PlaceholderLine width={50} />\r\n\t\t\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\t\t\twidth={30}\r\n\t\t\t\t\t\t\theight={20}\r\n\t\t\t\t\t\t\tstyle={{ marginTop: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tflexDirection: 'row',\r\n\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\tjustifyContent: 'space-between'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\t\t\t\tborderRadius: 8\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\t\t\t\tborderRadius: 8\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\tborderRadius: 30\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t</PlaceholderRN>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tsuperContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tflex: 1,\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '90%'\r\n\t\t},\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpadding: 20,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginTop: 20,\r\n\t\t\t...theme.shadow\r\n\t\t}\r\n\t});\r\n\r\nexport default Placeholder;\r\n","export enum Character {\r\n\tVALERY = 'valery',\r\n\tBETO = 'beto',\r\n\tALEX = 'alex',\r\n\tCHUCHO = 'chucho'\r\n}\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { Power } from '@enums/Power.enum';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst usePower = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<{ power: Power } | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getMyPower = useCallback(async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/teams/current/power`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst rollPower = async () => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.put(\r\n\t\t\t\t`${environment.apiUrl}/teams/current/reroll`,\r\n\t\t\t\t{},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t};\r\n\r\n\treturn { loading, error, data, getMyPower, rollPower };\r\n};\r\n\r\nexport default usePower;\r\n","import { View, Text, StyleSheet, Platform } from 'react-native';\r\nimport Title from '../../components/Title';\r\nimport LottieView from 'lottie-react-native';\r\nimport Power from './components/Power';\r\nimport Placeholder from './components/Placeholder';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport { useDuringTaskContext } from '@app/core/hooks/Task/DurinTask/useDuringTaskContext';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport useTeam from '@app/core/hooks/Task/DurinTask/useTeam';\r\nimport usePower from '@app/core/hooks/Task/DurinTask/usePower';\r\n\r\nimport { Theme } from '@theme';\r\nimport { SocketEvents } from '@enums/SocketEvents.enum';\r\nimport { Power as PowerEnum } from '@enums/Power.enum';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst WaitingBegin = ({ route }: Props) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst theme = useTheme();\r\n\tconst { resetContext, setProgress } = useTaskContext();\r\n\tconst { socket, power, setPower, numQuestions } = useDuringTaskContext();\r\n\tconst { data, loading, getMyTeam } = useTeam();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst { rollPower, loading: loadingPower } = usePower();\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tconst getData = async () => {\r\n\t\tawait getMyTeam();\r\n\t};\r\n\r\n\tconst handleReRoll = async () => {\r\n\t\tawait rollPower();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tresetContext();\r\n\t\tgetData();\r\n\r\n\t\tsocket.on(SocketEvents.SESSION_TEACHER_START, () => {\r\n\t\t\t// if (numQuestions) setProgress(1 / numQuestions);\r\n\t\t\tnavigation.navigate('Question', { taskOrder, questionOrder: 1 });\r\n\t\t});\r\n\r\n\t\tsocket.on(\r\n\t\t\tSocketEvents.TEAM_STUDENT_UPDATE,\r\n\t\t\t(data: { power: PowerEnum }) => {\r\n\t\t\t\tsetPower(data.power);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.off(SocketEvents.SESSION_TEACHER_START);\r\n\t\t\tsocket.off(SocketEvents.TEAM_STUDENT_UPDATE);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tif (!data || loading || !power) return <Placeholder />;\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible\r\n\t\t\taccessibilityLabel=\"Pantalla de espera para comenzar la actividad\"\r\n\t\t>\r\n\t\t\t<Title text={data.name} />\r\n\t\t\t<Text\r\n\t\t\t\tstyle={styles.title}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityRole=\"header\"\r\n\t\t\t\taccessibilityLabel=\"Instrucciones\"\r\n\t\t\t>\r\n\t\t\t\tInstrucciones\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={styles.description}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityLabel=\"Avanza respondiendo a las preguntas con ayuda de tus amigos. Si te equivocas esa pregunta te volverá a salir al final. El primer equipo en llegar a la meta gana.\"\r\n\t\t\t>\r\n\t\t\t\tAvanza respondiendo a las preguntas con ayuda de tus amigos. El\r\n\t\t\t\tprimer equipo en llegar a la meta gana.\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={styles.title}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityRole=\"header\"\r\n\t\t\t\taccessibilityLabel=\"Tu super poder es\"\r\n\t\t\t>\r\n\t\t\t\tTu super poder es\r\n\t\t\t</Text>\r\n\t\t\t<Power\r\n\t\t\t\tpower={power}\r\n\t\t\t\tonReRoll={() => {\r\n\t\t\t\t\thandleReRoll();\r\n\t\t\t\t}}\r\n\t\t\t\tloading={loadingPower}\r\n\t\t\t\tblockReRoll={data.students.length >= 3}\r\n\t\t\t/>\r\n\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t<LottieView\r\n\t\t\t\t\tsource={require('@animations/waitingBegin.json')}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Text\r\n\t\t\t\tstyle={styles.waitingText}\r\n\t\t\t\taccessible\r\n\t\t\t\taccessibilityLabel=\"Espera a que tu profesor de comienzo a la actividad...\"\r\n\t\t\t>\r\n\t\t\t\tEspera a que tu profesor de comienzo a la actividad...\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tflex: 1,\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\twidth: 300,\r\n\t\t\theight: 300\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\talignSelf: 'flex-start'\r\n\t\t},\r\n\t\tdescription: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\twidth: '100%',\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tmarginBottom: 20\r\n\t\t},\r\n\t\twaitingText: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\ttextAlign: 'center'\r\n\t\t}\r\n\t});\r\n\r\nexport default WaitingBegin;\r\n","import { View, Text, StyleSheet, Platform } from 'react-native';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport useTheme from '@app/core/hooks/useTheme';\r\nimport { Character } from '@app/shared/enums/Character.enum';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\thistory: string;\r\n\tcharacter: Character;\r\n}\r\n\r\nconst History = ({ history, character }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst isWeb = Platform.OS === 'web';\r\n\tconst styles = getStyles(theme, isWeb, character);\r\n\r\n\tconst getPerson = () => {\r\n\t\tswitch (character) {\r\n\t\t\tcase Character.ALEX:\r\n\t\t\t\treturn require('@animations/alex.json');\r\n\t\t\tcase Character.BETO:\r\n\t\t\t\treturn require('@animations/beto.json');\r\n\t\t\tcase Character.CHUCHO:\r\n\t\t\t\treturn require('@animations/chucho.json');\r\n\t\t\tcase Character.VALERY:\r\n\t\t\t\treturn require('@animations/valery.json');\r\n\t\t\tdefault:\r\n\t\t\t\treturn require('@animations/alex.json');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.history}>\r\n\t\t\t{!isWeb && (\r\n\t\t\t\t<LottieView\r\n\t\t\t\t\tsource={getPerson()}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tstyle={styles.person}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<View style={styles.dialog}>\r\n\t\t\t\t<View style={styles.dialogTriangle} />\r\n\t\t\t\t<Text style={styles.text}>{history}</Text>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme, isWeb: boolean, character: Character) =>\r\n\tStyleSheet.create({\r\n\t\thistory: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\t// alignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tmarginEnd: 40,\r\n\t\t\tmarginBottom: 10,\r\n\t\t\tmarginStart: isWeb ? 20 : 0\r\n\t\t},\r\n\t\tperson: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmarginLeft: character === Character.CHUCHO ? 10 : 0\r\n\t\t},\r\n\t\tdialog: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.gray,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\t// marginEnd: 20,\r\n\t\t\tpadding: 15,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginLeft: character !== Character.CHUCHO ? 20 : 0\r\n\t\t},\r\n\t\tdialogTriangle: {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tborderLeftWidth: 10,\r\n\t\t\tborderRightWidth: 10,\r\n\t\t\tborderBottomWidth: 20,\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: theme.colors.gray,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttransform: [{ rotate: '-90deg' }],\r\n\t\t\ttop: 5,\r\n\t\t\tleft: -15\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'left'\r\n\t\t}\r\n\t});\r\n\r\nexport default History;\r\n","import {\r\n\tPlaceholder as PlaceholderRN,\r\n\tPlaceholderMedia,\r\n\tPlaceholderLine,\r\n\tShineOverlay\r\n} from 'rn-placeholder';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Placeholder = () => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<PlaceholderRN Animation={ShineOverlay}>\r\n\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\tmarginBottom: 20,\r\n\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\tborderRadius: 999\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderLine\r\n\t\t\t\t\twidth={70}\r\n\t\t\t\t\theight={40}\r\n\t\t\t\t\tnoMargin={true}\r\n\t\t\t\t\tstyle={{ marginBottom: 20 }}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderMedia style={{ width: '100%', height: 200 }} />\r\n\t\t\t\t<PlaceholderMedia\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: 70,\r\n\t\t\t\t\t\tmarginBottom: 20,\r\n\t\t\t\t\t\tmarginTop: 60\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaceholderMedia style={{ width: '100%', height: 70 }} />\r\n\t\t\t</PlaceholderRN>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tpaddingHorizontal: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default Placeholder;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tgroupName?: string;\r\n\tposition: number | null;\r\n}\r\n\r\nconst PositionBar = ({ groupName, position }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tif (!groupName || !position) return null;\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`Grupo: ${groupName}, posición ${position}`}\r\n\t\t\taccessibilityRole=\"text\"\r\n\t\t>\r\n\t\t\t<Text style={styles.groupNameText}>{groupName}</Text>\r\n\t\t\t<View style={styles.positionContainer}>\r\n\t\t\t\t<Text style={styles.positionText}>Posición {position}°</Text>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\t// marginBottom: 10,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1\r\n\t\t},\r\n\t\tgroupNameText: {\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tmarginLeft: 20,\r\n\t\t\tmarginTop: 10,\r\n\t\t\tmarginBottom: 5\r\n\t\t},\r\n\t\tpositionContainer: {\r\n\t\t\tbackgroundColor: theme.colors.bluerGreen,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1,\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '50%'\r\n\t\t},\r\n\t\tpositionText: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tmarginBottom: -5\r\n\t\t}\r\n\t});\r\n\r\nexport default PositionBar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, Animated, ToastAndroid } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { hexToRgbA } from '@utils/hexToRgba';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tnounTranslations: string[];\r\n}\r\n\r\nconst MemoryProView = ({ text, nounTranslations }: Props) => {\r\n\tconst [nouns, setNouns] = useState<string[]>([]);\r\n\tconst [question, setQuestion] = useState<string[]>([]);\r\n\tconst theme = useTheme();\r\n\tconst [showPower, setShowPower] = useState<boolean[]>(\r\n\t\tnounTranslations.map(() => false)\r\n\t);\r\n\tconst [powerOpacity] = useState<Animated.Value[]>(\r\n\t\tnounTranslations.map(() => new Animated.Value(0))\r\n\t);\r\n\tconst [animating, setAnimating] = useState<boolean>(false);\r\n\tconst styles = getStyles(theme);\r\n\tconst [nounColors] = useState<Animated.Value[]>(\r\n\t\tnounTranslations.map(() => new Animated.Value(0))\r\n\t);\r\n\r\n\tconst textFiltered = text.replace(/[\\[\\]]/g, '');\r\n\tconst matchResults = textFiltered.match(/{(.*?)}/g);\r\n\r\n\tconst getInterpolatedColor = (index: number) => {\r\n\t\treturn nounColors[index].interpolate({\r\n\t\t\tinputRange: [0, 1],\r\n\t\t\toutputRange: [\r\n\t\t\t\thexToRgbA(theme.colors.black, 1),\r\n\t\t\t\thexToRgbA(theme.colors.black, 0.5)\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\r\n\tconst animateColors = () => {\r\n\t\tnounColors.forEach((nounColor, index) => {\r\n\t\t\tif (!showPower[index] && nouns[index] !== nounTranslations[index]) {\r\n\t\t\t\tAnimated.loop(\r\n\t\t\t\t\tAnimated.sequence([\r\n\t\t\t\t\t\tAnimated.timing(nounColor, {\r\n\t\t\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\tuseNativeDriver: false\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tAnimated.timing(nounColor, {\r\n\t\t\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\tuseNativeDriver: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t])\r\n\t\t\t\t).start();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetNouns(\r\n\t\t\tmatchResults\r\n\t\t\t\t? matchResults.map((match) => match.replace(/[{}]/g, ''))\r\n\t\t\t\t: []\r\n\t\t);\r\n\t\tsetQuestion(\r\n\t\t\tmatchResults ? textFiltered.split(/{.*?}/) : [textFiltered]\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tanimateColors();\r\n\t}, [nouns]);\r\n\r\n\tconst usePower = (index: number) => {\r\n\t\tif (animating) return;\r\n\t\tsetAnimating(true);\r\n\t\tsetShowPower({\r\n\t\t\t...showPower,\r\n\t\t\t[index]: true\r\n\t\t});\r\n\t\tAnimated.sequence([\r\n\t\t\tAnimated.timing(powerOpacity[index], {\r\n\t\t\t\ttoValue: 1,\r\n\t\t\t\tduration: 250,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t}),\r\n\t\t\tAnimated.timing(powerOpacity[index], {\r\n\t\t\t\ttoValue: 0,\r\n\t\t\t\tduration: 250,\r\n\t\t\t\tdelay: 250,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t})\r\n\t\t]).start(() => {\r\n\t\t\tsetShowPower({\r\n\t\t\t\t...showPower,\r\n\t\t\t\t[index]: false\r\n\t\t\t});\r\n\t\t\tif (\r\n\t\t\t\tmatchResults &&\r\n\t\t\t\tnouns[index] === matchResults[index].replace(/[{}]/g, '')\r\n\t\t\t) {\r\n\t\t\t\tsetNouns((prevNouns) =>\r\n\t\t\t\t\tprevNouns.map((prevNoun, i) =>\r\n\t\t\t\t\t\ti === index ? nounTranslations[index] : prevNoun\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tsetNouns(\r\n\t\t\t\t\tmatchResults\r\n\t\t\t\t\t\t? matchResults.map((match) =>\r\n\t\t\t\t\t\t\t\tmatch.replace(/[{}]/g, '')\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: []\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tsetAnimating(false);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handlePress = (index: number) => {\r\n\t\tif (animating) {\r\n\t\t\tToastAndroid.show(\r\n\t\t\t\t'Por favor espera un momento para volver a usar tu poder...',\r\n\t\t\t\tToastAndroid.SHORT\r\n\t\t\t);\r\n\t\t}\r\n\t\tusePower(index);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>\r\n\t\t\t\t{question.map((part, index) => (\r\n\t\t\t\t\t<React.Fragment key={index}>\r\n\t\t\t\t\t\t{part}\r\n\t\t\t\t\t\t{index < nouns.length && (\r\n\t\t\t\t\t\t\t<Animated.Text\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.noun,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t!showPower[index] &&\r\n\t\t\t\t\t\t\t\t\t\t\tnouns[index] !==\r\n\t\t\t\t\t\t\t\t\t\t\t\tnounTranslations[index]\r\n\t\t\t\t\t\t\t\t\t\t\t\t? getInterpolatedColor(index)\r\n\t\t\t\t\t\t\t\t\t\t\t\t: theme.colors.black\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tonPress={() => handlePress(index)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{showPower[index] ? (\r\n\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ opacity: powerOpacity[index] }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Animated.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsource={require('@images/memoryPro.png')}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tnouns[index]\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Animated.Text>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t))}\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\t// marginTop: 10,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 30,\r\n\t\t\theight: 30,\r\n\t\t\tmarginBottom: -7\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tnoun: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tnounContainer: {\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tdialog: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: -40,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tbackgroundColor: theme.colors.gray,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow,\r\n\t\t\televation: 15\r\n\t\t},\r\n\t\tdialogtext: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ttriangle: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: -10,\r\n\t\t\tleft: 30,\r\n\t\t\tborderLeftWidth: 10,\r\n\t\t\tborderRightWidth: 10,\r\n\t\t\tborderBottomWidth: 10,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: theme.colors.gray\r\n\t\t}\r\n\t});\r\n\r\nexport default MemoryProView;\r\n","import { View, Text, StyleSheet, Animated, ToastAndroid } from 'react-native';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nimport { hexToRgbA } from '@utils/hexToRgba';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tprepositionTranslations: string[];\r\n}\r\n\r\nconst SuperRadarView = ({ text, prepositionTranslations }: Props) => {\r\n\tconst [prepositions, setPrepositions] = useState<string[]>([]);\r\n\tconst [question, setQuestion] = useState<string[]>([]);\r\n\tconst theme = useTheme();\r\n\tconst [showPower, setShowPower] = useState<boolean[]>(\r\n\t\tprepositionTranslations.map(() => false)\r\n\t);\r\n\tconst [powerOpacity] = useState<Animated.Value[]>(\r\n\t\tprepositionTranslations.map(() => new Animated.Value(0))\r\n\t);\r\n\tconst [animating, setAnimating] = useState<boolean>(false);\r\n\tconst styles = getStyles(theme);\r\n\tconst [prepositionColors] = useState<Animated.Value[]>(\r\n\t\tprepositionTranslations.map(() => new Animated.Value(0))\r\n\t);\r\n\r\n\tconst textFiltered = text.replace(/[{}]/g, '');\r\n\tconst matchResults = textFiltered.match(/\\[(.*?)\\]/g);\r\n\r\n\tconst getInterpolatedColor = (index: number) => {\r\n\t\treturn prepositionColors[index].interpolate({\r\n\t\t\tinputRange: [0, 1],\r\n\t\t\toutputRange: [\r\n\t\t\t\thexToRgbA(theme.colors.black, 1),\r\n\t\t\t\thexToRgbA(theme.colors.black, 0.5)\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\r\n\tconst animateColors = () => {\r\n\t\tprepositionColors.forEach((prepositionColor, index) => {\r\n\t\t\tif (\r\n\t\t\t\t!showPower[index] &&\r\n\t\t\t\tprepositions[index] !== prepositionTranslations[index]\r\n\t\t\t) {\r\n\t\t\t\tAnimated.loop(\r\n\t\t\t\t\tAnimated.sequence([\r\n\t\t\t\t\t\tAnimated.timing(prepositionColor, {\r\n\t\t\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\tuseNativeDriver: false\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tAnimated.timing(prepositionColor, {\r\n\t\t\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\tuseNativeDriver: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t])\r\n\t\t\t\t).start();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPrepositions(\r\n\t\t\tmatchResults\r\n\t\t\t\t? matchResults?.map((match) => match.replace(/[\\[\\]]/g, ''))\r\n\t\t\t\t: []\r\n\t\t);\r\n\t\tsetQuestion(\r\n\t\t\tmatchResults ? textFiltered.split(/\\[.*?\\]/) : [textFiltered]\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tanimateColors();\r\n\t}, [prepositions]);\r\n\r\n\tconst usePower = (index: number) => {\r\n\t\tif (animating) return;\r\n\t\tsetAnimating(true);\r\n\t\tsetShowPower({\r\n\t\t\t...showPower,\r\n\t\t\t[index]: true\r\n\t\t});\r\n\t\tAnimated.sequence([\r\n\t\t\tAnimated.timing(powerOpacity[index], {\r\n\t\t\t\ttoValue: 1,\r\n\t\t\t\tduration: 250,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t}),\r\n\t\t\tAnimated.timing(powerOpacity[index], {\r\n\t\t\t\ttoValue: 0,\r\n\t\t\t\tduration: 250,\r\n\t\t\t\tdelay: 250,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t})\r\n\t\t]).start(() => {\r\n\t\t\tsetShowPower({\r\n\t\t\t\t...showPower,\r\n\t\t\t\t[index]: false\r\n\t\t\t});\r\n\t\t\tif (\r\n\t\t\t\tmatchResults &&\r\n\t\t\t\tprepositions[index] ===\r\n\t\t\t\t\tmatchResults[index].replace(/[\\[\\]]/g, '')\r\n\t\t\t) {\r\n\t\t\t\tsetPrepositions((prevPrepositions) =>\r\n\t\t\t\t\tprevPrepositions.map((prevPreposition, i) =>\r\n\t\t\t\t\t\ti === index\r\n\t\t\t\t\t\t\t? prepositionTranslations[index]\r\n\t\t\t\t\t\t\t: prevPreposition\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrepositions(\r\n\t\t\t\t\tmatchResults\r\n\t\t\t\t\t\t? matchResults.map((match) =>\r\n\t\t\t\t\t\t\t\tmatch.replace(/[\\[\\]]/g, '')\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: []\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tsetAnimating(false);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handlePress = (index: number) => {\r\n\t\tif (animating) {\r\n\t\t\tToastAndroid.show(\r\n\t\t\t\t'Por favor espera un momento para volver a usar tu poder...',\r\n\t\t\t\tToastAndroid.SHORT\r\n\t\t\t);\r\n\t\t}\r\n\t\tusePower(index);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>\r\n\t\t\t\t{question.map((word, index) => (\r\n\t\t\t\t\t<React.Fragment key={index}>\r\n\t\t\t\t\t\t{word}\r\n\t\t\t\t\t\t{index < prepositions.length && (\r\n\t\t\t\t\t\t\t<Animated.Text\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.prepostion,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t!showPower[index] &&\r\n\t\t\t\t\t\t\t\t\t\t\tprepositions[index] !==\r\n\t\t\t\t\t\t\t\t\t\t\t\tprepositionTranslations[index]\r\n\t\t\t\t\t\t\t\t\t\t\t\t? getInterpolatedColor(index)\r\n\t\t\t\t\t\t\t\t\t\t\t\t: theme.colors.black\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tonPress={() => handlePress(index)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{showPower[index] ? (\r\n\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ opacity: powerOpacity[index] }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Animated.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsource={require('@images/superRadar.png')}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tprepositions[index]\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Animated.Text>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t))}\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\t// marginTop: 10,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\twidth: 30,\r\n\t\t\theight: 30,\r\n\t\t\tmarginBottom: -7\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tprepostion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\tnounContainer: {\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tdialog: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: 'auto',\r\n\t\t\tbottom: -40,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tbackgroundColor: theme.colors.gray,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\t...theme.shadow,\r\n\t\t\televation: 15\r\n\t\t},\r\n\t\tdialogtext: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\ttriangle: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: -10,\r\n\t\t\tleft: '50%',\r\n\t\t\tborderLeftWidth: 10,\r\n\t\t\tborderRightWidth: 10,\r\n\t\t\tborderBottomWidth: 10,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: theme.colors.gray\r\n\t\t}\r\n\t});\r\n\r\nexport default SuperRadarView;\r\n","export enum Mechanics {\r\n\tQUESTION_GROUP_TEAM_NAME = 'question_group-team_name',\r\n\tHIDDEN_QUESTION = 'hidden_question',\r\n\tQUESTION_GROUP_DURINGTASK_BASED = 'question_group-duringtask_based',\r\n\tQUESTION_GROUP_RANDOM = 'question_group-random',\r\n\tFORM_IMAGE = 'form_image'\r\n}\r\n","import { View, Text, StyleSheet, Image, Animated } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\timgAlt: string;\r\n}\r\n\r\nconst SuperHearing = ({ text, imgAlt }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst textFiltered = text.replace(/[\\[\\]\\{\\}]/g, '');\r\n\r\n\tconst onPress = () => {\r\n\t\tspeak(imgAlt, 'es');\r\n\t};\r\n\r\n\tconst scale = useRef(new Animated.Value(1)).current;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst pulse = Animated.loop(\r\n\t\t\tAnimated.sequence([\r\n\t\t\t\tAnimated.timing(scale, {\r\n\t\t\t\t\ttoValue: 1.1,\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t}),\r\n\t\t\t\tAnimated.timing(scale, {\r\n\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t})\r\n\t\t\t])\r\n\t\t);\r\n\r\n\t\tpulse.start();\r\n\t\treturn () => pulse.stop();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Pressable onPress={onPress} style={styles.container}>\r\n\t\t\t<Text style={styles.text}>{textFiltered}</Text>\r\n\t\t\t<Animated.Image\r\n\t\t\t\tsource={require('@images/superHearing.png')}\r\n\t\t\t\tstyle={[styles.image, { transform: [{ scale }] }]}\r\n\t\t\t></Animated.Image>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\t// marginTop: 10,\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 30,\r\n\t\t\theight: 30,\r\n\t\t\tmarginLeft: 10\r\n\t\t}\r\n\t});\r\n\r\nexport default SuperHearing;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\nconst DefaultView = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst textFiltered = text.replace(/[\\[\\]\\{\\}]/g, '');\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.text}>{textFiltered}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\t// marginTop: 10,\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default DefaultView;\r\n","import MemoryProView from './MemoryProView';\r\nimport SuperRadarView from './SuperRadarView';\r\nimport SuperHearing from './SuperHearing';\r\nimport DefaultView from './DefaultView';\r\n\r\nimport { Power } from '@enums/Power.enum';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tpower: Power | null;\r\n\tnounTranslations: string[];\r\n\tprepositionTranslations: string[];\r\n\timgAlt: string;\r\n}\r\n\r\nconst Query = ({\r\n\ttext,\r\n\tpower,\r\n\tnounTranslations,\r\n\tprepositionTranslations,\r\n\timgAlt\r\n}: Props) => {\r\n\tswitch (power) {\r\n\t\tcase Power.MEMORY_PRO:\r\n\t\t\treturn (\r\n\t\t\t\t<MemoryProView\r\n\t\t\t\t\ttext={text}\r\n\t\t\t\t\tnounTranslations={nounTranslations}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\r\n\t\tcase Power.SUPER_RADAR:\r\n\t\t\treturn (\r\n\t\t\t\t<SuperRadarView\r\n\t\t\t\t\ttext={text}\r\n\t\t\t\t\tprepositionTranslations={prepositionTranslations}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\r\n\t\tcase Power.SUPER_HEARING:\r\n\t\t\treturn <SuperHearing text={text} imgAlt={imgAlt} />;\r\n\r\n\t\tdefault:\r\n\t\t\treturn <DefaultView text={text} />;\r\n\t}\r\n};\r\n\r\nexport default Query;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { DuringTaskQuestion } from '@interfaces/DuringTaskQuestion.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useDuringTaskQuestion = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<DuringTaskQuestion | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getDuringTaskQuestion = useCallback(\r\n\t\tasync (inputs: { taskOrder: number }) => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.get(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/duringtask/questions/next`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetData(response.data);\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst sendDuringTaskAnswer = useCallback(\r\n\t\tasync (inputs: {\r\n\t\t\ttaskOrder: number;\r\n\t\t\tquestionOrder: number;\r\n\t\t\tbody: { idOption: number; answerSeconds: number };\r\n\t\t}) => {\r\n\t\t\tsetError(null);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/duringtask/questions/${inputs.questionOrder}`,\r\n\t\t\t\t\tinputs.body,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn {\r\n\t\tloading,\r\n\t\terror,\r\n\t\tdata,\r\n\t\tgetDuringTaskQuestion,\r\n\t\tsendDuringTaskAnswer\r\n\t};\r\n};\r\n\r\nexport default useDuringTaskQuestion;\r\n","import { useState } from 'react';\r\n\r\nconst useTime = () => {\r\n\tconst [start, setStart] = useState(0);\r\n\tconst [stop, setStop] = useState(0);\r\n\tconst [time, setTime] = useState(0);\r\n\r\n\tconst startTimer = () => {\r\n\t\tsetStart(Date.now());\r\n\t};\r\n\r\n\tconst stopTimer = () => {\r\n\t\tsetStop(Date.now());\r\n\t\tsetTime(stop - start);\r\n\t};\r\n\r\n\treturn { startTimer, stopTimer, time };\r\n};\r\n\r\nexport default useTime;\r\n","import { ImageStackElement } from '@app/core/hooks/Task/DurinTask/useImageStackStore';\r\nimport { Image, StyleSheet, View } from 'react-native';\r\n\r\nconst ImageStack = ({ imageStack }: { imageStack: ImageStackElement[] }) => {\r\n\tconst styles = getStyles();\r\n\r\n\treturn (\r\n\t\t<View style={styles.stackImages}>\r\n\t\t\t{imageStack.map((image, index) => {\r\n\t\t\t\tconsole.log(index, image.imgUrl);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<View style={styles.stackImagesElem} key={index}>\r\n\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\tsource={{\r\n\t\t\t\t\t\t\t\t// uri: `https://picsum.photos/400/200?t=${index}`\r\n\t\t\t\t\t\t\t\turi: `${image.imgUrl}?t=${index}`\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t// source={require('@images/choose_habitat_1.jpg')}\r\n\t\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = () =>\r\n\tStyleSheet.create({\r\n\t\tstackImages: {\r\n\t\t\tposition: 'relative',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: 200\r\n\t\t},\r\n\t\tstackImagesElem: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t}\r\n\t});\r\n\r\nexport default ImageStack;\r\n","import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tStyleProp,\r\n\tViewStyle,\r\n\tTextStyle,\r\n\tImage\r\n} from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n\tonPress: () => void;\r\n\tcontainerStyle: StyleProp<ViewStyle>;\r\n\ttextStyle: StyleProp<TextStyle>;\r\n\timgUrl: string | null;\r\n}\r\n\r\nconst OptionImage = ({\r\n\ttext,\r\n\tonPress,\r\n\tcontainerStyle,\r\n\ttextStyle,\r\n\timgUrl\r\n}: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst textBoxStyles = StyleSheet.flatten([styles.textBox, containerStyle]);\r\n\tconst textStyles = StyleSheet.flatten([styles.text, textStyle]);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Image\r\n\t\t\t\t// source={require('@images/choose_habitat_1.jpg')}\r\n\t\t\t\tsource={{\r\n\t\t\t\t\turi:\r\n\t\t\t\t\t\timgUrl ||\r\n\t\t\t\t\t\t`https://picsum.photos/400/200?t=${Math.floor(\r\n\t\t\t\t\t\t\tMath.random() * 100\r\n\t\t\t\t\t\t)}}`\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={styles.image}\r\n\t\t\t/>\r\n\t\t\t<Pressable\r\n\t\t\t\tstyle={textBoxStyles}\r\n\t\t\t\tonPress={onPress}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityHint={'Responder ' + text}\r\n\t\t\t>\r\n\t\t\t\t<Text style={textStyles}>{text}</Text>\r\n\t\t\t</Pressable>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) => {\r\n\tconst size = 160;\r\n\r\n\treturn StyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\twidth: size,\r\n\t\t\theight: size,\r\n\t\t\tborderRadius: size / 2,\r\n\t\t\tposition: 'relative'\r\n\t\t\t// ...theme.shadow\r\n\t\t},\r\n\t\ttextBox: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingVertical: 10,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: -size / 4,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 10\r\n\t\t},\r\n\t\timage: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tborderRadius: size / 2\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default OptionImage;\r\n","import {\r\n\tImage,\r\n\tScrollView,\r\n\tStyleSheet,\r\n\tToastAndroid,\r\n\tView\r\n} from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport AudioPlayer from '@app/screens/Task/components/AudioPlayer';\r\nimport History from '../../../../components/History';\r\nimport Option from '@screens/Task/components/Option';\r\nimport Placeholder from './components/Placeholder';\r\nimport PositionBar from './components/PositionBar';\r\nimport Query from './components/Query';\r\nimport { SocketEvents } from '@enums/SocketEvents.enum';\r\nimport { Theme } from '@theme';\r\nimport { useDuringTaskContext } from '@app/core/hooks/Task/DurinTask/useDuringTaskContext';\r\nimport useDuringTaskQuestion from '@app/core/hooks/Task/DurinTask/useDuringTaskQuestion';\r\nimport useImageStackStore from '@app/core/hooks/Task/DurinTask/useImageStackStore';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTime from '@hooks/useTime';\r\nimport { Mechanics } from '@app/shared/enums/Mechanics.enum';\r\nimport ImageStack from '../../components/ImageStack';\r\nimport OptionImage from '@app/screens/Task/components/OptionImage';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst Question = ({ route }: Props) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst theme = useTheme();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [textStyleOptions, setTextStyleOptions] = useState([{}]);\r\n\tconst [answered, setAnswered] = useState(false);\r\n\tconst { time, startTimer, stopTimer } = useTime();\r\n\tconst {\r\n\t\tdata,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tgetDuringTaskQuestion,\r\n\t\tsendDuringTaskAnswer\r\n\t} = useDuringTaskQuestion();\r\n\t// const playSoundAnimal = usePlaySound({ uri: data?.audioUrl });\r\n\tconst { power, socket, team, position, setPosition, mechanics } =\r\n\t\tuseDuringTaskContext();\r\n\tconst { imageStack, pushImageStack, clearImageStack } =\r\n\t\tuseImageStackStore();\r\n\t// const currentPlatform = Platform.OS;\r\n\t// const { isPhone, isTablet, isDesktop } = useMediaQuery();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst [isQuestionFirst] = useState(imageStack.length === 0);\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst onPressOption = async (\r\n\t\tindex: number,\r\n\t\tcorrect: boolean,\r\n\t\tid: number,\r\n\t\timgUrl: string | null\r\n\t) => {\r\n\t\tif (answered) return;\r\n\r\n\t\tsetAnswered(true);\r\n\t\tconst newContainerStyleOptions = [...containerStyleOptions];\r\n\t\tconst newTextStyleOptions = [...textStyleOptions];\r\n\r\n\t\tif (correct) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t\tstopTimer();\r\n\t\t\tnewContainerStyleOptions[index] = {\r\n\t\t\t\tbackgroundColor: theme.colors.green\r\n\t\t\t};\r\n\t\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\t\t\tif (\r\n\t\t\t\tdata &&\r\n\t\t\t\tmechanics?.includes(Mechanics.FORM_IMAGE) &&\r\n\t\t\t\t!imageStack.find((elem) => elem.idOption === id) &&\r\n\t\t\t\timgUrl\r\n\t\t\t) {\r\n\t\t\t\tpushImageStack({ idOption: id, imgUrl: imgUrl });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t\tnewContainerStyleOptions[index] = {\r\n\t\t\t\tbackgroundColor: theme.colors.red\r\n\t\t\t};\r\n\t\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\t\t}\r\n\r\n\t\tsetContainerStyleOptions(newContainerStyleOptions);\r\n\t\tsetTextStyleOptions(newTextStyleOptions);\r\n\r\n\t\tif (data) {\r\n\t\t\tawait sendDuringTaskAnswer({\r\n\t\t\t\ttaskOrder,\r\n\t\t\t\tquestionOrder: data.questionOrder,\r\n\t\t\t\tbody: { idOption: id, answerSeconds: time }\r\n\t\t\t});\r\n\t\t\tnavigateNextQuestion();\r\n\t\t}\r\n\t};\r\n\r\n\tconst navigateNextQuestion = () => {\r\n\t\tnavigation.pop();\r\n\t\tnavigation.push('Question', {\r\n\t\t\ttaskOrder\r\n\t\t});\r\n\t};\r\n\r\n\t// const onPressPlayAudio = () => {\r\n\t// \tif (data?.audioUrl) playSoundAnimal();\r\n\t// };\r\n\r\n\tconst navigateFinalScore = () => {\r\n\t\tnavigation.reset({\r\n\t\t\tindex: 1,\r\n\t\t\troutes: [{ name: 'FinalScore' }]\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error === 'Recurso no encontrado') {\r\n\t\t\tnavigateFinalScore();\r\n\t\t}\r\n\t}, [error]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst initQuestion = async () => {\r\n\t\t\tawait getDuringTaskQuestion({ taskOrder });\r\n\t\t\tstartTimer();\r\n\t\t};\r\n\r\n\t\tinitQuestion();\r\n\r\n\t\tsocket.once(SocketEvents.TEAM_STUDENT_ANSWER, () => {\r\n\t\t\tnavigateNextQuestion();\r\n\t\t});\r\n\r\n\t\tsocket.once(\r\n\t\t\tSocketEvents.TEAM_STUDENT_LEAVE,\r\n\t\t\t(data: { name: string }) => {\r\n\t\t\t\tToastAndroid.show(\r\n\t\t\t\t\t`El usuario ${data.name} se ha perdido durante el paseo`,\r\n\t\t\t\t\tToastAndroid.SHORT\r\n\t\t\t\t);\r\n\t\t\t\tnavigateNextQuestion();\r\n\t\t\t}\r\n\t\t);\r\n\t\t('');\r\n\t\tsocket.on(\r\n\t\t\tSocketEvents.COURSE_LEADERBOARD_UPDATE,\r\n\t\t\t(\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: number;\r\n\t\t\t\t\tname: string;\r\n\t\t\t\t\tposition: number;\r\n\t\t\t\t}[]\r\n\t\t\t) => {\r\n\t\t\t\tif (!team || !data) return;\r\n\r\n\t\t\t\tconst { id } = team;\r\n\t\t\t\tconst myTeam = data.find((team) => team.id === id);\r\n\t\t\t\tif (!myTeam) return;\r\n\t\t\t\tsetPosition(myTeam.position);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.off(SocketEvents.TEAM_STUDENT_ANSWER);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (mechanics?.includes(Mechanics.FORM_IMAGE)) {\r\n\t\t\tconst unsubscribe = navigation.addListener(\r\n\t\t\t\t'beforeRemove',\r\n\t\t\t\t(e: any) => {\r\n\t\t\t\t\tif (e.data.action.type === 'GO_BACK') {\r\n\t\t\t\t\t\tclearImageStack();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn unsubscribe;\r\n\t\t}\r\n\t}, [navigation]);\r\n\r\n\tif (loading || !data) return <Placeholder />;\r\n\r\n\tconst question =\r\n\t\tdata.content.indexOf('\\\\') > -1\r\n\t\t\t? data.content.split('\\\\')[1]\r\n\t\t\t: data.content;\r\n\tconst history =\r\n\t\tdata.content.indexOf('\\\\') > -1 ? data.content.split('\\\\')[0] : null;\r\n\r\n\treturn (\r\n\t\t<ScrollView style={styles.container}>\r\n\t\t\t<PositionBar groupName={team?.name} position={position} />\r\n\t\t\t{history ? (\r\n\t\t\t\t<History history={history} character={data.character} />\r\n\t\t\t) : (\r\n\t\t\t\t<View style={{ height: 20 }} />\r\n\t\t\t)}\r\n\t\t\t<Query\r\n\t\t\t\ttext={question}\r\n\t\t\t\tpower={power}\r\n\t\t\t\tnounTranslations={data.memoryPro}\r\n\t\t\t\tprepositionTranslations={data.superRadar}\r\n\t\t\t\timgAlt={data.imgAlt}\r\n\t\t\t/>\r\n\t\t\t<View\r\n\t\t\t\tstyle={styles.imageContainer}\r\n\t\t\t\taccessible={true}\r\n\t\t\t\taccessibilityLabel={'Imagen de la pregunta'}\r\n\t\t\t\taccessibilityHint={`Super hearing: ${data.imgAlt}`}\r\n\t\t\t>\r\n\t\t\t\t{mechanics?.includes(Mechanics.FORM_IMAGE) ? (\r\n\t\t\t\t\tisQuestionFirst ? (\r\n\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\t\tsource={require('@images/choose_habitat_1.jpg')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<ImageStack imageStack={imageStack} />\r\n\t\t\t\t\t)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\tsource={{ uri: `${data.imgUrl}?t=${data.id}` }}\r\n\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\r\n\t\t\t{data.audioUrl && <AudioPlayer source={{ uri: data.audioUrl }} />}\r\n\r\n\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t{mechanics?.includes(Mechanics.FORM_IMAGE) ? (\r\n\t\t\t\t\t<View\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tflexDirection: 'row',\r\n\t\t\t\t\t\t\tjustifyContent: 'space-evenly'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{data.options.map((option, index) => (\r\n\t\t\t\t\t\t\t<OptionImage\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\tonPressOption(\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\toption.correct,\r\n\t\t\t\t\t\t\t\t\t\toption.id,\r\n\t\t\t\t\t\t\t\t\t\toption.mainImgUrl\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t\t\timgUrl={option.previewImgUrl}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tdata.options.map((option, index) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressOption(\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\toption.correct,\r\n\t\t\t\t\t\t\t\t\toption.id,\r\n\t\t\t\t\t\t\t\t\toption.mainImgUrl\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t)}\r\n\t\t\t\t{/* <Option\r\n\t\t\t\t\ttext={data.options[0].content}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonPressOption(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tdata.options[0].correct,\r\n\t\t\t\t\t\t\tdata.options[0].id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerStyle={containerStyleOptions[0]}\r\n\t\t\t\t\ttextStyle={textStyleOptions[0]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Option\r\n\t\t\t\t\ttext={data.options[1].content}\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonPressOption(\r\n\t\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t\tdata.options[1].correct,\r\n\t\t\t\t\t\t\tdata.options[1].id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerStyle={containerStyleOptions[1]}\r\n\t\t\t\t\ttextStyle={textStyleOptions[1]}\r\n\t\t\t\t/> */}\r\n\t\t\t</View>\r\n\t\t\t<View style={{ height: 80 }} />\r\n\t\t</ScrollView>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 20\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t},\r\n\t\tplayerContainer: {\r\n\t\t\theight: 55,\r\n\t\t\tmarginTop: -60,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 25,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tanimationContainer: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\theight: 72\r\n\t\t}\r\n\t});\r\n\r\nexport default Question;\r\n","import { View, Text, StyleSheet, Platform, Image } from 'react-native';\r\nimport Option from '@screens/Task/components/Option';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\nimport { useDuringTaskContext } from '@app/core/hooks/Task/DurinTask/useDuringTaskContext';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport usePlaySound from '@app/core/hooks/usePlaySound';\r\n\r\nimport { Theme } from '@theme';\r\nimport useImageStackStore from '@app/core/hooks/Task/DurinTask/useImageStackStore';\r\nimport { Mechanics } from '@app/shared/enums/Mechanics.enum';\r\nimport ImageStack from '../components/ImageStack';\r\n\r\nconst FinalScore = () => {\r\n\tconst theme = useTheme();\r\n\tconst { position, team, mechanics } = useDuringTaskContext();\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/complete.wav'));\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\tconst { imageStack, pushImageStack, clearImageStack } =\r\n\t\tuseImageStackStore();\r\n\r\n\tconst onButtonPress = () => {\r\n\t\tnavigation.reset({\r\n\t\t\tindex: 0,\r\n\t\t\troutes: [{ name: 'Introduction', params: { taskOrder } }]\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tplaySoundSuccess();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.title}>Resultados finales</Text>\r\n\t\t\t<View>\r\n\t\t\t\t<Text style={styles.position}>{position || 0}°</Text>\r\n\t\t\t\t<Text style={styles.groupName}>{team?.name || 'Ocelots'}</Text>\r\n\t\t\t\t{mechanics?.includes(Mechanics.FORM_IMAGE) &&\r\n\t\t\t\timageStack.length !== 0 ? (\r\n\t\t\t\t\t<View style={{ marginTop: 12, marginBottom: 24 }}>\r\n\t\t\t\t\t\t<ImageStack imageStack={imageStack} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tcurrentPlatform !== 'web' && (\r\n\t\t\t\t\t\t<View style={{ position: 'relative' }}>\r\n\t\t\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\t\t\tsource={require('@animations/celebration.json')}\r\n\t\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: 500,\r\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\ttop: -80,\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\talignSelf: 'center'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t\t<View>\r\n\t\t\t\t<Option\r\n\t\t\t\t\ttext=\"Volver al menú\"\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonButtonPress();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerStyle={{}}\r\n\t\t\t\t\ttextStyle={{\r\n\t\t\t\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\t\t\t\tfontSize: theme.fontSize.xl\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginBottom: 80,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: 150,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginBottom: -90\r\n\t\t},\r\n\t\tgroupName: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxxxxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t}\r\n\t});\r\n\r\nexport default FinalScore;\r\n","import { useState, useCallback } from 'react';\r\nimport useAuthStorage from '../../useAuthStorage';\r\nimport axios from 'axios';\r\n\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { DuringTask } from '@interfaces/DuringTask.interface';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst useDuringTask = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<DuringTask | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\r\n\tconst getDuringTask = useCallback(async (inputs: { taskOrder: number }) => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/duringtask`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn { loading, error, data, getDuringTask };\r\n};\r\n\r\nexport default useDuringTask;\r\n","import { ToastAndroid } from 'react-native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { NativeStackNavigationOptions } from '@react-navigation/native-stack';\r\nimport { socket } from '@listeners/socket';\r\nimport Header from '../../components/Header';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useAuthStorage from '@hooks/useAuthStorage';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport WaitingActive from './screens/WaitingActive';\r\nimport ChooseGroup from './screens/ChooseGroup';\r\n// import ChoosePower from \"./screens/ChoosePower\";\r\nimport WaitingBegin from './screens/WaitingBegin';\r\n// import Transition from \"./screens/Transition\";\r\nimport Question from './screens/Question';\r\nimport FinalScore from './screens/FinalScore';\r\n\r\nimport useDuringTask from '@hooks/Task/DurinTask/useDuringTask';\r\n\r\nimport { DuringTaskContext } from '@contexts/DuringTaskContext';\r\n\r\nimport { Power } from '@enums/Power.enum';\r\nimport { SocketEvents } from '@enums/SocketEvents.enum';\r\nimport { Team } from '@interfaces/Team.interface';\r\nimport { Mechanics } from '@app/shared/enums/Mechanics.enum';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst DuringTask = ({ route }: Props) => {\r\n\tconst authStorage = useAuthStorage();\r\n\tconst [isSessionStarted, setIsSessionStarted] = useState(false);\r\n\tconst [team, setTeam] = useState<Team | null>(null);\r\n\tconst [power, setPower] = useState<Power | null>(null);\r\n\tconst [mechanics, setMechanics] = useState<Mechanics[] | null>(null);\r\n\tconst [position, setPosition] = useState<number | null>(1);\r\n\tconst [numQuestions, setNumQuestions] = useState<number | null>(null);\r\n\tconst { getDuringTask } = useDuringTask();\r\n\tconst navigation = useNavigation<any>();\r\n\r\n\tconst getData = async () => {\r\n\t\tconst data = await getDuringTask({ taskOrder: route.params.taskOrder });\r\n\t\tsetNumQuestions(data.numQuestions);\r\n\t};\r\n\r\n\tconst connectSocket = async () => {\r\n\t\tsocket.connect();\r\n\t\tsocket.emit(\r\n\t\t\t'join',\r\n\t\t\tawait authStorage.getAccessToken(),\r\n\t\t\t(response: { session?: boolean; error?: { message: string } }) => {\r\n\t\t\t\tif (response.session) setIsSessionStarted(response.session);\r\n\t\t\t\tif (\r\n\t\t\t\t\tresponse.error &&\r\n\t\t\t\t\tresponse.error.message === 'error:already_connected'\r\n\t\t\t\t) {\r\n\t\t\t\t\tauthStorage.removeAccessToken();\r\n\t\t\t\t\tToastAndroid.show(\r\n\t\t\t\t\t\t'Ya hay una sesión activa, lo siento, debemos desloguearte',\r\n\t\t\t\t\t\tToastAndroid.LONG\r\n\t\t\t\t\t);\r\n\t\t\t\t\tnavigation.reset({\r\n\t\t\t\t\t\tindex: 0,\r\n\t\t\t\t\t\troutes: [{ name: 'Login' }]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tsocket.once(SocketEvents.SESSION_TEACHER_END, () => {\r\n\t\t\tnavigation.navigate('Introduction', {\r\n\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconnectSocket();\r\n\t\tgetData();\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst optionsPrimary: NativeStackNavigationOptions = {\r\n\t\tanimation: 'slide_from_right',\r\n\t\theaderBackVisible: false,\r\n\t\theaderShown: false\r\n\t};\r\n\r\n\treturn (\r\n\t\t<DuringTaskContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsocket,\r\n\t\t\t\tpower,\r\n\t\t\t\tsetPower,\r\n\t\t\t\tteam,\r\n\t\t\t\tsetTeam,\r\n\t\t\t\tposition,\r\n\t\t\t\tsetPosition,\r\n\t\t\t\tnumQuestions,\r\n\t\t\t\tmechanics,\r\n\t\t\t\tsetMechanics\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Stack.Navigator>\r\n\t\t\t\t{!isSessionStarted && (\r\n\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\tname=\"Waiting\"\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcomponent={WaitingActive}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"ChooseGroup\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={ChooseGroup}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <Stack.Screen\r\n                    name=\"ChoosePower\"\r\n                    options={{\r\n                        ...optionsPrimary\r\n                    }}\r\n                    initialParams={{\r\n                        taskOrder: route.params.taskOrder,\r\n                    }}\r\n                    component={ChoosePower}\r\n                /> */}\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"WaitingBegin\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={WaitingBegin}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <Stack.Screen\r\n                    name=\"Transition\"\r\n                    options={{\r\n                        ...optionsPrimary\r\n                    }}\r\n                    initialParams={{\r\n                        taskOrder: route.params.taskOrder,\r\n                    }}\r\n                    component={Transition}\r\n                /> */}\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Question\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder,\r\n\t\t\t\t\t\tquestionOrder: 0\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Question}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"FinalScore\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={FinalScore}\r\n\t\t\t\t/>\r\n\t\t\t</Stack.Navigator>\r\n\t\t</DuringTaskContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default DuringTask;\r\n","export enum PosTaskQuestionType {\r\n\tSELECT_AND_SPEAKING = 'select&speaking',\r\n\tOPEN = 'open',\r\n\tFIll_BLANK = 'fill'\r\n}\r\n","import { Dispatch, SetStateAction, createContext, useState } from 'react';\r\nimport { PosTask } from '@interfaces/PosTask.interface';\r\n\r\ninterface PosTaskValues {\r\n\tdata: PosTask | null;\r\n\tsetData: Dispatch<SetStateAction<PosTask | null>>;\r\n\tindex: number;\r\n\tsetIndex: Dispatch<SetStateAction<number>>;\r\n}\r\n\r\nexport const PosTaskContext = createContext<PosTaskValues | null>(null);\r\n\r\nconst PosTaskProvider = ({ children }: { children: React.ReactNode }) => {\r\n\tconst [data, setData] = useState<PosTask | null>(null);\r\n\tconst [index, setIndex] = useState<number>(0);\r\n\r\n\treturn (\r\n\t\t<PosTaskContext.Provider value={{ data, setData, index, setIndex }}>\r\n\t\t\t{children}\r\n\t\t</PosTaskContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default PosTaskProvider;\r\n","import * as Haptics from 'expo-haptics';\r\n\r\nimport { ScrollView, StyleSheet, Text, TextInput, View } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport { FontAwesome5 } from '@expo/vector-icons';\r\nimport History from '@app/screens/Task/components/History';\r\nimport LoadingModal from '@app/screens/Task/components/LoadingModal';\r\nimport Modal from '@app/screens/Task/components/Modal';\r\nimport Option from '@app/screens/Task/components/Option';\r\nimport { PosTaskQuestion } from '@app/shared/interfaces/PosTaskQuestion.interface';\r\nimport Pressable from '@app/shared/components/Pressable';\r\nimport Record from '@app/screens/Task/components/Record';\r\nimport { Theme } from '@app/theme';\r\nimport Title from './components/Title';\r\nimport { set } from 'react-hook-form';\r\nimport usePlaySound from '@app/core/hooks/usePlaySound';\r\nimport usePosTask from '@app/core/hooks/Task/PosTask/usePosTask';\r\nimport useRecord from '@app/core/hooks/Task/PosTask/useRecord';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport useTheme from '@app/core/hooks/useTheme';\r\nimport useTime from '@app/core/hooks/useTime';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\nenum AnswerType {\r\n\tTEXT = 'TEXT',\r\n\tVOICE = 'VOICE'\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst Open = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PosTaskQuestion };\r\n\tconst { startTimer, stopTimer, time } = useTime();\r\n\tconst theme = useTheme();\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst [recording, setRecording] = useState<string>();\r\n\tconst [recorded, setRecorded] = useState(false);\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst { nextQuestion, sendPosTaskAnswer, loading } = usePosTask();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst [answerType, setAnswerType] = useState<AnswerType>();\r\n\tconst [textArea, setTextArea] = useState<string>('');\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\tconst [hasConfirm, setHasConfirm] = useState(false);\r\n\tconst { stopAudio } = useRecord();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst putAnswerType = (type: AnswerType) => {\r\n\t\tsetAnswerType(type);\r\n\t\tif (type === AnswerType.TEXT) setRecorded(true);\r\n\t};\r\n\r\n\tconst onPressConfirm = () => {\r\n\t\tsetHasConfirm(true);\r\n\t};\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetConfirmContainerStyle({});\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetShowModal(false);\r\n\t};\r\n\r\n\tconst sendAnswer = async () => {\r\n\t\tstopTimer();\r\n\t\tawait sendPosTaskAnswer({\r\n\t\t\ttaskOrder,\r\n\t\t\tquestionOrder: question.questionOrder,\r\n\t\t\tbody: {\r\n\t\t\t\tanswerSeconds: time,\r\n\t\t\t\taudioUri: recording,\r\n\t\t\t\ttext: textArea\r\n\t\t\t}\r\n\t\t});\r\n\t\tnextQuestion();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (hasConfirm) {\r\n\t\t\tif (answerType === AnswerType.TEXT) {\r\n\t\t\t\tif (textArea.length > 0) {\r\n\t\t\t\t\tplaySoundSuccess();\r\n\t\t\t\t\tsetConfirmContainerStyle({\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.green\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsendAnswer();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplaySoundWrong();\r\n\t\t\t\t\tsetConfirmContainerStyle({\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.red\r\n\t\t\t\t\t});\r\n\t\t\t\t\tHaptics.notificationAsync(\r\n\t\t\t\t\t\tHaptics.NotificationFeedbackType.Error\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetHasConfirm(false);\r\n\t\t\t\t\tsetShowModal(true);\r\n\t\t\t\t\tresetStates();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tstopAudio();\r\n\t\t\t\tplaySoundSuccess();\r\n\t\t\t\tsetConfirmContainerStyle({\r\n\t\t\t\t\tbackgroundColor: theme.colors.green\r\n\t\t\t\t});\r\n\t\t\t\tsendAnswer();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [hasConfirm]);\r\n\r\n\tuseEffect(() => {\r\n\t\tstartTimer();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScrollView style={styles.container}>\r\n\t\t\t\t<History\r\n\t\t\t\t\thistory={question.content}\r\n\t\t\t\t\tcharacter={question.character}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={{ flexDirection: 'column-reverse' }}>\r\n\t\t\t\t\t{answerType ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{recorded && (\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tonPressConfirm();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{answerType === AnswerType.TEXT ? (\r\n\t\t\t\t\t\t\t\t<View style={styles.writeContainer}>\r\n\t\t\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\t\t\tnumberOfLines={4}\r\n\t\t\t\t\t\t\t\t\t\tonChangeText={(text) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetTextArea(text)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={textArea}\r\n\t\t\t\t\t\t\t\t\t\tstyle={styles.textArea}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<View style={styles.recordContainer}>\r\n\t\t\t\t\t\t\t\t\t<Record\r\n\t\t\t\t\t\t\t\t\t\tblocked={false}\r\n\t\t\t\t\t\t\t\t\t\tminimumTime={5000}\r\n\t\t\t\t\t\t\t\t\t\tsetRecorded={setRecorded}\r\n\t\t\t\t\t\t\t\t\t\tsetRecording={setRecording}\r\n\t\t\t\t\t\t\t\t\t\tmaximumTime={60000}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<View style={styles.answerContainer}>\r\n\t\t\t\t\t\t\t<Pressable\r\n\t\t\t\t\t\t\t\tstyle={styles.chooseButton}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Responder con voz\"\r\n\t\t\t\t\t\t\t\taccessibilityHint=\"Presiona para responder con voz\"\r\n\t\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t\t\tonPress={() => putAnswerType(AnswerType.VOICE)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesome5\r\n\t\t\t\t\t\t\t\t\tname=\"microphone\"\r\n\t\t\t\t\t\t\t\t\tsize={60}\r\n\t\t\t\t\t\t\t\t\tcolor={'white'}\r\n\t\t\t\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Pressable>\r\n\t\t\t\t\t\t\t<Pressable\r\n\t\t\t\t\t\t\t\tstyle={styles.chooseButton}\r\n\t\t\t\t\t\t\t\taccessible={true}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Responder con texto\"\r\n\t\t\t\t\t\t\t\taccessibilityHint=\"Presiona para responder con texto\"\r\n\t\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t\t\tonPress={() => putAnswerType(AnswerType.TEXT)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Entypo name=\"pencil\" size={60} color=\"white\" />\r\n\t\t\t\t\t\t\t</Pressable>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Title hint={question.hint} />\r\n\t\t\t\t</View>\r\n\t\t\t</ScrollView>\r\n\t\t\t<Modal\r\n\t\t\t\tshowModal={showModal}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tcloseModal();\r\n\t\t\t\t}}\r\n\t\t\t\thelp={'No puedes dejar el campo vacío'}\r\n\t\t\t/>\r\n\t\t\t<LoadingModal showModal={loading} closeModal={() => {}} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tanswerContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tchooseButton: {\r\n\t\t\tbackgroundColor: theme.colors.darkGreen,\r\n\t\t\tborderRadius: theme.borderRadius.full,\r\n\t\t\twidth: 130,\r\n\t\t\theight: 130,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginHorizontal: 10,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 250,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 30\r\n\t\t},\r\n\t\trecordContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\ttextArea: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\twidth: '90%',\r\n\t\t\tflex: 1,\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: -120,\r\n\t\t\tpadding: 10,\r\n\t\t\ttextAlignVertical: 'top',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\twriteContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 70\r\n\t\t}\r\n\t});\r\n\r\nexport default Open;\r\n","import { useContext } from 'react';\r\nimport { PosTaskContext } from '../../../contexts/PosTaskContext';\r\n\r\nexport const usePosTaskContext = () => {\r\n\tconst context = useContext(PosTaskContext);\r\n\tif (!context) {\r\n\t\tthrow new Error(\r\n\t\t\t'usePosTaskContext must be used within a PosTaskContextProvider'\r\n\t\t);\r\n\t}\r\n\treturn context;\r\n};\r\n","import { useCallback, useState } from 'react';\r\n\r\nimport { Platform } from 'react-native';\r\nimport { PosTask } from '@interfaces/PosTask.interface';\r\nimport { PosTaskQuestion } from '@app/shared/interfaces/PosTaskQuestion.interface';\r\nimport { PosTaskQuestionType } from '@app/shared/enums/PosTaskQuestion.enum';\r\nimport axios from 'axios';\r\nimport { environment } from '@environments/environment';\r\nimport { errorHandler } from '../../../utils/errorHandler';\r\nimport useAuthStorage from '../../useAuthStorage';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { usePosTaskContext } from './usePosTaskContext';\r\nimport useTaskContext from '../useTaskContext';\r\n\r\nconst errors: Map<number, string> = new Map([\r\n\t[400, 'Recurso no encontrado'],\r\n\t[401, 'Error de autenticación'],\r\n\t[403, 'No está autorizado para acceder a este recurso'],\r\n\t[404, 'Recurso no encontrado'],\r\n\t[498, 'Su autenticación ha expirado'],\r\n\t[500, 'Un error inesperado ocurrido']\r\n]);\r\n\r\nconst usePosTask = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst [data, setData] = useState<PosTask | null>(null);\r\n\tconst authStorage = useAuthStorage();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst { index, data: dataContext, setIndex } = usePosTaskContext();\r\n\tconst { taskOrder, setProgress } = useTaskContext();\r\n\r\n\tconst getPosTask = useCallback(async (inputs: { taskOrder: number }) => {\r\n\t\tsetError(null);\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/postask/questions`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: 10000\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetData(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(response.data);\r\n\t\t\t}\r\n\t\t} catch (err: any) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(errorHandler(err, errors));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst sendPosTaskAnswer = useCallback(\r\n\t\tasync (inputs: {\r\n\t\t\ttaskOrder: number;\r\n\t\t\tquestionOrder: number;\r\n\t\t\tbody: {\r\n\t\t\t\tidOption?: number;\r\n\t\t\t\tanswerSeconds: number;\r\n\t\t\t\ttext?: string;\r\n\t\t\t\taudioUri?: string;\r\n\t\t\t};\r\n\t\t}) => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (inputs.body.audioUri) {\r\n\t\t\t\t\tif (Platform.OS === 'web') {\r\n\t\t\t\t\t\tconst response = await fetch(inputs.body.audioUri);\r\n\t\t\t\t\t\tconst audioBlob = await response.blob();\r\n\t\t\t\t\t\tformData.append('audio', audioBlob, 'audio.m4a');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tformData.append('audio', {\r\n\t\t\t\t\t\t\turi: inputs.body.audioUri,\r\n\t\t\t\t\t\t\ttype: 'audio/m4a',\r\n\t\t\t\t\t\t\tname: 'audio.m4a'\r\n\t\t\t\t\t\t} as any);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tformData.append('audio', '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tformData.append(\r\n\t\t\t\t\t'idOption',\r\n\t\t\t\t\tinputs.body.idOption?.toString() || ''\r\n\t\t\t\t);\r\n\t\t\t\tformData.append(\r\n\t\t\t\t\t'answerSeconds',\r\n\t\t\t\t\tinputs.body.answerSeconds.toString()\r\n\t\t\t\t);\r\n\t\t\t\tformData.append('text', inputs.body.text || '');\r\n\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/postask/questions/${inputs.questionOrder}`,\r\n\t\t\t\t\tformData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst nextQuestion = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!dataContext) return;\r\n\r\n\t\t\tif (index === dataContext.length) {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: 'Complete', params: { taskOrder } }]\r\n\t\t\t\t});\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst question: PosTaskQuestion = dataContext[index];\r\n\t\t\tlet name = '';\r\n\r\n\t\t\tswitch (question.type) {\r\n\t\t\t\tcase PosTaskQuestionType.SELECT_AND_SPEAKING:\r\n\t\t\t\t\tname = 'SelectAndSpeaking';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PosTaskQuestionType.OPEN:\r\n\t\t\t\t\tname = 'Open';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase PosTaskQuestionType.FIll_BLANK:\r\n\t\t\t\t\tname = 'FillBlank';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error('Invalid question type');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (name === '') {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: 'Complete', params: { taskOrder } }]\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnavigation.reset({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\troutes: [{ name: name, params: { question } }]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsetProgress((index + 1) / dataContext.length);\r\n\t\t\tsetIndex(index + 1);\r\n\t\t}, 250);\r\n\t};\r\n\r\n\tconst setPosTaskComplete = useCallback(\r\n\t\tasync (inputs: { taskOrder: number }) => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${environment.apiUrl}/tasks/${inputs.taskOrder}/postask/complete`,\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${await authStorage.getAccessToken()}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetError(errorHandler(err, errors));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn {\r\n\t\tloading,\r\n\t\terror,\r\n\t\tdata,\r\n\t\tgetPosTask,\r\n\t\tsetPosTaskComplete,\r\n\t\tsendPosTaskAnswer,\r\n\t\tnextQuestion\r\n\t};\r\n};\r\n\r\nexport default usePosTask;\r\n","import { View, Text, StyleSheet, Platform } from 'react-native';\r\nimport LottieView from 'lottie-react-native';\r\nimport Option from '@screens/Task/components/Option';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTaskContext from '@hooks/Task/useTaskContext';\r\nimport useTheme from '@hooks/useTheme';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePosTask from '@hooks/Task/PosTask/usePosTask';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Complete = () => {\r\n\tconst theme = useTheme();\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst { setPosTaskComplete } = usePosTask();\r\n\tconst navigation = useNavigation<any>();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/complete.wav'));\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tconst onButtonPress = () => {\r\n\t\tnavigation.reset({\r\n\t\t\tindex: 0,\r\n\t\t\troutes: [{ name: 'Home' }]\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPosTaskComplete({ taskOrder });\r\n\t\tplaySoundSuccess();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View>\r\n\t\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\tsource={require('@animations/celebration.json')}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: 500,\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\ttop: -80,\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\talignSelf: 'center'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\t¡Felicidades, has terminado este módulo!\r\n\t\t\t\t</Text>\r\n\t\t\t</View>\r\n\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t<LottieView\r\n\t\t\t\t\tsource={require('@animations/winningCup.json')}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tloop={false}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<View>\r\n\t\t\t\t<Option\r\n\t\t\t\t\ttext=\"Volver al menú\"\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonButtonPress();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontainerStyle={{}}\r\n\t\t\t\t\ttextStyle={{\r\n\t\t\t\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\t\t\t\tfontSize: theme.fontSize.xl\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tfontSize: theme.fontSize.xxxxxxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 20,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t},\r\n\t\tanimationsContainer: {\r\n\t\t\talignItems: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t}\r\n\t});\r\n\r\nexport default Complete;\r\n","import { StyleSheet, Text, View } from 'react-native';\r\n\r\nimport React from 'react';\r\nimport { Theme } from '@theme';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\ninterface Props {\r\n\ttext: string;\r\n}\r\n\r\nconst Instructions = ({ text }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={styles.container}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel={`Instrucciones: ${text}`}\r\n\t\t>\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t\t<View style={styles.line}></View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginBottom: 20\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tfontFamily: theme.fontWeight.bold\r\n\t\t},\r\n\t\tline: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\theight: 2,\r\n\t\t\twidth: '100%',\r\n\t\t\tmarginTop: 3,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\topacity: 0.1\r\n\t\t}\r\n\t});\r\n\r\nexport default Instructions;\r\n","import {\r\n\tView,\r\n\tText,\r\n\tModal as ModalNative,\r\n\tStyleSheet,\r\n\tPlatform\r\n} from 'react-native';\r\nimport React from 'react';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tshowModal: boolean;\r\n\tcloseModal: () => void;\r\n}\r\n\r\nconst LoadingModal = ({ showModal, closeModal }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\treturn (\r\n\t\t<ModalNative\r\n\t\t\tanimationType=\"fade\"\r\n\t\t\ttransparent={true}\r\n\t\t\tvisible={showModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\taccessible={true}\r\n\t\t\taccessibilityLabel=\"Retroalimentación\"\r\n\t\t>\r\n\t\t\t<View style={styles.modalContainer}>\r\n\t\t\t\t<View style={styles.modalView}>\r\n\t\t\t\t\t{currentPlatform !== 'web' && (\r\n\t\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\t\tsource={require('@assets/animations/waitingPigeon.json')}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tstyle={{ width: 150, height: 150 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Text style={styles.modalTitleText}>Cargando...</Text>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</ModalNative>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tmodalContainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t},\r\n\t\tmodalView: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tpaddingVertical: 10\r\n\t\t\t// flexDirection: 'row',\r\n\t\t},\r\n\t\tmodalTitleText: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\thelpContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmarginBottom: 40\r\n\t\t},\r\n\t\ticonContainer: {\r\n\t\t\tbackgroundColor: theme.colors.yellow,\r\n\t\t\tborderColor: theme.colors.black,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderRadius: theme.borderRadius.small,\r\n\t\t\tpaddingHorizontal: 5,\r\n\t\t\tmarginEnd: 10,\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\ticonText: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t},\r\n\t\thelpText: {\r\n\t\t\tfontSize: theme.fontSize.medium,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default LoadingModal;\r\n","import * as Haptics from 'expo-haptics';\r\n\r\nimport {\r\n\tAccessibilityInfo,\r\n\tImage,\r\n\tScrollView,\r\n\tStyleSheet,\r\n\tText,\r\n\tView\r\n} from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport Instructions from '../components/Instructions';\r\nimport LoadingModal from '@app/screens/Task/components/LoadingModal';\r\nimport Option from '@screens/Task/components/Option';\r\nimport { PosTaskQuestion } from '@interfaces/PosTaskQuestion.interface';\r\nimport { Theme } from '@theme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\nimport usePosTask from '@hooks/Task/PosTask/usePosTask';\r\nimport useTaskContext from '@hooks/Task/useTaskContext';\r\nimport useTextToSpeech from '@hooks/useTextToSpeech';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTime from '@hooks/useTime';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst FillBlank = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PosTaskQuestion };\r\n\tconst [containerStyleOptions, setContainerStyleOptions] = useState([{}]);\r\n\tconst [textStyleOptions, setTextStyleOptions] = useState([{}]);\r\n\tconst [blank, setBlank] = useState('       ');\r\n\tconst [optionIndex, setOptionIndex] = useState<number>(0);\r\n\tconst theme = useTheme();\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playSoundWrong = usePlaySound(require('@sounds/wrong.wav'));\r\n\tconst { nextQuestion, sendPosTaskAnswer, loading } = usePosTask();\r\n\tconst { speak } = useTextToSpeech();\r\n\tconst { startTimer, stopTimer, time } = useTime();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst afterBlank = question.content.split('_').slice(1).join('_');\r\n\tconst beforeBlank = question.content.split('_')[0];\r\n\r\n\tconst questionList = [beforeBlank, afterBlank];\r\n\r\n\tconst onPressOption = (id: number, index: number, correct: boolean) => {\r\n\t\tsetOptionIndex(index);\r\n\t\tspeak(question.options[index].content);\r\n\t\tconst newContainerStyleOptions = [...containerStyleOptions];\r\n\t\tconst newTextStyleOptions = [...textStyleOptions];\r\n\t\tconst color = correct ? theme.colors.green : theme.colors.red;\r\n\t\tplaySound(correct);\r\n\t\tnewContainerStyleOptions[index] = { backgroundColor: color };\r\n\t\tnewTextStyleOptions[index] = { color: theme.colors.white };\r\n\t\tsetBlank(question.options[index].content);\r\n\t\tif (!correct) {\r\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\r\n\t\t}\r\n\t\tsetContainerStyleOptions(newContainerStyleOptions);\r\n\t\tsetTextStyleOptions(newTextStyleOptions);\r\n\t\tsetTimeout(async () => {\r\n\t\t\tawait sendPosTaskAnswer({\r\n\t\t\t\ttaskOrder,\r\n\t\t\t\tquestionOrder: question.questionOrder,\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tidOption: id,\r\n\t\t\t\t\tanswerSeconds: time\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tnextQuestion();\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst playSound = (correct: boolean) => {\r\n\t\tif (correct) {\r\n\t\t\tplaySoundSuccess();\r\n\t\t} else {\r\n\t\t\tplaySoundWrong();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetContainerStyleOptions = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetContainerStyleOptions([{}]);\r\n\t\t\tsetBlank('       ');\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tAccessibilityInfo.announceForAccessibility(question.content);\r\n\t\tspeak(question.content.split('_'), question.lang);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tstartTimer();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScrollView style={styles.container}>\r\n\t\t\t\t<Instructions text=\"Selecciona la opción correcta para completar la frase\" />\r\n\t\t\t\t<Text style={styles.question}>\r\n\t\t\t\t\t{questionList[0]}\r\n\t\t\t\t\t<Text style={styles.underlineText}>{blank}</Text>\r\n\t\t\t\t\t{questionList[1]}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t{/* {loadingImage && <ActivityIndicator size=\"large\" color={theme.colors.black} />}\r\n\t\t\t\t\t{errorImage && <Text style={styles.errorMessage}>Un error inesperado ha ocurrido</Text>} */}\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\tsource={{ uri: question.imgUrl }}\r\n\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t\taccessible\r\n\t\t\t\t\t\taccessibilityLabel={question.imgAlt}\r\n\t\t\t\t\t\t// onLoadStart={() => setLoadingImage(true)}\r\n\t\t\t\t\t\t// onLoadEnd={() => setLoadingImage(false)}\r\n\t\t\t\t\t\t// onError={() => {\r\n\t\t\t\t\t\t// \tsetLoadingImage(false);\r\n\t\t\t\t\t\t// \tsetErrorImage(true);\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t\t{question.options.map((option, index) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\ttext={option.content}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tonPressOption(option.id, index, option.correct);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={containerStyleOptions[index]}\r\n\t\t\t\t\t\t\ttextStyle={textStyleOptions[index]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</View>\r\n\t\t\t</ScrollView>\r\n\t\t\t<LoadingModal showModal={loading} closeModal={() => {}} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\timageContainer: {\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\theight: 200,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tmarginTop: 60\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\tline: {\r\n\t\t\tbackgroundColor: theme.colors.black,\r\n\t\t\theight: 2,\r\n\t\t\twidth: 50,\r\n\t\t\tborderRadius: theme.borderRadius.medium\r\n\t\t},\r\n\t\tunderlineText: {\r\n\t\t\ttextDecorationLine: 'underline'\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tcolor: theme.colors.red,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tmarginTop: 20\r\n\t\t}\r\n\t});\r\n\r\nexport default FillBlank;\r\n","import {\r\n\tView,\r\n\tStyleSheet,\r\n\tActivityIndicator,\r\n\tPlatform,\r\n\tText\r\n} from 'react-native';\r\nimport ErrorScreen from '@components/ErrorScreen';\r\nimport LottieView from 'lottie-react-native';\r\n\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport usePosTask from '@app/core/hooks/Task/PosTask/usePosTask';\r\nimport useTheme from '@hooks/useTheme';\r\nimport { usePosTaskContext } from '@app/core/hooks/Task/PosTask/usePosTaskContext';\r\n\r\nimport { Theme } from '@theme';\r\n\r\nconst Loading = ({ route }: { route: any }) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst theme = useTheme();\r\n\tconst { getPosTask, data, nextQuestion, error } = usePosTask();\r\n\tconst { setData, data: dataContext } = usePosTaskContext();\r\n\tconst styles = getStyles(theme);\r\n\tconst currentPlatform = Platform.OS;\r\n\r\n\tuseFocusEffect(\r\n\t\tuseCallback(() => {\r\n\t\t\tconst getQuestion = async () => {\r\n\t\t\t\tconst data = await getPosTask({ taskOrder });\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tsetData(data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tgetQuestion();\r\n\t\t}, [])\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (dataContext) {\r\n\t\t\tnextQuestion();\r\n\t\t}\r\n\t}, [dataContext]);\r\n\r\n\tif (error)\r\n\t\treturn (\r\n\t\t\t<ErrorScreen\r\n\t\t\t\terror={error}\r\n\t\t\t\tretryAction={() => {\r\n\t\t\t\t\tgetPosTask({ taskOrder });\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View accessible={true} accessibilityLabel=\"Cargando\">\r\n\t\t\t\t{currentPlatform !== 'web' ? (\r\n\t\t\t\t\t<LottieView\r\n\t\t\t\t\t\tsource={require('@animations/loading.json')}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ActivityIndicator\r\n\t\t\t\t\t\tsize={50}\r\n\t\t\t\t\t\tcolor={theme.colors.black}\r\n\t\t\t\t\t\tstyle={styles.animation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tanimation: {\r\n\t\t\twidth: 200,\r\n\t\t\theight: 200,\r\n\t\t\talignSelf: 'center'\r\n\t\t\t// justifyContent: 'center',\r\n\t\t}\r\n\t});\r\n\r\nexport default Loading;\r\n","import { AccessibilityInfo, StyleSheet, Text, View } from 'react-native';\r\n\r\nimport { FontAwesome5 } from '@expo/vector-icons';\r\nimport Pressable from '@components/Pressable';\r\nimport { Theme } from '@theme';\r\nimport { useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\ninterface Props {\r\n\thint: string;\r\n}\r\n\r\nconst Title = ({ hint }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst toggleDialog = () => {\r\n\t\tAccessibilityInfo.announceForAccessibility(\r\n\t\t\t'Grábate diciendo respondiendo la pregunta. Recuerda: El audio debe durar más de 5 segundos y menos de 60 segundos'\r\n\t\t);\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.titleContainer}>\r\n\t\t\t<Text style={styles.title} accessibilityLabel=\"Respuesta\">\r\n\t\t\t\tRepuesta\r\n\t\t\t</Text>\r\n\t\t\t{hint && (\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tonPress={toggleDialog}\r\n\t\t\t\t\taccessibilityLabel=\"Intrucciones\"\r\n\t\t\t\t\taccessibilityHint=\"Doble click para tener una ayuda\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesome5\r\n\t\t\t\t\t\tname=\"question-circle\"\r\n\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\tcolor=\"black\"\r\n\t\t\t\t\t\taccessible={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{open && (\r\n\t\t\t\t\t\t<View style={styles.dialog} accessible={true}>\r\n\t\t\t\t\t\t\t<View style={styles.triangle}></View>\r\n\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\tstyle={styles.dialogText}\r\n\t\t\t\t\t\t\t\taccessibilityLabel=\"Recuerda: El audio debe durar más de 5 segundos y menos de 60 segundos\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text style={{ color: theme.colors.red }}>\r\n\t\t\t\t\t\t\t\t\tAyuda:\r\n\t\t\t\t\t\t\t\t</Text>{' '}\r\n\t\t\t\t\t\t\t\t{hint}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Pressable>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\ttitleContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\t// marginTop: 50,\r\n\t\t\tmarginBottom: 130,\r\n\t\t\talignItems: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginRight: 10\r\n\t\t},\r\n\t\tdialog: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: -15,\r\n\t\t\tright: -190,\r\n\t\t\tbackgroundColor: theme.colors.gray,\r\n\t\t\twidth: 170,\r\n\t\t\theight: 'auto',\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5\r\n\t\t},\r\n\t\ttriangle: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: -15,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderLeftWidth: 10,\r\n\t\t\tborderRightWidth: 10,\r\n\t\t\tborderBottomWidth: 10,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: theme.colors.gray,\r\n\t\t\ttransform: [{ rotate: '-90deg' }]\r\n\t\t},\r\n\t\tdialogText: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xs,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'left',\r\n\t\t\tmarginVertical: 5\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import { Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\n\r\nimport { Theme } from '@theme';\r\nimport { Dispatch, SetStateAction, useState } from 'react';\r\n\r\ninterface Props {\r\n\tcontent: string;\r\n\tcorrect: boolean;\r\n\tid: number;\r\n\tsetAnswered: Dispatch<SetStateAction<boolean>>;\r\n\tsetIdOptionSelected: Dispatch<SetStateAction<number>>;\r\n\tanswered: boolean;\r\n}\r\n\r\nconst Option = ({\r\n\tcontent,\r\n\tcorrect,\r\n\tid,\r\n\tsetAnswered,\r\n\tsetIdOptionSelected,\r\n\tanswered\r\n}: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst [selected, setSelected] = useState(false);\r\n\tconst [rigth, setRigth] = useState(false);\r\n\tconst playSuccessSound = usePlaySound(require('@sounds/success.wav'));\r\n\tconst playWrongSound = usePlaySound(require('@sounds/wrong.wav'));\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={getStyles(theme, selected, rigth).option}\r\n\t\t\tonPress={() => {\r\n\t\t\t\tif (!answered) {\r\n\t\t\t\t\tsetSelected(true);\r\n\t\t\t\t\tsetIdOptionSelected(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (correct) {\r\n\t\t\t\t\tplaySuccessSound();\r\n\t\t\t\t\tsetRigth(true);\r\n\t\t\t\t\tsetAnswered(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplayWrongSound();\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Text style={getStyles(theme, selected, rigth).optionText}>\r\n\t\t\t\t{content}\r\n\t\t\t</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme, selected: boolean, right: boolean) =>\r\n\tStyleSheet.create({\r\n\t\toption: {\r\n\t\t\tbackgroundColor: !selected\r\n\t\t\t\t? theme.colors.black\r\n\t\t\t\t: right\r\n\t\t\t\t? theme.colors.green\r\n\t\t\t\t: theme.colors.red,\r\n\t\t\twidth: '45%',\r\n\t\t\tpaddingVertical: 10,\r\n\t\t\tmarginHorizontal: 5,\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\toptionText: {\r\n\t\t\tcolor: theme.colors.white,\r\n\t\t\tfontSize: theme.fontSize.xl,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium\r\n\t\t}\r\n\t});\r\n\r\nexport default Option;\r\n","import { View, Text, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport Option from './Option';\r\nimport History from '@screens/Task/components/History';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\nimport { PosTaskQuestion } from '@interfaces/PosTaskQuestion.interface';\r\nimport { Dispatch, SetStateAction } from 'react';\r\n\r\ninterface Props {\r\n\tquestion: PosTaskQuestion;\r\n\tsetAnswered: Dispatch<SetStateAction<boolean>>;\r\n\tsetIdOptionSelected: Dispatch<SetStateAction<number>>;\r\n\tanswered: boolean;\r\n}\r\n\r\nconst Question = ({\r\n\tquestion,\r\n\tsetAnswered,\r\n\tsetIdOptionSelected,\r\n\tanswered\r\n}: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<View>\r\n\t\t\t<History\r\n\t\t\t\tcharacter={question.character}\r\n\t\t\t\thistory={question.content}\r\n\t\t\t/>\r\n\t\t\t{/* <Text style={styles.question}>{question.content}</Text> */}\r\n\t\t\t<View style={styles.optionsContainer}>\r\n\t\t\t\t{question.options.slice(0, 2).map((option) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\tkey={option.id}\r\n\t\t\t\t\t\tcontent={option.content}\r\n\t\t\t\t\t\tcorrect={option.correct}\r\n\t\t\t\t\t\tid={option.id}\r\n\t\t\t\t\t\tsetAnswered={setAnswered}\r\n\t\t\t\t\t\tsetIdOptionSelected={setIdOptionSelected}\r\n\t\t\t\t\t\tanswered={answered}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tquestion: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginHorizontal: 20\r\n\t\t},\r\n\t\toptionsContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginTop: 10\r\n\t\t}\r\n\t});\r\n\r\nexport default Question;\r\n","import { AccessibilityInfo, StyleSheet, Text, View } from 'react-native';\r\n\r\nimport { FontAwesome5 } from '@expo/vector-icons';\r\nimport Pressable from '@components/Pressable';\r\nimport { Theme } from '@theme';\r\nimport { useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nconst Title = () => {\r\n\tconst theme = useTheme();\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst toggleDialog = () => {\r\n\t\tAccessibilityInfo.announceForAccessibility(\r\n\t\t\t'Grábate diciendo la pregunta y su correspondiente respuesta. Recuerda: El audio debe durar más de 5 segundos y menos de 30 segundos'\r\n\t\t);\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.titleContainer}>\r\n\t\t\t<Text style={styles.title} accessibilityLabel=\"Grabación\">\r\n\t\t\t\tGrabación\r\n\t\t\t</Text>\r\n\t\t\t<Pressable\r\n\t\t\t\tonPress={toggleDialog}\r\n\t\t\t\taccessibilityLabel=\"Intrucciones\"\r\n\t\t\t\taccessibilityHint=\"Doble click para conocer las instrucciones para la grabación\"\r\n\t\t\t>\r\n\t\t\t\t<FontAwesome5\r\n\t\t\t\t\tname=\"question-circle\"\r\n\t\t\t\t\tsize={20}\r\n\t\t\t\t\tcolor=\"black\"\r\n\t\t\t\t\taccessible={false}\r\n\t\t\t\t/>\r\n\t\t\t\t{open && (\r\n\t\t\t\t\t<View style={styles.dialog} accessible={true}>\r\n\t\t\t\t\t\t<View style={styles.triangle}></View>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={styles.dialogText}\r\n\t\t\t\t\t\t\taccessibilityLabel=\"Grábate diciendo la pregunta y su correspondiente respuesta.\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGrábate diciendo la pregunta y su correspondiente\r\n\t\t\t\t\t\t\trespuesta.\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={styles.dialogText}\r\n\t\t\t\t\t\t\taccessibilityLabel=\"Recuerda: El audio debe durar más de 5 segundos y menos de 30 segundos\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={{ color: theme.colors.red }}>\r\n\t\t\t\t\t\t\t\tRecuerda:\r\n\t\t\t\t\t\t\t</Text>{' '}\r\n\t\t\t\t\t\t\tEl audio debe durar más de 5 segundos y menos de 30\r\n\t\t\t\t\t\t\tsegundos\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</Pressable>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\ttitleContainer: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 50,\r\n\t\t\tmarginBottom: 130,\r\n\t\t\talignItems: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xxl,\r\n\t\t\tfontFamily: theme.fontWeight.bold,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\tmarginRight: 10\r\n\t\t},\r\n\t\tdialog: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: -15,\r\n\t\t\tright: -190,\r\n\t\t\tbackgroundColor: theme.colors.gray,\r\n\t\t\twidth: 170,\r\n\t\t\theight: 'auto',\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5\r\n\t\t},\r\n\t\ttriangle: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: -15,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderLeftWidth: 10,\r\n\t\t\tborderRightWidth: 10,\r\n\t\t\tborderBottomWidth: 10,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: theme.colors.gray,\r\n\t\t\ttransform: [{ rotate: '-90deg' }]\r\n\t\t},\r\n\t\tdialogText: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.xs,\r\n\t\t\tfontFamily: theme.fontWeight.medium,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'left',\r\n\t\t\tmarginVertical: 5\r\n\t\t}\r\n\t});\r\n\r\nexport default Title;\r\n","import { ScrollView, StyleSheet, ToastAndroid, View } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport LoadingModal from '@app/screens/Task/components/LoadingModal';\r\nimport Option from '@app/screens/Task/components/Option';\r\nimport { PosTaskQuestion } from '@app/shared/interfaces/PosTaskQuestion.interface';\r\nimport QuestionComponent from './components/Question';\r\nimport Record from '@app/screens/Task/components/Record';\r\nimport { Theme } from '@theme';\r\nimport Title from './components/Title';\r\nimport usePlaySound from '@app/core/hooks/usePlaySound';\r\nimport usePosTask from '@app/core/hooks/Task/PosTask/usePosTask';\r\nimport useRecord from '@app/core/hooks/Task/PosTask/useRecord';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTime from '@hooks/useTime';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst CONFIRM_TEXT_STYLE_DEFAULT = (theme: Theme) => {\r\n\treturn {\r\n\t\tfontFamily: theme.fontWeight.regular,\r\n\t\tfontSize: theme.fontSize.xl\r\n\t};\r\n};\r\n\r\nconst SelectAndSpeaking = ({ route }: Props) => {\r\n\tconst { question } = route.params as { question: PosTaskQuestion };\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\tconst [answered, setAnswered] = useState(false);\r\n\tconst [idOptionSelected, setIdOptionSelected] = useState<number>(1);\r\n\tconst { taskOrder } = useTaskContext();\r\n\tconst { nextQuestion, sendPosTaskAnswer, loading } = usePosTask();\r\n\tconst { startTimer, stopTimer, time } = useTime();\r\n\tconst [confirmContainerStyle, setConfirmContainerStyle] = useState({});\r\n\tconst [confirmTextStyle, setConfirmTextStyle] = useState(\r\n\t\tCONFIRM_TEXT_STYLE_DEFAULT(theme)\r\n\t);\r\n\tconst playSoundSuccess = usePlaySound(require('@sounds/success.wav'));\r\n\tconst { stopAudio } = useRecord();\r\n\tconst [recorded, setRecorded] = useState(false);\r\n\tconst [hasConfirm, setHasConfirm] = useState(false);\r\n\tconst [recording, setRecording] = useState<string>();\r\n\r\n\tconst handlePressConfirm = async () => {\r\n\t\tif (hasConfirm) return;\r\n\t\tif (!answered) return;\r\n\t\tif (!recorded) return;\r\n\r\n\t\tsetHasConfirm(true);\r\n\t\tplaySoundSuccess();\r\n\t\tsetConfirmContainerStyle({ backgroundColor: theme.colors.green });\r\n\t\tstopAudio();\r\n\t\tawait sendPosTaskAnswer({\r\n\t\t\ttaskOrder,\r\n\t\t\tquestionOrder: question.questionOrder,\r\n\t\t\tbody: {\r\n\t\t\t\tidOption: idOptionSelected,\r\n\t\t\t\tanswerSeconds: time,\r\n\t\t\t\taudioUri: recording\r\n\t\t\t}\r\n\t\t});\r\n\t\tnextQuestion();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (answered) {\r\n\t\t\tToastAndroid.show(\r\n\t\t\t\t'Pregunta contestada, ahora debes grabarte diciendo la pregunta y la respuesta',\r\n\t\t\t\tToastAndroid.SHORT\r\n\t\t\t);\r\n\t\t}\r\n\t}, [answered]);\r\n\r\n\tuseEffect(() => {\r\n\t\tstartTimer();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScrollView style={styles.container}>\r\n\t\t\t\t<QuestionComponent\r\n\t\t\t\t\tquestion={question}\r\n\t\t\t\t\tsetAnswered={setAnswered}\r\n\t\t\t\t\tsetIdOptionSelected={setIdOptionSelected}\r\n\t\t\t\t\tanswered={answered}\r\n\t\t\t\t/>\r\n\t\t\t\t<Title />\r\n\t\t\t\t<View style={styles.secondaryContainer}>\r\n\t\t\t\t\t<Record\r\n\t\t\t\t\t\tblocked={!answered}\r\n\t\t\t\t\t\tminimumTime={5000}\r\n\t\t\t\t\t\tsetRecorded={setRecorded}\r\n\t\t\t\t\t\tsetRecording={setRecording}\r\n\t\t\t\t\t\tmaximumTime={30000}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t\t{recorded && (\r\n\t\t\t\t\t<View>\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\ttext=\"Confirmar\"\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\thandlePressConfirm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcontainerStyle={confirmContainerStyle}\r\n\t\t\t\t\t\t\ttextStyle={confirmTextStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<View style={styles.safeSpace} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)}\r\n\t\t\t</ScrollView>\r\n\t\t\t<LoadingModal showModal={loading} closeModal={() => {}} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\theight: '100%',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.small,\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tletterSpacing: theme.spacing.medium,\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 250,\r\n\t\t\tmarginHorizontal: 20,\r\n\t\t\tmarginTop: 30\r\n\t\t},\r\n\t\tsecondaryContainer: {\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\t\tsafeSpace: {\r\n\t\t\theight: 80\r\n\t\t}\r\n\t});\r\n\r\nexport default SelectAndSpeaking;\r\n","import Complete from './screens/Complete';\r\nimport FillBlank from './screens/FillBlank';\r\nimport Loading from './screens/Loading';\r\nimport { NativeStackNavigationOptions } from '@react-navigation/native-stack';\r\nimport Open from './screens/Open';\r\nimport PosTaskProvider from '@app/core/contexts/PosTaskContext';\r\nimport SelectAndSpeaking from './screens/SelectAndSpeaking';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\n\r\ninterface Props {\r\n\troute: any;\r\n}\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst PosTask = ({ route }: Props) => {\r\n\tconst optionsPrimary: NativeStackNavigationOptions = {\r\n\t\tanimation: 'slide_from_right',\r\n\t\theaderBackVisible: false,\r\n\t\theaderShown: false\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PosTaskProvider>\r\n\t\t\t<Stack.Navigator>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Loading\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\ttaskOrder: route.params.taskOrder\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Loading}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"SelectAndSpeaking\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={SelectAndSpeaking}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Open\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Open}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"FillBlank\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\tquestion: null\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={FillBlank}\r\n\t\t\t\t/>\r\n\t\t\t\t<Stack.Screen\r\n\t\t\t\t\tname=\"Complete\"\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcomponent={Complete}\r\n\t\t\t\t/>\r\n\t\t\t</Stack.Navigator>\r\n\t\t</PosTaskProvider>\r\n\t);\r\n};\r\n\r\nexport default PosTask;\r\n","import Pressable from './Pressable';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\nimport { Animated, Easing } from 'react-native';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport useTheme from '@hooks/useTheme';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\n\r\ninterface Props {\r\n\ticon?: keyof typeof AntDesign.glyphMap;\r\n\taccessibilityLabel?: string;\r\n}\r\n\r\nconst BackButton = ({ icon, accessibilityLabel }: Props) => {\r\n\tconst navigation = useNavigation();\r\n\tconst theme = useTheme();\r\n\tconst { resetContext } = useTaskContext();\r\n\tconst scaleValue = new Animated.Value(1);\r\n\r\n\tconst scaleButton = () => {\r\n\t\tAnimated.timing(scaleValue, {\r\n\t\t\ttoValue: 0.8,\r\n\t\t\tduration: 100,\r\n\t\t\teasing: Easing.linear,\r\n\t\t\tuseNativeDriver: true\r\n\t\t}).start(() => {\r\n\t\t\tAnimated.timing(scaleValue, {\r\n\t\t\t\ttoValue: 1,\r\n\t\t\t\tduration: 100,\r\n\t\t\t\teasing: Easing.linear,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t}).start(() => {\r\n\t\t\t\tresetContext();\r\n\t\t\t\tnavigation.goBack();\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tonPress={() => {\r\n\t\t\t\tscaleButton();\r\n\t\t\t}}\r\n\t\t\tstyle={{ padding: 6 }}\r\n\t\t\taccessibilityLabel={accessibilityLabel}\r\n\t\t>\r\n\t\t\t<Animated.View style={{ transform: [{ scale: scaleValue }] }}>\r\n\t\t\t\t<AntDesign\r\n\t\t\t\t\tname={icon ? icon : 'home'}\r\n\t\t\t\t\tsize={27}\r\n\t\t\t\t\tcolor={theme.colors.black}\r\n\t\t\t\t/>\r\n\t\t\t</Animated.View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nexport default BackButton;\r\n","import { Text, StyleSheet } from 'react-native';\r\nimport Pressable from './Pressable';\r\nimport { Theme } from '@theme';\r\nimport { Animated, Easing } from 'react-native';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport usePlaySound from '@hooks/usePlaySound';\r\n\r\ninterface Props {\r\n\tonPress: () => void;\r\n\taccessibilityLabel?: string;\r\n}\r\n\r\nconst ContinueButton = ({ onPress, accessibilityLabel }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst scaleValue = new Animated.Value(1);\r\n\tconst playSound = usePlaySound(require('@assets/sounds/success.wav'));\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst scaleButton = () => {\r\n\t\tAnimated.timing(scaleValue, {\r\n\t\t\ttoValue: 0.95,\r\n\t\t\tduration: 200,\r\n\t\t\teasing: Easing.linear,\r\n\t\t\tuseNativeDriver: true\r\n\t\t}).start(() => {\r\n\t\t\tAnimated.timing(scaleValue, {\r\n\t\t\t\ttoValue: 1,\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: Easing.linear,\r\n\t\t\t\tuseNativeDriver: true\r\n\t\t\t}).start(() => {\r\n\t\t\t\tplaySound();\r\n\t\t\t\tonPress();\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tonPress={() => {\r\n\t\t\t\tscaleButton();\r\n\t\t\t}}\r\n\t\t\taccessibilityLabel={accessibilityLabel}\r\n\t\t>\r\n\t\t\t<Animated.View style={{ transform: [{ scale: scaleValue }] }}>\r\n\t\t\t\t<Text style={styles.text}>Siguiente</Text>\r\n\t\t\t</Animated.View>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.black,\r\n\t\t\tfontSize: theme.fontSize.large,\r\n\t\t\tfontFamily: theme.fontWeight.bold\r\n\t\t}\r\n\t});\r\n\r\nexport default ContinueButton;\r\n","import { View, StyleSheet, Animated } from 'react-native';\r\nimport HomeButton from '@components/HomeButton';\r\nimport ContinueButton from '@components/ContinueButton';\r\nimport * as Progress from 'react-native-progress';\r\nimport AntDesign from '@expo/vector-icons/AntDesign';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport useTheme from '@hooks/useTheme';\r\n\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props {\r\n\tprogress?: number;\r\n\tshowNext?: boolean;\r\n\ticon?: keyof typeof AntDesign.glyphMap;\r\n\tonPress?: () => void;\r\n}\r\n\r\nconst Header = ({ progress, showNext, icon, onPress }: Props) => {\r\n\tconst theme = useTheme();\r\n\tconst [progressWidth, setProgressWidth] = useState(new Animated.Value(1));\r\n\tconst [continueOpacity, setContinueOpacity] = useState(\r\n\t\tnew Animated.Value(0)\r\n\t);\r\n\tconst [continueTranslateX, setContinueTranslateX] = useState(\r\n\t\tnew Animated.Value(50)\r\n\t);\r\n\tconst styles = getStyles(theme);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (showNext) {\r\n\t\t\tAnimated.parallel([\r\n\t\t\t\tAnimated.timing(progressWidth, {\r\n\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t}),\r\n\t\t\t\tAnimated.timing(continueOpacity, {\r\n\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t}),\r\n\t\t\t\tAnimated.timing(continueTranslateX, {\r\n\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\tuseNativeDriver: true\r\n\t\t\t\t})\r\n\t\t\t]).start();\r\n\t\t}\r\n\t}, [showNext, progressWidth, continueOpacity, continueTranslateX]);\r\n\r\n\treturn (\r\n\t\t<View style={styles.row}>\r\n\t\t\t<HomeButton icon={icon} accessibilityLabel=\"Volver al inicio\" />\r\n\t\t\t{progress && (\r\n\t\t\t\t<Progress.Bar\r\n\t\t\t\t\tprogress={progress}\r\n\t\t\t\t\twidth={null}\r\n\t\t\t\t\theight={5}\r\n\t\t\t\t\tcolor={theme.colors.black}\r\n\t\t\t\t\tstyle={{ flex: 1, marginHorizontal: 20 }}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{progress && onPress ? (\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: continueOpacity,\r\n\t\t\t\t\t\ttransform: [{ translateX: continueTranslateX }]\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showNext && (\r\n\t\t\t\t\t\t<ContinueButton\r\n\t\t\t\t\t\t\tonPress={onPress}\r\n\t\t\t\t\t\t\taccessibilityLabel=\"Continuar\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Animated.View>\r\n\t\t\t) : null}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\trow: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\tpaddingVertical: 10\r\n\t\t}\r\n\t});\r\n\r\nexport default Header;\r\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { NativeStackNavigationOptions } from '@react-navigation/native-stack';\r\n\r\nimport Introduction from './screens/Introduction';\r\nimport PreTask from './screens/PreTask/index';\r\nimport DuringTask from './screens/DuringTask';\r\nimport PosTask from './screens/PosTask';\r\nimport Header from './components/Header';\r\n\r\nimport { useEffect } from 'react';\r\nimport useTaskContext from '@app/core/hooks/Task/useTaskContext';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst Task = ({ route }: { route: any }) => {\r\n\tconst { taskOrder } = route.params;\r\n\tconst {\r\n\t\tphaseCompleted,\r\n\t\tonPressNext,\r\n\t\tprogress,\r\n\t\tsetPhaseCompleted,\r\n\t\tsetTaskOrder\r\n\t} = useTaskContext();\r\n\r\n\tconst optionsPrimary: NativeStackNavigationOptions = {\r\n\t\tanimation: 'slide_from_right',\r\n\t\theaderBackVisible: false,\r\n\t\theaderTitleStyle: {\r\n\t\t\tfontFamily: 'Poppins-Regular'\r\n\t\t},\r\n\t\theader: () => (\r\n\t\t\t<Header\r\n\t\t\t\tprogress={progress}\r\n\t\t\t\tshowNext={phaseCompleted}\r\n\t\t\t\tonPress={() => {\r\n\t\t\t\t\tsetPhaseCompleted(false);\r\n\t\t\t\t\tonPressNext();\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t)\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTaskOrder(taskOrder);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Stack.Navigator>\r\n\t\t\t<Stack.Screen\r\n\t\t\t\tname=\"Introduction\"\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t}}\r\n\t\t\t\tinitialParams={{\r\n\t\t\t\t\ttaskOrder: taskOrder\r\n\t\t\t\t}}\r\n\t\t\t\tcomponent={Introduction}\r\n\t\t\t/>\r\n\t\t\t<Stack.Screen\r\n\t\t\t\tname=\"PreTask\"\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...optionsPrimary,\r\n\t\t\t\t\theaderShown: true\r\n\t\t\t\t}}\r\n\t\t\t\tinitialParams={{\r\n\t\t\t\t\ttaskOrder: taskOrder,\r\n\t\t\t\t\tlinkOrder: 0\r\n\t\t\t\t}}\r\n\t\t\t\tcomponent={PreTask}\r\n\t\t\t/>\r\n\t\t\t<Stack.Screen\r\n\t\t\t\tname=\"DuringTask\"\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t}}\r\n\t\t\t\tinitialParams={{\r\n\t\t\t\t\ttaskOrder: taskOrder\r\n\t\t\t\t}}\r\n\t\t\t\tcomponent={DuringTask}\r\n\t\t\t/>\r\n\t\t\t<Stack.Screen\r\n\t\t\t\tname=\"PosTask\"\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t}}\r\n\t\t\t\tinitialParams={{\r\n\t\t\t\t\ttaskOrder: taskOrder,\r\n\t\t\t\t\tquestionOrder: 1\r\n\t\t\t\t}}\r\n\t\t\t\tcomponent={PosTask}\r\n\t\t\t/>\r\n\t\t</Stack.Navigator>\r\n\t);\r\n};\r\n\r\nexport default Task;\r\n","import { Text, Image, PressableProps, StyleSheet } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport { useState } from 'react';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\ninterface Props extends PressableProps {\r\n\ttext: string;\r\n\timage: any;\r\n}\r\n\r\nconst AccessibilityOption = ({ text, image, ...props }: Props) => {\r\n\tconst [isPressed, setIsPressed] = useState(false);\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\treturn (\r\n\t\t<Pressable\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\t{ marginRight: 8, opacity: isPressed ? 0.8 : 1 }\r\n\t\t\t]}\r\n\t\t\tonPressIn={() => setIsPressed(true)}\r\n\t\t\tonPressOut={() => setIsPressed(false)}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t<Image style={styles.image} source={image} />\r\n\t\t\t<Text style={styles.text}>{text}</Text>\r\n\t\t</Pressable>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tbackgroundColor: 'white',\r\n\t\t\tborderRadius: theme.borderRadius.small,\r\n\t\t\theight: 110,\r\n\t\t\twidth: 110,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 10\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: 'black',\r\n\t\t\tfontFamily: theme.fontWeight.regular,\r\n\t\t\tfontSize: 12,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 60,\r\n\t\t\theight: 60,\r\n\t\t\tmarginBottom: 5\r\n\t\t}\r\n\t});\r\n\r\nexport default AccessibilityOption;\r\n","export const invertColor = (hex: string) => {\r\n\tif (hex) {\r\n\t\tif (hex.indexOf('#') === 0) {\r\n\t\t\thex = hex.slice(1);\r\n\t\t}\r\n\t\t// convert 3-digit hex to 6-digits.\r\n\t\tif (hex.length === 3) {\r\n\t\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n\t\t}\r\n\t\tif (hex.length !== 6) {\r\n\t\t\tthrow new Error('Invalid HEX color.');\r\n\t\t}\r\n\t\t// invert color components\r\n\t\tconst r = (255 - parseInt(hex.slice(0, 2), 16)).toString(16);\r\n\t\tconst g = (255 - parseInt(hex.slice(2, 4), 16)).toString(16);\r\n\t\tconst b = (255 - parseInt(hex.slice(4, 6), 16)).toString(16);\r\n\t\t// pad each with zeros and return\r\n\t\treturn '#' + padZero(r) + padZero(g) + padZero(b);\r\n\t} else {\r\n\t\treturn '#000000';\r\n\t}\r\n};\r\n\r\nconst padZero = (str: string, len?: number) => {\r\n\tlen = len || 2;\r\n\tlet zeros = new Array(len).join('0');\r\n\treturn (zeros + str).slice(-len);\r\n};\r\n","import { View, StyleSheet } from 'react-native';\r\nimport { useContext, useState, useEffect, useRef } from 'react';\r\n\r\nimport { ThemeContext } from '@contexts/ThemeContext';\r\n\r\nimport AccessibilityOption from './AccessibilityOption';\r\n\r\nimport { Theme } from '@theme';\r\nimport setStatusBarBackgroundColor from 'expo-status-bar/build/setStatusBarBackgroundColor';\r\nimport setStatusBarStyle from 'expo-status-bar/build/setStatusBarStyle';\r\n\r\nimport { invertColor } from '@utils/invertColor';\r\n\r\ninterface OptionsProps {\r\n\tunShowOptions: () => void;\r\n}\r\n\r\n// TODO - Refactor this component to make it more readable\r\nconst Options = ({ unShowOptions }: OptionsProps) => {\r\n\tconst [highContrast, setHighContrast] = useState(false);\r\n\tconst [largeText, setLargeText] = useState(0);\r\n\tconst [fontFamily, setFontFamily] = useState(0);\r\n\tconst [spacing, setSpacing] = useState(0);\r\n\tconst [theme, modifyTheme] = useContext(ThemeContext);\r\n\tconst initialRender = useRef(true);\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst handleHighContrast = () => {\r\n\t\tsetHighContrast(!highContrast);\r\n\t};\r\n\r\n\tconst invertColors = (theme: Theme) => {\r\n\t\tconst newColors = Object.keys(theme.colors).map((key) => {\r\n\t\t\tconst colorKey = key as keyof Theme['colors'];\r\n\t\t\tif (colorKey !== 'green' && colorKey !== 'red')\r\n\t\t\t\ttheme.colors[colorKey] = invertColor(theme.colors[colorKey]);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\t...theme,\r\n\t\t\tcolors: {\r\n\t\t\t\t...theme.colors,\r\n\t\t\t\t...newColors\r\n\t\t\t},\r\n\t\t\tshadow: {\r\n\t\t\t\t...theme.shadow,\r\n\t\t\t\tshadowColor: invertColor(theme.shadow.shadowColor)\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialRender.current) {\r\n\t\t\tinitialRender.current = false;\r\n\t\t} else {\r\n\t\t\tmodifyTheme(invertColors(theme));\r\n\t\t\tsetStatusBarBackgroundColor(highContrast ? '#000' : '#fff', false);\r\n\t\t\tsetStatusBarStyle(highContrast ? 'light' : 'dark');\r\n\t\t}\r\n\t}, [highContrast]);\r\n\r\n\tconst handleLargeText = () => {\r\n\t\tif (largeText < 5) {\r\n\t\t\tsetLargeText(largeText + 1);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tfontSize: {\r\n\t\t\t\t\t...theme.fontSize,\r\n\t\t\t\t\txs: theme.fontSize.xs + 2,\r\n\t\t\t\t\tsmall: theme.fontSize.small + 2,\r\n\t\t\t\t\tmedium: theme.fontSize.medium + 2,\r\n\t\t\t\t\tlarge: theme.fontSize.large + 2,\r\n\t\t\t\t\txl: theme.fontSize.xl + 2,\r\n\t\t\t\t\txxl: theme.fontSize.xxl + 2,\r\n\t\t\t\t\txxxl: theme.fontSize.xxxl + 2,\r\n\t\t\t\t\txxxxl: theme.fontSize.xxxxl + 2,\r\n\t\t\t\t\txxxxxxl: theme.fontSize.xxxxxxl + 2\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLargeText(0);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tfontSize: {\r\n\t\t\t\t\t...theme.fontSize,\r\n\t\t\t\t\txs: 12,\r\n\t\t\t\t\tsmall: 14,\r\n\t\t\t\t\tmedium: 16,\r\n\t\t\t\t\tlarge: 18,\r\n\t\t\t\t\txl: 20,\r\n\t\t\t\t\txxl: 24,\r\n\t\t\t\t\txxxl: 28,\r\n\t\t\t\t\txxxxl: 32,\r\n\t\t\t\t\txxxxxl: 36,\r\n\t\t\t\t\txxxxxxl: 40\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleFontFamily = () => {\r\n\t\tif (fontFamily === 0) {\r\n\t\t\tsetFontFamily(fontFamily + 1);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tfontWeight: {\r\n\t\t\t\t\t...theme.fontWeight,\r\n\t\t\t\t\tregular: 'Roboto-Regular',\r\n\t\t\t\t\tmedium: 'Roboto-Medium',\r\n\t\t\t\t\tbold: 'Roboto-Bold'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (fontFamily === 1) {\r\n\t\t\tsetFontFamily(fontFamily + 1);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tfontWeight: {\r\n\t\t\t\t\t...theme.fontWeight,\r\n\t\t\t\t\tregular: 'Ubuntu-Regular',\r\n\t\t\t\t\tmedium: 'Ubuntu-SemiBold',\r\n\t\t\t\t\tbold: 'Ubuntu-Bold'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (fontFamily === 2) {\r\n\t\t\tsetFontFamily(0);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tfontWeight: {\r\n\t\t\t\t\t...theme.fontWeight,\r\n\t\t\t\t\tregular: 'Poppins-Regular',\r\n\t\t\t\t\tmedium: 'Poppins-Medium',\r\n\t\t\t\t\tbold: 'Poppins-Bold'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSpacing = () => {\r\n\t\tif (spacing < 4) {\r\n\t\t\tsetSpacing(spacing + 1);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tspacing: {\r\n\t\t\t\t\t...theme.spacing,\r\n\t\t\t\t\tmedium: theme.spacing.medium + 2,\r\n\t\t\t\t\tlarge: theme.spacing.large + 2\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetSpacing(0);\r\n\t\t\tmodifyTheme({\r\n\t\t\t\t...theme,\r\n\t\t\t\tspacing: {\r\n\t\t\t\t\t...theme.spacing,\r\n\t\t\t\t\tmedium: 0,\r\n\t\t\t\t\tlarge: 2\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View style={[styles.row, { marginBottom: 8 }]}>\r\n\t\t\t\t<AccessibilityOption\r\n\t\t\t\t\ttext=\"Alto contraste\"\r\n\t\t\t\t\timage={require('@icons/contrast.png')}\r\n\t\t\t\t\tonPress={handleHighContrast}\r\n\t\t\t\t/>\r\n\t\t\t\t<AccessibilityOption\r\n\t\t\t\t\ttext=\"Agrandar texto\"\r\n\t\t\t\t\timage={require('@icons/increaseFont.png')}\r\n\t\t\t\t\tonPress={handleLargeText}\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t\t<View style={[styles.row]}>\r\n\t\t\t\t<AccessibilityOption\r\n\t\t\t\t\ttext=\"Fuentes legibles\"\r\n\t\t\t\t\timage={require('@icons/fontFamily.png')}\r\n\t\t\t\t\tonPress={handleFontFamily}\r\n\t\t\t\t/>\r\n\t\t\t\t<AccessibilityOption\r\n\t\t\t\t\ttext=\"Aumentar espaciado\"\r\n\t\t\t\t\timage={require('@icons/spacing.png')}\r\n\t\t\t\t\tonPress={handleSpacing}\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t\t<View style={styles.triangle} />\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 80,\r\n\t\t\tright: 0,\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tborderRadius: theme.borderRadius.medium,\r\n\t\t\tpadding: 8,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\t...theme.shadow\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\ttriangle: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: -15,\r\n\t\t\tright: 5,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tborderLeftWidth: 20,\r\n\t\t\tborderRightWidth: 20,\r\n\t\t\tborderBottomWidth: 20,\r\n\t\t\tborderLeftColor: 'transparent',\r\n\t\t\tborderRightColor: 'transparent',\r\n\t\t\tborderBottomColor: 'black',\r\n\t\t\ttransform: [{ rotate: '180deg' }]\r\n\t\t}\r\n\t});\r\n\r\nexport default Options;\r\n","import { View, StyleSheet, Image, Dimensions } from 'react-native';\r\nimport Pressable from '@components/Pressable';\r\nimport { useState } from 'react';\r\n\r\nimport Options from './Options';\r\n\r\nimport useTheme from '@hooks/useTheme';\r\nimport { Theme } from '@theme';\r\n\r\nconst Accessibility = () => {\r\n\tconst [showOptions, setShowOptions] = useState(false);\r\n\tconst theme = useTheme();\r\n\tconst styles = getStyles(theme);\r\n\r\n\tconst unShowOptions = () => {\r\n\t\tsetShowOptions(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showOptions && (\r\n\t\t\t\t<Pressable style={styles.transparent} onPress={unShowOptions} />\r\n\t\t\t)}\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t{showOptions && <Options unShowOptions={unShowOptions} />}\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tonPress={() => setShowOptions(!showOptions)}\r\n\t\t\t\t\taccessible={true}\r\n\t\t\t\t\taccessibilityLabel=\"Opciones de accesibilidad\"\r\n\t\t\t\t\taccessibilityHint=\"Alternar funciones accesibles\"\r\n\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={styles.image}\r\n\t\t\t\t\t\tsource={require('@icons/accessibility.png')}\r\n\t\t\t\t\t\tresizeMode=\"contain\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Pressable>\r\n\t\t\t</View>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst getStyles = (theme: Theme) =>\r\n\tStyleSheet.create({\r\n\t\ttransparent: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\theight: Dimensions.get('window').height,\r\n\t\t\twidth: Dimensions.get('window').width,\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tbottom: 0\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tflex: 1,\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 20,\r\n\t\t\tright: 20\r\n\t\t},\r\n\t\timage: {\r\n\t\t\twidth: 55,\r\n\t\t\theight: 55\r\n\t\t}\r\n\t});\r\n\r\nexport default Accessibility;\r\n","import { StyleSheet, Platform, StatusBar } from 'react-native';\r\n\r\nexport default StyleSheet.create({\r\n\tAndroidSafeArea: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: 'white',\r\n\t\tpaddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0\r\n\t}\r\n});\r\n","import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nclass AuthStorage {\r\n\tnamespace: string;\r\n\r\n\tconstructor(namespace = 'auth') {\r\n\t\tthis.namespace = namespace;\r\n\t}\r\n\r\n\tasync getAccessToken() {\r\n\t\tconst accessToken = await AsyncStorage.getItem(\r\n\t\t\t`${this.namespace}:accessToken`\r\n\t\t);\r\n\r\n\t\treturn accessToken && JSON.parse(accessToken);\r\n\t}\r\n\r\n\tasync setAccessToken(accessToken: String) {\r\n\t\tawait AsyncStorage.setItem(\r\n\t\t\t`${this.namespace}:accessToken`,\r\n\t\t\tJSON.stringify(accessToken)\r\n\t\t);\r\n\t}\r\n\r\n\tasync removeAccessToken() {\r\n\t\tawait AsyncStorage.removeItem(`${this.namespace}:accessToken`);\r\n\t}\r\n}\r\n\r\nexport default AuthStorage;\r\n","import { NavigationContainer, ParamListBase } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { useFonts } from 'expo-font';\r\nimport { NativeStackNavigationOptions } from '@react-navigation/native-stack';\r\nimport { SafeAreaView } from 'react-native';\r\nimport { StatusBar } from 'expo-status-bar';\r\n\r\nimport Login from '@screens/Login';\r\nimport Home from '@screens/Home';\r\nimport Task from '@screens/Task';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { ThemeProvider } from '@contexts/ThemeContext';\r\nimport { AuthStorageContext } from '@contexts/AuthStorageContext';\r\nimport { TaskProvider } from '@contexts/TaskContext';\r\nimport { RecordProvider } from '@app/core/contexts/RecordContext';\r\n\r\nimport Accessibility from '@components/AccessibilityMenu';\r\nimport SafeAreaViewAndroid from '@components/SafeAreaViewAndroid';\r\nimport AuthStorage from '@utils/authStorage';\r\n\r\nconst Stack = createNativeStackNavigator<ParamListBase>();\r\n\r\nconst optionsPrimary: NativeStackNavigationOptions = {\r\n\tanimation: 'fade_from_bottom',\r\n\theaderBackVisible: false,\r\n\theaderShown: false,\r\n\theaderTitleStyle: {\r\n\t\tfontFamily: 'Poppins-Regular'\r\n\t}\r\n};\r\n\r\nexport default function App() {\r\n\tconst [loaded] = useFonts({\r\n\t\t'Poppins-Regular': require('@fonts/Poppins/Poppins-Regular.ttf'),\r\n\t\t'Poppins-Medium': require('@fonts/Poppins/Poppins-Medium.ttf'),\r\n\t\t'Poppins-Bold': require('@fonts/Poppins/Poppins-Bold.ttf'),\r\n\t\t'Roboto-Regular': require('@fonts/Roboto/Roboto-Regular.ttf'),\r\n\t\t'Roboto-Medium': require('@fonts/Roboto/Roboto-Medium.ttf'),\r\n\t\t'Roboto-Bold': require('@fonts/Roboto/Roboto-Bold.ttf'),\r\n\t\t'Ubuntu-Regular': require('@fonts/Ubuntu/Ubuntu-Regular.ttf'),\r\n\t\t'Ubuntu-Medium': require('@fonts/Ubuntu/Ubuntu-Medium.ttf'),\r\n\t\t'Ubuntu-Bold': require('@fonts/Ubuntu/Ubuntu-Bold.ttf')\r\n\t});\r\n\r\n\tconst [isLogged, setIsLogged] = useState(false);\r\n\tconst authStorage = new AuthStorage();\r\n\r\n\tuseEffect(() => {\r\n\t\tauthStorage.getAccessToken().then((token) => {\r\n\t\t\tif (token) {\r\n\t\t\t\tsetIsLogged(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tif (!loaded) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<StatusBar />\r\n\t\t\t<SafeAreaView style={SafeAreaViewAndroid.AndroidSafeArea}>\r\n\t\t\t\t<AuthStorageContext.Provider value={authStorage}>\r\n\t\t\t\t\t<RecordProvider>\r\n\t\t\t\t\t\t<TaskProvider>\r\n\t\t\t\t\t\t\t<ThemeProvider>\r\n\t\t\t\t\t\t\t\t<NavigationContainer>\r\n\t\t\t\t\t\t\t\t\t<Stack.Navigator>\r\n\t\t\t\t\t\t\t\t\t\t{!isLogged ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"Login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Login}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"Home\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Home}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"Home\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Home}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"Login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Login}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Stack.Screen\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"Task\"\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent={Task}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t...optionsPrimary\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tinitialParams={{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttaskOrder: 0\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Stack.Navigator>\r\n\t\t\t\t\t\t\t\t\t<Accessibility />\r\n\t\t\t\t\t\t\t\t</NavigationContainer>\r\n\t\t\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t\t\t</TaskProvider>\r\n\t\t\t\t\t</RecordProvider>\r\n\t\t\t\t</AuthStorageContext.Provider>\r\n\t\t\t</SafeAreaView>\r\n\t\t</>\r\n\t);\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/tap.c4deaf96.wav\";","module.exports = __webpack_public_path__ + \"static/media/loginSucceeded.faa23a55.wav\";","module.exports = __webpack_public_path__ + \"static/media/loginFailed.9ea1e44e.wav\";","module.exports = __webpack_public_path__ + \"static/media/flashcard.b72a5c49.wav\";","module.exports = __webpack_public_path__ + \"static/media/startRecording.1e149785.wav\";","module.exports = __webpack_public_path__ + \"static/media/stopRecording.7f49d7ab.wav\";","module.exports = __webpack_public_path__ + \"static/media/choose_habitat_1.01a6a1fe.jpg\";","module.exports = __webpack_public_path__ + \"static/media/contrast.2bdb4427.png\";","module.exports = __webpack_public_path__ + \"static/media/increaseFont.8f2ad84e.png\";","module.exports = __webpack_public_path__ + \"static/media/fontFamily.6df3dac5.png\";","module.exports = __webpack_public_path__ + \"static/media/spacing.2200ef40.png\";","module.exports = __webpack_public_path__ + \"static/media/accessibility.b1b2c82e.png\";","module.exports = __webpack_public_path__ + \"./fonts/Poppins-Regular.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Poppins-Medium.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Poppins-Bold.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Roboto-Regular.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Roboto-Medium.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Roboto-Bold.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Ubuntu-Regular.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Ubuntu-Medium.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Ubuntu-Bold.ttf\";","module.exports = __webpack_public_path__ + \"static/media/success.652fbedd.wav\";","module.exports = __webpack_public_path__ + \"static/media/wrong.7842dcde.wav\";"],"sourceRoot":""}